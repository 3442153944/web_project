var nh=Object.defineProperty;var oh=(t,e,s)=>e in t?nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var ft=(t,e,s)=>(oh(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Za(t,e){const s=new Set(t.split(","));return n=>s.has(n)}const Rt={},ln=[],ke=()=>{},ih=()=>!1,yi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),tl=t=>t.startsWith("onUpdate:"),Vt=Object.assign,el=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ah=Object.prototype.hasOwnProperty,Tt=(t,e)=>ah.call(t,e),_t=Array.isArray,rn=t=>_o(t)==="[object Map]",bi=t=>_o(t)==="[object Set]",ir=t=>_o(t)==="[object Date]",wt=t=>typeof t=="function",Bt=t=>typeof t=="string",ts=t=>typeof t=="symbol",Pt=t=>t!==null&&typeof t=="object",vu=t=>(Pt(t)||wt(t))&&wt(t.then)&&wt(t.catch),wu=Object.prototype.toString,_o=t=>wu.call(t),lh=t=>_o(t).slice(8,-1),yu=t=>_o(t)==="[object Object]",sl=t=>Bt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Un=Za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ki=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},rh=/-(\w)/g,Be=ki(t=>t.replace(rh,(e,s)=>s?s.toUpperCase():"")),ch=/\B([A-Z])/g,Ks=ki(t=>t.replace(ch,"-$1").toLowerCase()),xi=ki(t=>t.charAt(0).toUpperCase()+t.slice(1)),Yi=ki(t=>t?`on${xi(t)}`:""),vs=(t,e)=>!Object.is(t,e),Vo=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},bu=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},ni=t=>{const e=parseFloat(t);return isNaN(e)?t:e},uh=t=>{const e=Bt(t)?Number(t):NaN;return isNaN(e)?t:e};let ar;const ku=()=>ar||(ar=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pe(t){if(_t(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],o=Bt(n)?fh(n):pe(n);if(o)for(const i in o)e[i]=o[i]}return e}else if(Bt(t)||Pt(t))return t}const _h=/;(?![^(]*\))/g,dh=/:([^]+)/,hh=/\/\*[^]*?\*\//g;function fh(t){const e={};return t.replace(hh,"").split(_h).forEach(s=>{if(s){const n=s.split(dh);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function yt(t){let e="";if(Bt(t))e=t;else if(_t(t))for(let s=0;s<t.length;s++){const n=yt(t[s]);n&&(e+=n+" ")}else if(Pt(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const gh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ph=Za(gh);function xu(t){return!!t||t===""}function mh(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=dn(t[n],e[n]);return s}function dn(t,e){if(t===e)return!0;let s=ir(t),n=ir(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=ts(t),n=ts(e),s||n)return t===e;if(s=_t(t),n=_t(e),s||n)return s&&n?mh(t,e):!1;if(s=Pt(t),n=Pt(e),s||n){if(!s||!n)return!1;const o=Object.keys(t).length,i=Object.keys(e).length;if(o!==i)return!1;for(const a in t){const l=t.hasOwnProperty(a),c=e.hasOwnProperty(a);if(l&&!c||!l&&c||!dn(t[a],e[a]))return!1}}return String(t)===String(e)}function vh(t,e){return t.findIndex(s=>dn(s,e))}const S=t=>Bt(t)?t:t==null?"":_t(t)||Pt(t)&&(t.toString===wu||!wt(t.toString))?JSON.stringify(t,$u,2):String(t),$u=(t,e)=>e&&e.__v_isRef?$u(t,e.value):rn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,o],i)=>(s[Ji(n,i)+" =>"]=o,s),{})}:bi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Ji(s))}:ts(e)?Ji(e):Pt(e)&&!_t(e)&&!yu(e)?String(e):e,Ji=(t,e="")=>{var s;return ts(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ee;class wh{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ee,!e&&Ee&&(this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=Ee;try{return Ee=this,e()}finally{Ee=s}}}on(){Ee=this}off(){Ee=this.parent}stop(e){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function yh(t,e=Ee){e&&e.active&&e.effects.push(t)}function bh(){return Ee}let Bs;class nl{constructor(e,s,n,o){this.fn=e,this.trigger=s,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,yh(this,o)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,xs();for(let e=0;e<this._depsLength;e++){const s=this.deps[e];if(s.computed&&(kh(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),$s()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=fs,s=Bs;try{return fs=!0,Bs=this,this._runnings++,lr(this),this.fn()}finally{rr(this),this._runnings--,Bs=s,fs=e}}stop(){this.active&&(lr(this),rr(this),this.onStop&&this.onStop(),this.active=!1)}}function kh(t){return t.value}function lr(t){t._trackId++,t._depsLength=0}function rr(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Su(t.deps[e],t);t.deps.length=t._depsLength}}function Su(t,e){const s=t.get(e);s!==void 0&&e._trackId!==s&&(t.delete(e),t.size===0&&t.cleanup())}let fs=!0,wa=0;const Tu=[];function xs(){Tu.push(fs),fs=!1}function $s(){const t=Tu.pop();fs=t===void 0?!0:t}function ol(){wa++}function il(){for(wa--;!wa&&ya.length;)ya.shift()()}function Cu(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&Su(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ya=[];function Eu(t,e,s){ol();for(const n of t.keys()){let o;n._dirtyLevel<e&&(o??(o=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(o??(o=t.get(n)===n._trackId))&&(n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&ya.push(n.scheduler)))}il()}const Au=(t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s},ba=new WeakMap,Gs=Symbol(""),ka=Symbol("");function ue(t,e,s){if(fs&&Bs){let n=ba.get(t);n||ba.set(t,n=new Map);let o=n.get(s);o||n.set(s,o=Au(()=>n.delete(s))),Cu(Bs,o)}}function qe(t,e,s,n,o,i){const a=ba.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(s==="length"&&_t(t)){const c=Number(n);a.forEach((u,_)=>{(_==="length"||!ts(_)&&_>=c)&&l.push(u)})}else switch(s!==void 0&&l.push(a.get(s)),e){case"add":_t(t)?sl(s)&&l.push(a.get("length")):(l.push(a.get(Gs)),rn(t)&&l.push(a.get(ka)));break;case"delete":_t(t)||(l.push(a.get(Gs)),rn(t)&&l.push(a.get(ka)));break;case"set":rn(t)&&l.push(a.get(Gs));break}ol();for(const c of l)c&&Eu(c,4);il()}const xh=Za("__proto__,__v_isRef,__isVue"),Ou=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ts)),cr=$h();function $h(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const n=St(this);for(let i=0,a=this.length;i<a;i++)ue(n,"get",i+"");const o=n[e](...s);return o===-1||o===!1?n[e](...s.map(St)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){xs(),ol();const n=St(this)[e].apply(this,s);return il(),$s(),n}}),t}function Sh(t){ts(t)||(t=String(t));const e=St(this);return ue(e,"has",t),e.hasOwnProperty(t)}class Iu{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){const o=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!o;if(s==="__v_isReadonly")return o;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(o?i?jh:Du:i?Lu:Pu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=_t(e);if(!o){if(a&&Tt(cr,s))return Reflect.get(cr,s,n);if(s==="hasOwnProperty")return Sh}const l=Reflect.get(e,s,n);return(ts(s)?Ou.has(s):xh(s))||(o||ue(e,"get",s),i)?l:mt(l)?a&&sl(s)?l:l.value:Pt(l)?o?Ru(l):ws(l):l}}class Mu extends Iu{constructor(e=!1){super(!1,e)}set(e,s,n,o){let i=e[s];if(!this._isShallow){const c=to(i);if(!oi(n)&&!to(n)&&(i=St(i),n=St(n)),!_t(e)&&mt(i)&&!mt(n))return c?!1:(i.value=n,!0)}const a=_t(e)&&sl(s)?Number(s)<e.length:Tt(e,s),l=Reflect.set(e,s,n,o);return e===St(o)&&(a?vs(n,i)&&qe(e,"set",s,n):qe(e,"add",s,n)),l}deleteProperty(e,s){const n=Tt(e,s);e[s];const o=Reflect.deleteProperty(e,s);return o&&n&&qe(e,"delete",s,void 0),o}has(e,s){const n=Reflect.has(e,s);return(!ts(s)||!Ou.has(s))&&ue(e,"has",s),n}ownKeys(e){return ue(e,"iterate",_t(e)?"length":Gs),Reflect.ownKeys(e)}}class Th extends Iu{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ch=new Mu,Eh=new Th,Ah=new Mu(!0);const al=t=>t,$i=t=>Reflect.getPrototypeOf(t);function ko(t,e,s=!1,n=!1){t=t.__v_raw;const o=St(t),i=St(e);s||(vs(e,i)&&ue(o,"get",e),ue(o,"get",i));const{has:a}=$i(o),l=n?al:s?cl:eo;if(a.call(o,e))return l(t.get(e));if(a.call(o,i))return l(t.get(i));t!==o&&t.get(e)}function xo(t,e=!1){const s=this.__v_raw,n=St(s),o=St(t);return e||(vs(t,o)&&ue(n,"has",t),ue(n,"has",o)),t===o?s.has(t):s.has(t)||s.has(o)}function $o(t,e=!1){return t=t.__v_raw,!e&&ue(St(t),"iterate",Gs),Reflect.get(t,"size",t)}function ur(t){t=St(t);const e=St(this);return $i(e).has.call(e,t)||(e.add(t),qe(e,"add",t,t)),this}function _r(t,e){e=St(e);const s=St(this),{has:n,get:o}=$i(s);let i=n.call(s,t);i||(t=St(t),i=n.call(s,t));const a=o.call(s,t);return s.set(t,e),i?vs(e,a)&&qe(s,"set",t,e):qe(s,"add",t,e),this}function dr(t){const e=St(this),{has:s,get:n}=$i(e);let o=s.call(e,t);o||(t=St(t),o=s.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return o&&qe(e,"delete",t,void 0),i}function hr(){const t=St(this),e=t.size!==0,s=t.clear();return e&&qe(t,"clear",void 0,void 0),s}function So(t,e){return function(n,o){const i=this,a=i.__v_raw,l=St(a),c=e?al:t?cl:eo;return!t&&ue(l,"iterate",Gs),a.forEach((u,_)=>n.call(o,c(u),c(_),i))}}function To(t,e,s){return function(...n){const o=this.__v_raw,i=St(o),a=rn(i),l=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,u=o[t](...n),_=s?al:e?cl:eo;return!e&&ue(i,"iterate",c?ka:Gs),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:l?[_(d[0]),_(d[1])]:_(d),done:h}},[Symbol.iterator](){return this}}}}function ss(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Oh(){const t={get(i){return ko(this,i)},get size(){return $o(this)},has:xo,add:ur,set:_r,delete:dr,clear:hr,forEach:So(!1,!1)},e={get(i){return ko(this,i,!1,!0)},get size(){return $o(this)},has:xo,add:ur,set:_r,delete:dr,clear:hr,forEach:So(!1,!0)},s={get(i){return ko(this,i,!0)},get size(){return $o(this,!0)},has(i){return xo.call(this,i,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:So(!0,!1)},n={get(i){return ko(this,i,!0,!0)},get size(){return $o(this,!0)},has(i){return xo.call(this,i,!0)},add:ss("add"),set:ss("set"),delete:ss("delete"),clear:ss("clear"),forEach:So(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=To(i,!1,!1),s[i]=To(i,!0,!1),e[i]=To(i,!1,!0),n[i]=To(i,!0,!0)}),[t,s,e,n]}const[Ih,Mh,Ph,Lh]=Oh();function ll(t,e){const s=e?t?Lh:Ph:t?Mh:Ih;return(n,o,i)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(Tt(s,o)&&o in n?s:n,o,i)}const Dh={get:ll(!1,!1)},Rh={get:ll(!1,!0)},Nh={get:ll(!0,!1)};const Pu=new WeakMap,Lu=new WeakMap,Du=new WeakMap,jh=new WeakMap;function Fh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zh(t){return t.__v_skip||!Object.isExtensible(t)?0:Fh(lh(t))}function ws(t){return to(t)?t:rl(t,!1,Ch,Dh,Pu)}function Uh(t){return rl(t,!1,Ah,Rh,Lu)}function Ru(t){return rl(t,!0,Eh,Nh,Du)}function rl(t,e,s,n,o){if(!Pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=o.get(t);if(i)return i;const a=zh(t);if(a===0)return t;const l=new Proxy(t,a===2?n:s);return o.set(t,l),l}function Hn(t){return to(t)?Hn(t.__v_raw):!!(t&&t.__v_isReactive)}function to(t){return!!(t&&t.__v_isReadonly)}function oi(t){return!!(t&&t.__v_isShallow)}function Si(t){return t?!!t.__v_raw:!1}function St(t){const e=t&&t.__v_raw;return e?St(e):t}function Hh(t){return Object.isExtensible(t)&&bu(t,"__v_skip",!0),t}const eo=t=>Pt(t)?ws(t):t,cl=t=>Pt(t)?Ru(t):t;class Nu{constructor(e,s,n,o){this.getter=e,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new nl(()=>e(this._value),()=>Ko(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=St(this);return(!e._cacheable||e.effect.dirty)&&vs(e._value,e._value=e.effect.run())&&Ko(e,4),ju(e),e.effect._dirtyLevel>=2&&Ko(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Bh(t,e,s=!1){let n,o;const i=wt(t);return i?(n=t,o=ke):(n=t.get,o=t.set),new Nu(n,o,i||!o,s)}function ju(t){var e;fs&&Bs&&(t=St(t),Cu(Bs,(e=t.dep)!=null?e:t.dep=Au(()=>t.dep=void 0,t instanceof Nu?t:void 0)))}function Ko(t,e=4,s){t=St(t);const n=t.dep;n&&Eu(n,e)}function mt(t){return!!(t&&t.__v_isRef===!0)}function y(t){return zu(t,!1)}function Fu(t){return zu(t,!0)}function zu(t,e){return mt(t)?t:new Gh(t,e)}class Gh{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:St(e),this._value=s?e:eo(e)}get value(){return ju(this),this._value}set value(e){const s=this.__v_isShallow||oi(e)||to(e);e=s?e:St(e),vs(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:eo(e),Ko(this,4))}}function $(t){return mt(t)?t.value:t}const Wh={get:(t,e,s)=>$(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const o=t[e];return mt(o)&&!mt(s)?(o.value=s,!0):Reflect.set(t,e,s,n)}};function Uu(t){return Hn(t)?t:new Proxy(t,Wh)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gs(t,e,s,n){try{return n?t(...n):t()}catch(o){Ti(o,e,s)}}function Se(t,e,s,n){if(wt(t)){const o=gs(t,e,s,n);return o&&vu(o)&&o.catch(i=>{Ti(i,e,s)}),o}if(_t(t)){const o=[];for(let i=0;i<t.length;i++)o.push(Se(t[i],e,s,n));return o}}function Ti(t,e,s,n=!0){const o=e?e.vnode:null;if(e){let i=e.parent;const a=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${s}`;for(;i;){const u=i.ec;if(u){for(let _=0;_<u.length;_++)if(u[_](t,a,l)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){xs(),gs(c,null,10,[t,a,l]),$s();return}}Vh(t,s,o,n)}function Vh(t,e,s,n=!0){console.error(t)}let so=!1,xa=!1;const te=[];let He=0;const cn=[];let as=null,js=0;const Hu=Promise.resolve();let ul=null;function fe(t){const e=ul||Hu;return t?e.then(this?t.bind(this):t):e}function Kh(t){let e=He+1,s=te.length;for(;e<s;){const n=e+s>>>1,o=te[n],i=no(o);i<t||i===t&&o.pre?e=n+1:s=n}return e}function _l(t){(!te.length||!te.includes(t,so&&t.allowRecurse?He+1:He))&&(t.id==null?te.push(t):te.splice(Kh(t.id),0,t),Bu())}function Bu(){!so&&!xa&&(xa=!0,ul=Hu.then(Wu))}function Yh(t){const e=te.indexOf(t);e>He&&te.splice(e,1)}function Jh(t){_t(t)?cn.push(...t):(!as||!as.includes(t,t.allowRecurse?js+1:js))&&cn.push(t),Bu()}function fr(t,e,s=so?He+1:0){for(;s<te.length;s++){const n=te[s];if(n&&n.pre){if(t&&n.id!==t.uid)continue;te.splice(s,1),s--,n()}}}function Gu(t){if(cn.length){const e=[...new Set(cn)].sort((s,n)=>no(s)-no(n));if(cn.length=0,as){as.push(...e);return}for(as=e,js=0;js<as.length;js++)as[js]();as=null,js=0}}const no=t=>t.id==null?1/0:t.id,qh=(t,e)=>{const s=no(t)-no(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function Wu(t){xa=!1,so=!0,te.sort(qh);try{for(He=0;He<te.length;He++){const e=te[He];e&&e.active!==!1&&gs(e,null,14)}}finally{He=0,te.length=0,Gu(),so=!1,ul=null,(te.length||cn.length)&&Wu()}}function Qh(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||Rt;let o=s;const i=e.startsWith("update:"),a=i&&e.slice(7);if(a&&a in n){const _=`${a==="modelValue"?"model":a}Modifiers`,{number:d,trim:h}=n[_]||Rt;h&&(o=s.map(g=>Bt(g)?g.trim():g)),d&&(o=s.map(ni))}let l,c=n[l=Yi(e)]||n[l=Yi(Be(e))];!c&&i&&(c=n[l=Yi(Ks(e))]),c&&Se(c,t,6,o);const u=n[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Se(u,t,6,o)}}function Vu(t,e,s=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const i=t.emits;let a={},l=!1;if(!wt(t)){const c=u=>{const _=Vu(u,e,!0);_&&(l=!0,Vt(a,_))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(Pt(t)&&n.set(t,null),null):(_t(i)?i.forEach(c=>a[c]=null):Vt(a,i),Pt(t)&&n.set(t,a),a)}function Ci(t,e){return!t||!yi(e)?!1:(e=e.slice(2).replace(/Once$/,""),Tt(t,e[0].toLowerCase()+e.slice(1))||Tt(t,Ks(e))||Tt(t,e))}let ne=null,Ei=null;function ii(t){const e=ne;return ne=t,Ei=t&&t.type.__scopeId||null,e}function et(t){Ei=t}function st(){Ei=null}function Ai(t,e=ne,s){if(!e||t._n)return t;const n=(...o)=>{n._d&&Tr(-1);const i=ii(e);let a;try{a=t(...o)}finally{ii(i),n._d&&Tr(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function qi(t){const{type:e,vnode:s,proxy:n,withProxy:o,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:_,props:d,data:h,setupState:g,ctx:w,inheritAttrs:f}=t,p=ii(t);let m,b;try{if(s.shapeFlag&4){const A=o||n,I=A;m=Ue(u.call(I,A,_,d,g,h,w)),b=l}else{const A=e;m=Ue(A.length>1?A(d,{attrs:l,slots:a,emit:c}):A(d,null)),b=e.props?l:Xh(l)}}catch(A){Vn.length=0,Ti(A,t,1),m=W(xe)}let x=m;if(b&&f!==!1){const A=Object.keys(b),{shapeFlag:I}=x;A.length&&I&7&&(i&&A.some(tl)&&(b=Zh(b,i)),x=ys(x,b,!1,!0))}return s.dirs&&(x=ys(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&(x.transition=s.transition),m=x,ii(p),m}const Xh=t=>{let e;for(const s in t)(s==="class"||s==="style"||yi(s))&&((e||(e={}))[s]=t[s]);return e},Zh=(t,e)=>{const s={};for(const n in t)(!tl(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function tf(t,e,s){const{props:n,children:o,component:i}=t,{props:a,children:l,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?gr(n,a,u):!!a;if(c&8){const _=e.dynamicProps;for(let d=0;d<_.length;d++){const h=_[d];if(a[h]!==n[h]&&!Ci(u,h))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:n===a?!1:n?a?gr(n,a,u):!0:!!a;return!1}function gr(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const i=n[o];if(e[i]!==t[i]&&!Ci(s,i))return!0}return!1}function ef({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const dl="components",sf="directives";function Ku(t,e){return hl(dl,t,!0,e)||t}const Yu=Symbol.for("v-ndc");function nf(t){return Bt(t)?hl(dl,t,!1)||t:t||Yu}function of(t){return hl(sf,t)}function hl(t,e,s=!0,n=!1){const o=ne||Jt;if(o){const i=o.type;if(t===dl){const l=eg(i,!1);if(l&&(l===e||l===Be(e)||l===xi(Be(e))))return i}const a=pr(o[t]||i[t],e)||pr(o.appContext[t],e);return!a&&n?i:a}}function pr(t,e){return t&&(t[e]||t[Be(e)]||t[xi(Be(e))])}const af=t=>t.__isSuspense;function lf(t,e){e&&e.pendingBranch?_t(t)?e.effects.push(...t):e.effects.push(t):Jh(t)}const rf=Symbol.for("v-scx"),cf=()=>Wn(rf),Co={};function K(t,e,s){return Ju(t,e,s)}function Ju(t,e,{immediate:s,deep:n,flush:o,once:i,onTrack:a,onTrigger:l}=Rt){if(e&&i){const T=e;e=(...D)=>{T(...D),I()}}const c=Jt,u=T=>n===!0?T:zs(T,n===!1?1:void 0);let _,d=!1,h=!1;if(mt(t)?(_=()=>t.value,d=oi(t)):Hn(t)?(_=()=>u(t),d=!0):_t(t)?(h=!0,d=t.some(T=>Hn(T)||oi(T)),_=()=>t.map(T=>{if(mt(T))return T.value;if(Hn(T))return u(T);if(wt(T))return gs(T,c,2)})):wt(t)?e?_=()=>gs(t,c,2):_=()=>(g&&g(),Se(t,c,3,[w])):_=ke,e&&n){const T=_;_=()=>zs(T())}let g,w=T=>{g=x.onStop=()=>{gs(T,c,4),g=x.onStop=void 0}},f;if(Di)if(w=ke,e?s&&Se(e,c,3,[_(),h?[]:void 0,w]):_(),o==="sync"){const T=cf();f=T.__watcherHandles||(T.__watcherHandles=[])}else return ke;let p=h?new Array(t.length).fill(Co):Co;const m=()=>{if(!(!x.active||!x.dirty))if(e){const T=x.run();(n||d||(h?T.some((D,C)=>vs(D,p[C])):vs(T,p)))&&(g&&g(),Se(e,c,3,[T,p===Co?void 0:h&&p[0]===Co?[]:p,w]),p=T)}else x.run()};m.allowRecurse=!!e;let b;o==="sync"?b=m:o==="post"?b=()=>ae(m,c&&c.suspense):(m.pre=!0,c&&(m.id=c.uid),b=()=>_l(m));const x=new nl(_,ke,b),A=bh(),I=()=>{x.stop(),A&&el(A.effects,x)};return e?s?m():p=x.run():o==="post"?ae(x.run.bind(x),c&&c.suspense):x.run(),f&&f.push(I),I}function uf(t,e,s){const n=this.proxy,o=Bt(t)?t.includes(".")?qu(n,t):()=>n[t]:t.bind(n,n);let i;wt(e)?i=e:(i=e.handler,s=e);const a=ho(this),l=Ju(o,i.bind(n),s);return a(),l}function qu(t,e){const s=e.split(".");return()=>{let n=t;for(let o=0;o<s.length&&n;o++)n=n[s[o]];return n}}function zs(t,e=1/0,s){if(e<=0||!Pt(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,mt(t))zs(t.value,e,s);else if(_t(t))for(let n=0;n<t.length;n++)zs(t[n],e,s);else if(bi(t)||rn(t))t.forEach(n=>{zs(n,e,s)});else if(yu(t))for(const n in t)zs(t[n],e,s);return t}function gt(t,e){if(ne===null)return t;const s=Ri(ne)||ne.proxy,n=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[i,a,l,c=Rt]=e[o];i&&(wt(i)&&(i={mounted:i,updated:i}),i.deep&&zs(a),n.push({dir:i,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Es(t,e,s,n){const o=t.dirs,i=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];i&&(l.oldValue=i[a].value);let c=l.dir[n];c&&(xs(),Se(c,s,8,[t.el,l,t,e]),$s())}}const ls=Symbol("_leaveCb"),Eo=Symbol("_enterCb");function _f(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Q(()=>{t.isMounted=!0}),e_(()=>{t.isUnmounting=!0}),t}const ye=[Function,Array],Qu={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ye,onEnter:ye,onAfterEnter:ye,onEnterCancelled:ye,onBeforeLeave:ye,onLeave:ye,onAfterLeave:ye,onLeaveCancelled:ye,onBeforeAppear:ye,onAppear:ye,onAfterAppear:ye,onAppearCancelled:ye},df={name:"BaseTransition",props:Qu,setup(t,{slots:e}){const s=qf(),n=_f();return()=>{const o=e.default&&Zu(e.default(),!0);if(!o||!o.length)return;let i=o[0];if(o.length>1){for(const h of o)if(h.type!==xe){i=h;break}}const a=St(t),{mode:l}=a;if(n.isLeaving)return Qi(i);const c=mr(i);if(!c)return Qi(i);const u=$a(c,a,n,s);Sa(c,u);const _=s.subTree,d=_&&mr(_);if(d&&d.type!==xe&&!Fs(c,d)){const h=$a(d,a,n,s);if(Sa(d,h),l==="out-in"&&c.type!==xe)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},Qi(i);l==="in-out"&&c.type!==xe&&(h.delayLeave=(g,w,f)=>{const p=Xu(n,d);p[String(d.key)]=d,g[ls]=()=>{w(),g[ls]=void 0,delete u.delayedLeave},u.delayedLeave=f})}return i}}},hf=df;function Xu(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function $a(t,e,s,n){const{appear:o,mode:i,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:_,onBeforeLeave:d,onLeave:h,onAfterLeave:g,onLeaveCancelled:w,onBeforeAppear:f,onAppear:p,onAfterAppear:m,onAppearCancelled:b}=e,x=String(t.key),A=Xu(s,t),I=(C,P)=>{C&&Se(C,n,9,P)},T=(C,P)=>{const j=P[1];I(C,P),_t(C)?C.every(G=>G.length<=1)&&j():C.length<=1&&j()},D={mode:i,persisted:a,beforeEnter(C){let P=l;if(!s.isMounted)if(o)P=f||l;else return;C[ls]&&C[ls](!0);const j=A[x];j&&Fs(t,j)&&j.el[ls]&&j.el[ls](),I(P,[C])},enter(C){let P=c,j=u,G=_;if(!s.isMounted)if(o)P=p||c,j=m||u,G=b||_;else return;let R=!1;const ot=C[Eo]=ct=>{R||(R=!0,ct?I(G,[C]):I(j,[C]),D.delayedLeave&&D.delayedLeave(),C[Eo]=void 0)};P?T(P,[C,ot]):ot()},leave(C,P){const j=String(t.key);if(C[Eo]&&C[Eo](!0),s.isUnmounting)return P();I(d,[C]);let G=!1;const R=C[ls]=ot=>{G||(G=!0,P(),ot?I(w,[C]):I(g,[C]),C[ls]=void 0,A[j]===t&&delete A[j])};A[j]=t,h?T(h,[C,R]):R()},clone(C){return $a(C,e,s,n)}};return D}function Qi(t){if(Ii(t))return t=ys(t),t.children=null,t}function mr(t){if(!Ii(t))return t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&wt(s.default))return s.default()}}function Sa(t,e){t.shapeFlag&6&&t.component?Sa(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Zu(t,e=!1,s){let n=[],o=0;for(let i=0;i<t.length;i++){let a=t[i];const l=s==null?a.key:String(s)+String(a.key!=null?a.key:i);a.type===Z?(a.patchFlag&128&&o++,n=n.concat(Zu(a.children,e,l))):(e||a.type!==xe)&&n.push(l!=null?ys(a,{key:l}):a)}if(o>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Oi(t,e){return wt(t)?Vt({name:t.name},e,{setup:t}):t}const Yo=t=>!!t.type.__asyncLoader,Ii=t=>t.type.__isKeepAlive;function ff(t,e){t_(t,"a",e)}function gf(t,e){t_(t,"da",e)}function t_(t,e,s=Jt){const n=t.__wdc||(t.__wdc=()=>{let o=s;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Mi(e,n,s),s){let o=s.parent;for(;o&&o.parent;)Ii(o.parent.vnode)&&pf(n,e,s,o),o=o.parent}}function pf(t,e,s,n){const o=Mi(e,t,n,!0);Le(()=>{el(n[e],o)},s)}function Mi(t,e,s=Jt,n=!1){if(s){const o=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...a)=>{if(s.isUnmounted)return;xs();const l=ho(s),c=Se(e,s,t,a);return l(),$s(),c});return n?o.unshift(i):o.push(i),i}}const es=t=>(e,s=Jt)=>(!Di||t==="sp")&&Mi(t,(...n)=>e(...n),s),mf=es("bm"),Q=es("m"),vf=es("bu"),wf=es("u"),e_=es("bum"),Le=es("um"),yf=es("sp"),bf=es("rtg"),kf=es("rtc");function xf(t,e=Jt){Mi("ec",t,e)}function rt(t,e,s,n){let o;const i=s;if(_t(t)||Bt(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,i)}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,i)}else if(Pt(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];o[l]=e(t[u],u,l,i)}}else o=[];return o}const Ta=t=>t?p_(t)?Ri(t)||t.proxy:Ta(t.parent):null,Bn=Vt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ta(t.parent),$root:t=>Ta(t.root),$emit:t=>t.emit,$options:t=>fl(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,_l(t.update)}),$nextTick:t=>t.n||(t.n=fe.bind(t.proxy)),$watch:t=>uf.bind(t)}),Xi=(t,e)=>t!==Rt&&!t.__isScriptSetup&&Tt(t,e),$f={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:o,props:i,accessCache:a,type:l,appContext:c}=t;let u;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return o[e];case 4:return s[e];case 3:return i[e]}else{if(Xi(n,e))return a[e]=1,n[e];if(o!==Rt&&Tt(o,e))return a[e]=2,o[e];if((u=t.propsOptions[0])&&Tt(u,e))return a[e]=3,i[e];if(s!==Rt&&Tt(s,e))return a[e]=4,s[e];Ca&&(a[e]=0)}}const _=Bn[e];let d,h;if(_)return e==="$attrs"&&ue(t.attrs,"get",""),_(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(s!==Rt&&Tt(s,e))return a[e]=4,s[e];if(h=c.config.globalProperties,Tt(h,e))return h[e]},set({_:t},e,s){const{data:n,setupState:o,ctx:i}=t;return Xi(o,e)?(o[e]=s,!0):n!==Rt&&Tt(n,e)?(n[e]=s,!0):Tt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:o,propsOptions:i}},a){let l;return!!s[a]||t!==Rt&&Tt(t,a)||Xi(e,a)||(l=i[0])&&Tt(l,a)||Tt(n,a)||Tt(Bn,a)||Tt(o.config.globalProperties,a)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Tt(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function vr(t){return _t(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Ca=!0;function Sf(t){const e=fl(t),s=t.proxy,n=t.ctx;Ca=!1,e.beforeCreate&&wr(e.beforeCreate,t,"bc");const{data:o,computed:i,methods:a,watch:l,provide:c,inject:u,created:_,beforeMount:d,mounted:h,beforeUpdate:g,updated:w,activated:f,deactivated:p,beforeDestroy:m,beforeUnmount:b,destroyed:x,unmounted:A,render:I,renderTracked:T,renderTriggered:D,errorCaptured:C,serverPrefetch:P,expose:j,inheritAttrs:G,components:R,directives:ot,filters:ct}=e;if(u&&Tf(u,n,null),a)for(const Y in a){const z=a[Y];wt(z)&&(n[Y]=z.bind(s))}if(o){const Y=o.call(s,s);Pt(Y)&&(t.data=ws(Y))}if(Ca=!0,i)for(const Y in i){const z=i[Y],tt=wt(z)?z.bind(s,s):wt(z.get)?z.get.bind(s,s):ke,bt=!wt(z)&&wt(z.set)?z.set.bind(s):ke,at=kt({get:tt,set:bt});Object.defineProperty(n,Y,{enumerable:!0,configurable:!0,get:()=>at.value,set:dt=>at.value=dt})}if(l)for(const Y in l)s_(l[Y],n,s,Y);if(c){const Y=wt(c)?c.call(s):c;Reflect.ownKeys(Y).forEach(z=>{Mf(z,Y[z])})}_&&wr(_,t,"c");function L(Y,z){_t(z)?z.forEach(tt=>Y(tt.bind(s))):z&&Y(z.bind(s))}if(L(mf,d),L(Q,h),L(vf,g),L(wf,w),L(ff,f),L(gf,p),L(xf,C),L(kf,T),L(bf,D),L(e_,b),L(Le,A),L(yf,P),_t(j))if(j.length){const Y=t.exposed||(t.exposed={});j.forEach(z=>{Object.defineProperty(Y,z,{get:()=>s[z],set:tt=>s[z]=tt})})}else t.exposed||(t.exposed={});I&&t.render===ke&&(t.render=I),G!=null&&(t.inheritAttrs=G),R&&(t.components=R),ot&&(t.directives=ot)}function Tf(t,e,s=ke){_t(t)&&(t=Ea(t));for(const n in t){const o=t[n];let i;Pt(o)?"default"in o?i=Wn(o.from||n,o.default,!0):i=Wn(o.from||n):i=Wn(o),mt(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[n]=i}}function wr(t,e,s){Se(_t(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function s_(t,e,s,n){const o=n.includes(".")?qu(s,n):()=>s[n];if(Bt(t)){const i=e[t];wt(i)&&K(o,i)}else if(wt(t))K(o,t.bind(s));else if(Pt(t))if(_t(t))t.forEach(i=>s_(i,e,s,n));else{const i=wt(t.handler)?t.handler.bind(s):e[t.handler];wt(i)&&K(o,i,t)}}function fl(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,l=i.get(e);let c;return l?c=l:!o.length&&!s&&!n?c=e:(c={},o.length&&o.forEach(u=>ai(c,u,a,!0)),ai(c,e,a)),Pt(e)&&i.set(e,c),c}function ai(t,e,s,n=!1){const{mixins:o,extends:i}=e;i&&ai(t,i,s,!0),o&&o.forEach(a=>ai(t,a,s,!0));for(const a in e)if(!(n&&a==="expose")){const l=Cf[a]||s&&s[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const Cf={data:yr,props:br,emits:br,methods:Dn,computed:Dn,beforeCreate:se,created:se,beforeMount:se,mounted:se,beforeUpdate:se,updated:se,beforeDestroy:se,beforeUnmount:se,destroyed:se,unmounted:se,activated:se,deactivated:se,errorCaptured:se,serverPrefetch:se,components:Dn,directives:Dn,watch:Af,provide:yr,inject:Ef};function yr(t,e){return e?t?function(){return Vt(wt(t)?t.call(this,this):t,wt(e)?e.call(this,this):e)}:e:t}function Ef(t,e){return Dn(Ea(t),Ea(e))}function Ea(t){if(_t(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function se(t,e){return t?[...new Set([].concat(t,e))]:e}function Dn(t,e){return t?Vt(Object.create(null),t,e):e}function br(t,e){return t?_t(t)&&_t(e)?[...new Set([...t,...e])]:Vt(Object.create(null),vr(t),vr(e??{})):e}function Af(t,e){if(!t)return e;if(!e)return t;const s=Vt(Object.create(null),t);for(const n in e)s[n]=se(t[n],e[n]);return s}function n_(){return{app:null,config:{isNativeTag:ih,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Of=0;function If(t,e){return function(n,o=null){wt(n)||(n=Vt({},n)),o!=null&&!Pt(o)&&(o=null);const i=n_(),a=new WeakSet;let l=!1;const c=i.app={_uid:Of++,_component:n,_props:o,_container:null,_context:i,_instance:null,version:v_,get config(){return i.config},set config(u){},use(u,..._){return a.has(u)||(u&&wt(u.install)?(a.add(u),u.install(c,..._)):wt(u)&&(a.add(u),u(c,..._))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,_){return _?(i.components[u]=_,c):i.components[u]},directive(u,_){return _?(i.directives[u]=_,c):i.directives[u]},mount(u,_,d){if(!l){const h=W(n,o);return h.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),_&&e?e(h,u):t(h,u,d),l=!0,c._container=u,u.__vue_app__=c,Ri(h.component)||h.component.proxy}},unmount(){l&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,_){return i.provides[u]=_,c},runWithContext(u){const _=Gn;Gn=c;try{return u()}finally{Gn=_}}};return c}}let Gn=null;function Mf(t,e){if(Jt){let s=Jt.provides;const n=Jt.parent&&Jt.parent.provides;n===s&&(s=Jt.provides=Object.create(n)),s[t]=e}}function Wn(t,e,s=!1){const n=Jt||ne;if(n||Gn){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Gn._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return s&&wt(e)?e.call(n&&n.proxy):e}}const o_={},i_=()=>Object.create(o_),a_=t=>Object.getPrototypeOf(t)===o_;function Pf(t,e,s,n=!1){const o={},i=i_();t.propsDefaults=Object.create(null),l_(t,e,o,i);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);s?t.props=n?o:Uh(o):t.type.props?t.props=o:t.props=i,t.attrs=i}function Lf(t,e,s,n){const{props:o,attrs:i,vnode:{patchFlag:a}}=t,l=St(o),[c]=t.propsOptions;let u=!1;if((n||a>0)&&!(a&16)){if(a&8){const _=t.vnode.dynamicProps;for(let d=0;d<_.length;d++){let h=_[d];if(Ci(t.emitsOptions,h))continue;const g=e[h];if(c)if(Tt(i,h))g!==i[h]&&(i[h]=g,u=!0);else{const w=Be(h);o[w]=Aa(c,l,w,g,t,!1)}else g!==i[h]&&(i[h]=g,u=!0)}}}else{l_(t,e,o,i)&&(u=!0);let _;for(const d in l)(!e||!Tt(e,d)&&((_=Ks(d))===d||!Tt(e,_)))&&(c?s&&(s[d]!==void 0||s[_]!==void 0)&&(o[d]=Aa(c,l,d,void 0,t,!0)):delete o[d]);if(i!==l)for(const d in i)(!e||!Tt(e,d))&&(delete i[d],u=!0)}u&&qe(t.attrs,"set","")}function l_(t,e,s,n){const[o,i]=t.propsOptions;let a=!1,l;if(e)for(let c in e){if(Un(c))continue;const u=e[c];let _;o&&Tt(o,_=Be(c))?!i||!i.includes(_)?s[_]=u:(l||(l={}))[_]=u:Ci(t.emitsOptions,c)||(!(c in n)||u!==n[c])&&(n[c]=u,a=!0)}if(i){const c=St(s),u=l||Rt;for(let _=0;_<i.length;_++){const d=i[_];s[d]=Aa(o,c,d,u[d],t,!Tt(u,d))}}return a}function Aa(t,e,s,n,o,i){const a=t[s];if(a!=null){const l=Tt(a,"default");if(l&&n===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&wt(c)){const{propsDefaults:u}=o;if(s in u)n=u[s];else{const _=ho(o);n=u[s]=c.call(null,e),_()}}else n=c}a[0]&&(i&&!l?n=!1:a[1]&&(n===""||n===Ks(s))&&(n=!0))}return n}function r_(t,e,s=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const i=t.props,a={},l=[];let c=!1;if(!wt(t)){const _=d=>{c=!0;const[h,g]=r_(d,e,!0);Vt(a,h),g&&l.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(_),t.extends&&_(t.extends),t.mixins&&t.mixins.forEach(_)}if(!i&&!c)return Pt(t)&&n.set(t,ln),ln;if(_t(i))for(let _=0;_<i.length;_++){const d=Be(i[_]);kr(d)&&(a[d]=Rt)}else if(i)for(const _ in i){const d=Be(_);if(kr(d)){const h=i[_],g=a[d]=_t(h)||wt(h)?{type:h}:Vt({},h);if(g){const w=Sr(Boolean,g.type),f=Sr(String,g.type);g[0]=w>-1,g[1]=f<0||w<f,(w>-1||Tt(g,"default"))&&l.push(d)}}}const u=[a,l];return Pt(t)&&n.set(t,u),u}function kr(t){return t[0]!=="$"&&!Un(t)}function xr(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function $r(t,e){return xr(t)===xr(e)}function Sr(t,e){return _t(e)?e.findIndex(s=>$r(s,t)):wt(e)&&$r(e,t)?0:-1}const c_=t=>t[0]==="_"||t==="$stable",gl=t=>_t(t)?t.map(Ue):[Ue(t)],Df=(t,e,s)=>{if(e._n)return e;const n=Ai((...o)=>gl(e(...o)),s);return n._c=!1,n},u_=(t,e,s)=>{const n=t._ctx;for(const o in t){if(c_(o))continue;const i=t[o];if(wt(i))e[o]=Df(o,i,n);else if(i!=null){const a=gl(i);e[o]=()=>a}}},__=(t,e)=>{const s=gl(e);t.slots.default=()=>s},Rf=(t,e)=>{const s=t.slots=i_();if(t.vnode.shapeFlag&32){const n=e._;n?(Vt(s,e),bu(s,"_",n,!0)):u_(e,s)}else e&&__(t,e)},Nf=(t,e,s)=>{const{vnode:n,slots:o}=t;let i=!0,a=Rt;if(n.shapeFlag&32){const l=e._;l?s&&l===1?i=!1:(Vt(o,e),!s&&l===1&&delete o._):(i=!e.$stable,u_(e,o)),a=e}else e&&(__(t,e),a={default:1});if(i)for(const l in o)!c_(l)&&a[l]==null&&delete o[l]};function Oa(t,e,s,n,o=!1){if(_t(t)){t.forEach((h,g)=>Oa(h,e&&(_t(e)?e[g]:e),s,n,o));return}if(Yo(n)&&!o)return;const i=n.shapeFlag&4?Ri(n.component)||n.component.proxy:n.el,a=o?null:i,{i:l,r:c}=t,u=e&&e.r,_=l.refs===Rt?l.refs={}:l.refs,d=l.setupState;if(u!=null&&u!==c&&(Bt(u)?(_[u]=null,Tt(d,u)&&(d[u]=null)):mt(u)&&(u.value=null)),wt(c))gs(c,l,12,[a,_]);else{const h=Bt(c),g=mt(c);if(h||g){const w=()=>{if(t.f){const f=h?Tt(d,c)?d[c]:_[c]:c.value;o?_t(f)&&el(f,i):_t(f)?f.includes(i)||f.push(i):h?(_[c]=[i],Tt(d,c)&&(d[c]=_[c])):(c.value=[i],t.k&&(_[t.k]=c.value))}else h?(_[c]=a,Tt(d,c)&&(d[c]=a)):g&&(c.value=a,t.k&&(_[t.k]=a))};a?(w.id=-1,ae(w,s)):w()}}}const ae=lf;function jf(t){return Ff(t)}function Ff(t,e){const s=ku();s.__VUE__=!0;const{insert:n,remove:o,patchProp:i,createElement:a,createText:l,createComment:c,setText:u,setElementText:_,parentNode:d,nextSibling:h,setScopeId:g=ke,insertStaticContent:w}=t,f=(E,M,N,U=null,B=null,q=null,nt=void 0,J=null,X=!!M.dynamicChildren)=>{if(E===M)return;E&&!Fs(E,M)&&(U=we(E),dt(E,B,q,!0),E=null),M.patchFlag===-2&&(X=!1,M.dynamicChildren=null);const{type:V,ref:it,shapeFlag:ht}=M;switch(V){case Pi:p(E,M,N,U);break;case xe:m(E,M,N,U);break;case Jo:E==null&&b(M,N,U,nt);break;case Z:R(E,M,N,U,B,q,nt,J,X);break;default:ht&1?I(E,M,N,U,B,q,nt,J,X):ht&6?ot(E,M,N,U,B,q,nt,J,X):(ht&64||ht&128)&&V.process(E,M,N,U,B,q,nt,J,X,$n)}it!=null&&B&&Oa(it,E&&E.ref,q,M||E,!M)},p=(E,M,N,U)=>{if(E==null)n(M.el=l(M.children),N,U);else{const B=M.el=E.el;M.children!==E.children&&u(B,M.children)}},m=(E,M,N,U)=>{E==null?n(M.el=c(M.children||""),N,U):M.el=E.el},b=(E,M,N,U)=>{[E.el,E.anchor]=w(E.children,M,N,U,E.el,E.anchor)},x=({el:E,anchor:M},N,U)=>{let B;for(;E&&E!==M;)B=h(E),n(E,N,U),E=B;n(M,N,U)},A=({el:E,anchor:M})=>{let N;for(;E&&E!==M;)N=h(E),o(E),E=N;o(M)},I=(E,M,N,U,B,q,nt,J,X)=>{M.type==="svg"?nt="svg":M.type==="math"&&(nt="mathml"),E==null?T(M,N,U,B,q,nt,J,X):P(E,M,B,q,nt,J,X)},T=(E,M,N,U,B,q,nt,J)=>{let X,V;const{props:it,shapeFlag:ht,transition:ut,dirs:vt}=E;if(X=E.el=a(E.type,q,it&&it.is,it),ht&8?_(X,E.children):ht&16&&C(E.children,X,null,U,B,Zi(E,q),nt,J),vt&&Es(E,null,U,"created"),D(X,E,E.scopeId,nt,U),it){for(const It in it)It!=="value"&&!Un(It)&&i(X,It,null,it[It],q,E.children,U,B,Ht);"value"in it&&i(X,"value",null,it.value,q),(V=it.onVnodeBeforeMount)&&Ne(V,U,E)}vt&&Es(E,null,U,"beforeMount");const xt=zf(B,ut);xt&&ut.beforeEnter(X),n(X,M,N),((V=it&&it.onVnodeMounted)||xt||vt)&&ae(()=>{V&&Ne(V,U,E),xt&&ut.enter(X),vt&&Es(E,null,U,"mounted")},B)},D=(E,M,N,U,B)=>{if(N&&g(E,N),U)for(let q=0;q<U.length;q++)g(E,U[q]);if(B){let q=B.subTree;if(M===q){const nt=B.vnode;D(E,nt,nt.scopeId,nt.slotScopeIds,B.parent)}}},C=(E,M,N,U,B,q,nt,J,X=0)=>{for(let V=X;V<E.length;V++){const it=E[V]=J?rs(E[V]):Ue(E[V]);f(null,it,M,N,U,B,q,nt,J)}},P=(E,M,N,U,B,q,nt)=>{const J=M.el=E.el;let{patchFlag:X,dynamicChildren:V,dirs:it}=M;X|=E.patchFlag&16;const ht=E.props||Rt,ut=M.props||Rt;let vt;if(N&&As(N,!1),(vt=ut.onVnodeBeforeUpdate)&&Ne(vt,N,M,E),it&&Es(M,E,N,"beforeUpdate"),N&&As(N,!0),V?j(E.dynamicChildren,V,J,N,U,Zi(M,B),q):nt||z(E,M,J,null,N,U,Zi(M,B),q,!1),X>0){if(X&16)G(J,M,ht,ut,N,U,B);else if(X&2&&ht.class!==ut.class&&i(J,"class",null,ut.class,B),X&4&&i(J,"style",ht.style,ut.style,B),X&8){const xt=M.dynamicProps;for(let It=0;It<xt.length;It++){const jt=xt[It],Kt=ht[jt],Ce=ut[jt];(Ce!==Kt||jt==="value")&&i(J,jt,Kt,Ce,B,E.children,N,U,Ht)}}X&1&&E.children!==M.children&&_(J,M.children)}else!nt&&V==null&&G(J,M,ht,ut,N,U,B);((vt=ut.onVnodeUpdated)||it)&&ae(()=>{vt&&Ne(vt,N,M,E),it&&Es(M,E,N,"updated")},U)},j=(E,M,N,U,B,q,nt)=>{for(let J=0;J<M.length;J++){const X=E[J],V=M[J],it=X.el&&(X.type===Z||!Fs(X,V)||X.shapeFlag&70)?d(X.el):N;f(X,V,it,null,U,B,q,nt,!0)}},G=(E,M,N,U,B,q,nt)=>{if(N!==U){if(N!==Rt)for(const J in N)!Un(J)&&!(J in U)&&i(E,J,N[J],null,nt,M.children,B,q,Ht);for(const J in U){if(Un(J))continue;const X=U[J],V=N[J];X!==V&&J!=="value"&&i(E,J,V,X,nt,M.children,B,q,Ht)}"value"in U&&i(E,"value",N.value,U.value,nt)}},R=(E,M,N,U,B,q,nt,J,X)=>{const V=M.el=E?E.el:l(""),it=M.anchor=E?E.anchor:l("");let{patchFlag:ht,dynamicChildren:ut,slotScopeIds:vt}=M;vt&&(J=J?J.concat(vt):vt),E==null?(n(V,N,U),n(it,N,U),C(M.children||[],N,it,B,q,nt,J,X)):ht>0&&ht&64&&ut&&E.dynamicChildren?(j(E.dynamicChildren,ut,N,B,q,nt,J),(M.key!=null||B&&M===B.subTree)&&d_(E,M,!0)):z(E,M,N,it,B,q,nt,J,X)},ot=(E,M,N,U,B,q,nt,J,X)=>{M.slotScopeIds=J,E==null?M.shapeFlag&512?B.ctx.activate(M,N,U,nt,X):ct(M,N,U,B,q,nt,X):H(E,M,X)},ct=(E,M,N,U,B,q,nt)=>{const J=E.component=Jf(E,U,B);if(Ii(E)&&(J.ctx.renderer=$n),Qf(J),J.asyncDep){if(B&&B.registerDep(J,L),!E.el){const X=J.subTree=W(xe);m(null,X,M,N)}}else L(J,E,M,N,B,q,nt)},H=(E,M,N)=>{const U=M.component=E.component;if(tf(E,M,N))if(U.asyncDep&&!U.asyncResolved){Y(U,M,N);return}else U.next=M,Yh(U.update),U.effect.dirty=!0,U.update();else M.el=E.el,U.vnode=M},L=(E,M,N,U,B,q,nt)=>{const J=()=>{if(E.isMounted){let{next:it,bu:ht,u:ut,parent:vt,vnode:xt}=E;{const tn=h_(E);if(tn){it&&(it.el=xt.el,Y(E,it,nt)),tn.asyncDep.then(()=>{E.isUnmounted||J()});return}}let It=it,jt;As(E,!1),it?(it.el=xt.el,Y(E,it,nt)):it=xt,ht&&Vo(ht),(jt=it.props&&it.props.onVnodeBeforeUpdate)&&Ne(jt,vt,it,xt),As(E,!0);const Kt=qi(E),Ce=E.subTree;E.subTree=Kt,f(Ce,Kt,d(Ce.el),we(Ce),E,B,q),it.el=Kt.el,It===null&&ef(E,Kt.el),ut&&ae(ut,B),(jt=it.props&&it.props.onVnodeUpdated)&&ae(()=>Ne(jt,vt,it,xt),B)}else{let it;const{el:ht,props:ut}=M,{bm:vt,m:xt,parent:It}=E,jt=Yo(M);if(As(E,!1),vt&&Vo(vt),!jt&&(it=ut&&ut.onVnodeBeforeMount)&&Ne(it,It,M),As(E,!0),ht&&er){const Kt=()=>{E.subTree=qi(E),er(ht,E.subTree,E,B,null)};jt?M.type.__asyncLoader().then(()=>!E.isUnmounted&&Kt()):Kt()}else{const Kt=E.subTree=qi(E);f(null,Kt,N,U,E,B,q),M.el=Kt.el}if(xt&&ae(xt,B),!jt&&(it=ut&&ut.onVnodeMounted)){const Kt=M;ae(()=>Ne(it,It,Kt),B)}(M.shapeFlag&256||It&&Yo(It.vnode)&&It.vnode.shapeFlag&256)&&E.a&&ae(E.a,B),E.isMounted=!0,M=N=U=null}},X=E.effect=new nl(J,ke,()=>_l(V),E.scope),V=E.update=()=>{X.dirty&&X.run()};V.id=E.uid,As(E,!0),V()},Y=(E,M,N)=>{M.component=E;const U=E.vnode.props;E.vnode=M,E.next=null,Lf(E,M.props,U,N),Nf(E,M.children,N),xs(),fr(E),$s()},z=(E,M,N,U,B,q,nt,J,X=!1)=>{const V=E&&E.children,it=E?E.shapeFlag:0,ht=M.children,{patchFlag:ut,shapeFlag:vt}=M;if(ut>0){if(ut&128){bt(V,ht,N,U,B,q,nt,J,X);return}else if(ut&256){tt(V,ht,N,U,B,q,nt,J,X);return}}vt&8?(it&16&&Ht(V,B,q),ht!==V&&_(N,ht)):it&16?vt&16?bt(V,ht,N,U,B,q,nt,J,X):Ht(V,B,q,!0):(it&8&&_(N,""),vt&16&&C(ht,N,U,B,q,nt,J,X))},tt=(E,M,N,U,B,q,nt,J,X)=>{E=E||ln,M=M||ln;const V=E.length,it=M.length,ht=Math.min(V,it);let ut;for(ut=0;ut<ht;ut++){const vt=M[ut]=X?rs(M[ut]):Ue(M[ut]);f(E[ut],vt,N,null,B,q,nt,J,X)}V>it?Ht(E,B,q,!0,!1,ht):C(M,N,U,B,q,nt,J,X,ht)},bt=(E,M,N,U,B,q,nt,J,X)=>{let V=0;const it=M.length;let ht=E.length-1,ut=it-1;for(;V<=ht&&V<=ut;){const vt=E[V],xt=M[V]=X?rs(M[V]):Ue(M[V]);if(Fs(vt,xt))f(vt,xt,N,null,B,q,nt,J,X);else break;V++}for(;V<=ht&&V<=ut;){const vt=E[ht],xt=M[ut]=X?rs(M[ut]):Ue(M[ut]);if(Fs(vt,xt))f(vt,xt,N,null,B,q,nt,J,X);else break;ht--,ut--}if(V>ht){if(V<=ut){const vt=ut+1,xt=vt<it?M[vt].el:U;for(;V<=ut;)f(null,M[V]=X?rs(M[V]):Ue(M[V]),N,xt,B,q,nt,J,X),V++}}else if(V>ut)for(;V<=ht;)dt(E[V],B,q,!0),V++;else{const vt=V,xt=V,It=new Map;for(V=xt;V<=ut;V++){const he=M[V]=X?rs(M[V]):Ue(M[V]);he.key!=null&&It.set(he.key,V)}let jt,Kt=0;const Ce=ut-xt+1;let tn=!1,sr=0;const Sn=new Array(Ce);for(V=0;V<Ce;V++)Sn[V]=0;for(V=vt;V<=ht;V++){const he=E[V];if(Kt>=Ce){dt(he,B,q,!0);continue}let Re;if(he.key!=null)Re=It.get(he.key);else for(jt=xt;jt<=ut;jt++)if(Sn[jt-xt]===0&&Fs(he,M[jt])){Re=jt;break}Re===void 0?dt(he,B,q,!0):(Sn[Re-xt]=V+1,Re>=sr?sr=Re:tn=!0,f(he,M[Re],N,null,B,q,nt,J,X),Kt++)}const nr=tn?Uf(Sn):ln;for(jt=nr.length-1,V=Ce-1;V>=0;V--){const he=xt+V,Re=M[he],or=he+1<it?M[he+1].el:U;Sn[V]===0?f(null,Re,N,or,B,q,nt,J,X):tn&&(jt<0||V!==nr[jt]?at(Re,N,or,2):jt--)}}},at=(E,M,N,U,B=null)=>{const{el:q,type:nt,transition:J,children:X,shapeFlag:V}=E;if(V&6){at(E.component.subTree,M,N,U);return}if(V&128){E.suspense.move(M,N,U);return}if(V&64){nt.move(E,M,N,$n);return}if(nt===Z){n(q,M,N);for(let ht=0;ht<X.length;ht++)at(X[ht],M,N,U);n(E.anchor,M,N);return}if(nt===Jo){x(E,M,N);return}if(U!==2&&V&1&&J)if(U===0)J.beforeEnter(q),n(q,M,N),ae(()=>J.enter(q),B);else{const{leave:ht,delayLeave:ut,afterLeave:vt}=J,xt=()=>n(q,M,N),It=()=>{ht(q,()=>{xt(),vt&&vt()})};ut?ut(q,xt,It):It()}else n(q,M,N)},dt=(E,M,N,U=!1,B=!1)=>{const{type:q,props:nt,ref:J,children:X,dynamicChildren:V,shapeFlag:it,patchFlag:ht,dirs:ut}=E;if(J!=null&&Oa(J,null,N,E,!0),it&256){M.ctx.deactivate(E);return}const vt=it&1&&ut,xt=!Yo(E);let It;if(xt&&(It=nt&&nt.onVnodeBeforeUnmount)&&Ne(It,M,E),it&6)Xt(E.component,N,U);else{if(it&128){E.suspense.unmount(N,U);return}vt&&Es(E,null,M,"beforeUnmount"),it&64?E.type.remove(E,M,N,B,$n,U):V&&(q!==Z||ht>0&&ht&64)?Ht(V,M,N,!1,!0):(q===Z&&ht&384||!B&&it&16)&&Ht(X,M,N),U&&Lt(E)}(xt&&(It=nt&&nt.onVnodeUnmounted)||vt)&&ae(()=>{It&&Ne(It,M,E),vt&&Es(E,null,M,"unmounted")},N)},Lt=E=>{const{type:M,el:N,anchor:U,transition:B}=E;if(M===Z){Ut(N,U);return}if(M===Jo){A(E);return}const q=()=>{o(N),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(E.shapeFlag&1&&B&&!B.persisted){const{leave:nt,delayLeave:J}=B,X=()=>nt(N,q);J?J(E.el,q,X):X()}else q()},Ut=(E,M)=>{let N;for(;E!==M;)N=h(E),o(E),E=N;o(M)},Xt=(E,M,N)=>{const{bum:U,scope:B,update:q,subTree:nt,um:J}=E;U&&Vo(U),B.stop(),q&&(q.active=!1,dt(nt,E,M,N)),J&&ae(J,M),ae(()=>{E.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&E.asyncDep&&!E.asyncResolved&&E.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},Ht=(E,M,N,U=!1,B=!1,q=0)=>{for(let nt=q;nt<E.length;nt++)dt(E[nt],M,N,U,B)},we=E=>E.shapeFlag&6?we(E.component.subTree):E.shapeFlag&128?E.suspense.next():h(E.anchor||E.el);let Ki=!1;const Zl=(E,M,N)=>{E==null?M._vnode&&dt(M._vnode,null,null,!0):f(M._vnode||null,E,M,null,null,null,N),Ki||(Ki=!0,fr(),Gu(),Ki=!1),M._vnode=E},$n={p:f,um:dt,m:at,r:Lt,mt:ct,mc:C,pc:z,pbc:j,n:we,o:t};let tr,er;return{render:Zl,hydrate:tr,createApp:If(Zl,tr)}}function Zi({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function As({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function zf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function d_(t,e,s=!1){const n=t.children,o=e.children;if(_t(n)&&_t(o))for(let i=0;i<n.length;i++){const a=n[i];let l=o[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[i]=rs(o[i]),l.el=a.el),s||d_(a,l)),l.type===Pi&&(l.el=a.el)}}function Uf(t){const e=t.slice(),s=[0];let n,o,i,a,l;const c=t.length;for(n=0;n<c;n++){const u=t[n];if(u!==0){if(o=s[s.length-1],t[o]<u){e[n]=o,s.push(n);continue}for(i=0,a=s.length-1;i<a;)l=i+a>>1,t[s[l]]<u?i=l+1:a=l;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,a=s[i-1];i-- >0;)s[i]=a,a=e[a];return s}function h_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:h_(e)}const Hf=t=>t.__isTeleport,Z=Symbol.for("v-fgt"),Pi=Symbol.for("v-txt"),xe=Symbol.for("v-cmt"),Jo=Symbol.for("v-stc"),Vn=[];let Me=null;function v(t=!1){Vn.push(Me=t?null:[])}function Bf(){Vn.pop(),Me=Vn[Vn.length-1]||null}let oo=1;function Tr(t){oo+=t}function f_(t){return t.dynamicChildren=oo>0?Me||ln:null,Bf(),oo>0&&Me&&Me.push(t),t}function k(t,e,s,n,o,i){return f_(r(t,e,s,n,o,i,!0))}function lt(t,e,s,n,o){return f_(W(t,e,s,n,o,!0))}function Ia(t){return t?t.__v_isVNode===!0:!1}function Fs(t,e){return t.type===e.type&&t.key===e.key}const g_=({key:t})=>t??null,qo=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Bt(t)||mt(t)||wt(t)?{i:ne,r:t,k:e,f:!!s}:t:null);function r(t,e=null,s=null,n=0,o=null,i=t===Z?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&g_(e),ref:e&&qo(e),scopeId:Ei,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:ne};return l?(pl(c,s),i&128&&t.normalize(c)):s&&(c.shapeFlag|=Bt(s)?8:16),oo>0&&!a&&Me&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Me.push(c),c}const W=Gf;function Gf(t,e=null,s=null,n=0,o=null,i=!1){if((!t||t===Yu)&&(t=xe),Ia(t)){const l=ys(t,e,!0);return s&&pl(l,s),oo>0&&!i&&Me&&(l.shapeFlag&6?Me[Me.indexOf(t)]=l:Me.push(l)),l.patchFlag|=-2,l}if(sg(t)&&(t=t.__vccOpts),e){e=Wf(e);let{class:l,style:c}=e;l&&!Bt(l)&&(e.class=yt(l)),Pt(c)&&(Si(c)&&!_t(c)&&(c=Vt({},c)),e.style=pe(c))}const a=Bt(t)?1:af(t)?128:Hf(t)?64:Pt(t)?4:wt(t)?2:0;return r(t,e,s,n,o,a,i,!0)}function Wf(t){return t?Si(t)||a_(t)?Vt({},t):t:null}function ys(t,e,s=!1,n=!1){const{props:o,ref:i,patchFlag:a,children:l,transition:c}=t,u=e?Vf(o||{},e):o,_={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&g_(u),ref:e&&e.ref?s&&i?_t(i)?i.concat(qo(e)):[i,qo(e)]:qo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Z?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ys(t.ssContent),ssFallback:t.ssFallback&&ys(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&(_.transition=c.clone(_)),_}function $t(t=" ",e=0){return W(Pi,null,t,e)}function Li(t,e){const s=W(Jo,null,t);return s.staticCount=e,s}function O(t="",e=!1){return e?(v(),lt(xe,null,t)):W(xe,null,t)}function Ue(t){return t==null||typeof t=="boolean"?W(xe):_t(t)?W(Z,null,t.slice()):typeof t=="object"?rs(t):W(Pi,null,String(t))}function rs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ys(t)}function pl(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(_t(e))s=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),pl(t,o()),o._c&&(o._d=!0));return}else{s=32;const o=e._;!o&&!a_(e)?e._ctx=ne:o===3&&ne&&(ne.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else wt(e)?(e={default:e,_ctx:ne},s=32):(e=String(e),n&64?(s=16,e=[$t(e)]):s=8);t.children=e,t.shapeFlag|=s}function Vf(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=yt([e.class,n.class]));else if(o==="style")e.style=pe([e.style,n.style]);else if(yi(o)){const i=e[o],a=n[o];a&&i!==a&&!(_t(i)&&i.includes(a))&&(e[o]=i?[].concat(i,a):a)}else o!==""&&(e[o]=n[o])}return e}function Ne(t,e,s,n=null){Se(t,e,7,[s,n])}const Kf=n_();let Yf=0;function Jf(t,e,s){const n=t.type,o=(e?e.appContext:t.appContext)||Kf,i={uid:Yf++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new wh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:r_(n,o),emitsOptions:Vu(n,o),emit:null,emitted:null,propsDefaults:Rt,inheritAttrs:n.inheritAttrs,ctx:Rt,data:Rt,props:Rt,attrs:Rt,slots:Rt,refs:Rt,setupState:Rt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qh.bind(null,i),t.ce&&t.ce(i),i}let Jt=null;const qf=()=>Jt||ne;let li,Ma;{const t=ku(),e=(s,n)=>{let o;return(o=t[s])||(o=t[s]=[]),o.push(n),i=>{o.length>1?o.forEach(a=>a(i)):o[0](i)}};li=e("__VUE_INSTANCE_SETTERS__",s=>Jt=s),Ma=e("__VUE_SSR_SETTERS__",s=>Di=s)}const ho=t=>{const e=Jt;return li(t),t.scope.on(),()=>{t.scope.off(),li(e)}},Cr=()=>{Jt&&Jt.scope.off(),li(null)};function p_(t){return t.vnode.shapeFlag&4}let Di=!1;function Qf(t,e=!1){e&&Ma(e);const{props:s,children:n}=t.vnode,o=p_(t);Pf(t,s,o,e),Rf(t,n);const i=o?Xf(t,e):void 0;return e&&Ma(!1),i}function Xf(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$f);const{setup:n}=s;if(n){const o=t.setupContext=n.length>1?tg(t):null,i=ho(t);xs();const a=gs(n,t,0,[t.props,o]);if($s(),i(),vu(a)){if(a.then(Cr,Cr),e)return a.then(l=>{Er(t,l,e)}).catch(l=>{Ti(l,t,0)});t.asyncDep=a}else Er(t,a,e)}else m_(t,e)}function Er(t,e,s){wt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pt(e)&&(t.setupState=Uu(e)),m_(t,s)}let Ar;function m_(t,e,s){const n=t.type;if(!t.render){if(!e&&Ar&&!n.render){const o=n.template||fl(t).template;if(o){const{isCustomElement:i,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:c}=n,u=Vt(Vt({isCustomElement:i,delimiters:l},a),c);n.render=Ar(o,u)}}t.render=n.render||ke}{const o=ho(t);xs();try{Sf(t)}finally{$s(),o()}}}const Zf={get(t,e){return ue(t,"get",""),t[e]}};function tg(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Zf),slots:t.slots,emit:t.emit,expose:e}}function Ri(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Uu(Hh(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Bn)return Bn[s](t)},has(e,s){return s in e||s in Bn}}))}function eg(t,e=!0){return wt(t)?t.displayName||t.name:t.name||e&&t.__name}function sg(t){return wt(t)&&"__vccOpts"in t}const kt=(t,e)=>Bh(t,e,Di);function ri(t,e,s){const n=arguments.length;return n===2?Pt(e)&&!_t(e)?Ia(e)?W(t,null,[e]):W(t,e):W(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Ia(s)&&(s=[s]),W(t,e,s))}const v_="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ng="http://www.w3.org/2000/svg",og="http://www.w3.org/1998/Math/MathML",cs=typeof document<"u"?document:null,Or=cs&&cs.createElement("template"),ig={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const o=e==="svg"?cs.createElementNS(ng,t):e==="mathml"?cs.createElementNS(og,t):cs.createElement(t,s?{is:s}:void 0);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>cs.createTextNode(t),createComment:t=>cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,o,i){const a=s?s.previousSibling:e.lastChild;if(o&&(o===i||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),s),!(o===i||!(o=o.nextSibling)););else{Or.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const l=Or.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,s)}return[a?a.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ns="transition",Tn="animation",io=Symbol("_vtc"),fo=(t,{slots:e})=>ri(hf,ag(t),e);fo.displayName="Transition";const w_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};fo.props=Vt({},Qu,w_);const Os=(t,e=[])=>{_t(t)?t.forEach(s=>s(...e)):t&&t(...e)},Ir=t=>t?_t(t)?t.some(e=>e.length>1):t.length>1:!1;function ag(t){const e={};for(const R in t)R in w_||(e[R]=t[R]);if(t.css===!1)return e;const{name:s="v",type:n,duration:o,enterFromClass:i=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:l=`${s}-enter-to`,appearFromClass:c=i,appearActiveClass:u=a,appearToClass:_=l,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,w=lg(o),f=w&&w[0],p=w&&w[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:x,onLeave:A,onLeaveCancelled:I,onBeforeAppear:T=m,onAppear:D=b,onAppearCancelled:C=x}=e,P=(R,ot,ct)=>{Is(R,ot?_:l),Is(R,ot?u:a),ct&&ct()},j=(R,ot)=>{R._isLeaving=!1,Is(R,d),Is(R,g),Is(R,h),ot&&ot()},G=R=>(ot,ct)=>{const H=R?D:b,L=()=>P(ot,R,ct);Os(H,[ot,L]),Mr(()=>{Is(ot,R?c:i),os(ot,R?_:l),Ir(H)||Pr(ot,n,f,L)})};return Vt(e,{onBeforeEnter(R){Os(m,[R]),os(R,i),os(R,a)},onBeforeAppear(R){Os(T,[R]),os(R,c),os(R,u)},onEnter:G(!1),onAppear:G(!0),onLeave(R,ot){R._isLeaving=!0;const ct=()=>j(R,ot);os(R,d),os(R,h),ug(),Mr(()=>{R._isLeaving&&(Is(R,d),os(R,g),Ir(A)||Pr(R,n,p,ct))}),Os(A,[R,ct])},onEnterCancelled(R){P(R,!1),Os(x,[R])},onAppearCancelled(R){P(R,!0),Os(C,[R])},onLeaveCancelled(R){j(R),Os(I,[R])}})}function lg(t){if(t==null)return null;if(Pt(t))return[ta(t.enter),ta(t.leave)];{const e=ta(t);return[e,e]}}function ta(t){return uh(t)}function os(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[io]||(t[io]=new Set)).add(e)}function Is(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[io];s&&(s.delete(e),s.size||(t[io]=void 0))}function Mr(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rg=0;function Pr(t,e,s,n){const o=t._endId=++rg,i=()=>{o===t._endId&&n()};if(s)return setTimeout(i,s);const{type:a,timeout:l,propCount:c}=cg(t,e);if(!a)return n();const u=a+"end";let _=0;const d=()=>{t.removeEventListener(u,h),i()},h=g=>{g.target===t&&++_>=c&&d()};setTimeout(()=>{_<c&&d()},l+1),t.addEventListener(u,h)}function cg(t,e){const s=window.getComputedStyle(t),n=w=>(s[w]||"").split(", "),o=n(`${ns}Delay`),i=n(`${ns}Duration`),a=Lr(o,i),l=n(`${Tn}Delay`),c=n(`${Tn}Duration`),u=Lr(l,c);let _=null,d=0,h=0;e===ns?a>0&&(_=ns,d=a,h=i.length):e===Tn?u>0&&(_=Tn,d=u,h=c.length):(d=Math.max(a,u),_=d>0?a>u?ns:Tn:null,h=_?_===ns?i.length:c.length:0);const g=_===ns&&/\b(transform|all)(,|$)/.test(n(`${ns}Property`).toString());return{type:_,timeout:d,propCount:h,hasTransform:g}}function Lr(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>Dr(s)+Dr(t[n])))}function Dr(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ug(){return document.body.offsetHeight}function _g(t,e,s){const n=t[io];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const ci=Symbol("_vod"),y_=Symbol("_vsh"),_s={beforeMount(t,{value:e},{transition:s}){t[ci]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Cn(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Cn(t,!0),n.enter(t)):n.leave(t,()=>{Cn(t,!1)}):Cn(t,e))},beforeUnmount(t,{value:e}){Cn(t,e)}};function Cn(t,e){t.style.display=e?t[ci]:"none",t[y_]=!e}const dg=Symbol(""),hg=/(^|;)\s*display\s*:/;function fg(t,e,s){const n=t.style,o=Bt(s);let i=!1;if(s&&!o){if(e)if(Bt(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();s[l]==null&&Qo(n,l,"")}else for(const a in e)s[a]==null&&Qo(n,a,"");for(const a in s)a==="display"&&(i=!0),Qo(n,a,s[a])}else if(o){if(e!==s){const a=n[dg];a&&(s+=";"+a),n.cssText=s,i=hg.test(s)}}else e&&t.removeAttribute("style");ci in t&&(t[ci]=i?n.display:"",t[y_]&&(n.display="none"))}const Rr=/\s*!important$/;function Qo(t,e,s){if(_t(s))s.forEach(n=>Qo(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=gg(t,e);Rr.test(s)?t.setProperty(Ks(n),s.replace(Rr,""),"important"):t[n]=s}}const Nr=["Webkit","Moz","ms"],ea={};function gg(t,e){const s=ea[e];if(s)return s;let n=Be(e);if(n!=="filter"&&n in t)return ea[e]=n;n=xi(n);for(let o=0;o<Nr.length;o++){const i=Nr[o]+n;if(i in t)return ea[e]=i}return e}const jr="http://www.w3.org/1999/xlink";function pg(t,e,s,n,o){if(n&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(jr,e.slice(6,e.length)):t.setAttributeNS(jr,e,s);else{const i=ph(e);s==null||i&&!xu(s)?t.removeAttribute(e):t.setAttribute(e,i?"":s)}}function mg(t,e,s,n,o,i,a){if(e==="innerHTML"||e==="textContent"){n&&a(n,o,i),t[e]=s??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){const u=l==="OPTION"?t.getAttribute("value")||"":t.value,_=s??"";(u!==_||!("_value"in t))&&(t.value=_),s==null&&t.removeAttribute(e),t._value=s;return}let c=!1;if(s===""||s==null){const u=typeof t[e];u==="boolean"?s=xu(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{t[e]=s}catch{}c&&t.removeAttribute(e)}function us(t,e,s,n){t.addEventListener(e,s,n)}function vg(t,e,s,n){t.removeEventListener(e,s,n)}const Fr=Symbol("_vei");function wg(t,e,s,n,o=null){const i=t[Fr]||(t[Fr]={}),a=i[e];if(n&&a)a.value=n;else{const[l,c]=yg(e);if(n){const u=i[e]=xg(n,o);us(t,l,u,c)}else a&&(vg(t,l,a,c),i[e]=void 0)}}const zr=/(?:Once|Passive|Capture)$/;function yg(t){let e;if(zr.test(t)){e={};let n;for(;n=t.match(zr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ks(t.slice(2)),e]}let sa=0;const bg=Promise.resolve(),kg=()=>sa||(bg.then(()=>sa=0),sa=Date.now());function xg(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Se($g(n,s.value),e,5,[n])};return s.value=t,s.attached=kg(),s}function $g(t,e){if(_t(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const Ur=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Sg=(t,e,s,n,o,i,a,l,c)=>{const u=o==="svg";e==="class"?_g(t,n,u):e==="style"?fg(t,s,n):yi(e)?tl(e)||wg(t,e,s,n,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tg(t,e,n,u))?mg(t,e,n,i,a,l,c):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),pg(t,e,n,u))};function Tg(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ur(e)&&wt(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const o=t.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Ur(e)&&Bt(s)?!1:e in t}const hn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return _t(e)?s=>Vo(e,s):e};function Cg(t){t.target.composing=!0}function Hr(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qe=Symbol("_assign"),Dt={created(t,{modifiers:{lazy:e,trim:s,number:n}},o){t[Qe]=hn(o);const i=n||o.props&&o.props.type==="number";us(t,e?"change":"input",a=>{if(a.target.composing)return;let l=t.value;s&&(l=l.trim()),i&&(l=ni(l)),t[Qe](l)}),s&&us(t,"change",()=>{t.value=t.value.trim()}),e||(us(t,"compositionstart",Cg),us(t,"compositionend",Hr),us(t,"change",Hr))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:s,trim:n,number:o}},i){if(t[Qe]=hn(i),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?ni(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s||n&&t.value.trim()===l)||(t.value=l))}},Xe={created(t,{value:e},s){t.checked=dn(e,s.props.value),t[Qe]=hn(s),us(t,"change",()=>{t[Qe](ao(t))})},beforeUpdate(t,{value:e,oldValue:s},n){t[Qe]=hn(n),e!==s&&(t.checked=dn(e,n.props.value))}},Br={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const o=bi(e);us(t,"change",()=>{const i=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>s?ni(ao(a)):ao(a));t[Qe](t.multiple?o?new Set(i):i:i[0]),t._assigning=!0,fe(()=>{t._assigning=!1})}),t[Qe]=hn(n)},mounted(t,{value:e,modifiers:{number:s}}){Gr(t,e)},beforeUpdate(t,e,s){t[Qe]=hn(s)},updated(t,{value:e,modifiers:{number:s}}){t._assigning||Gr(t,e)}};function Gr(t,e,s){const n=t.multiple,o=_t(e);if(!(n&&!o&&!bi(e))){for(let i=0,a=t.options.length;i<a;i++){const l=t.options[i],c=ao(l);if(n)if(o){const u=typeof c;u==="string"||u==="number"?l.selected=e.some(_=>String(_)===String(c)):l.selected=vh(e,c)>-1}else l.selected=e.has(c);else if(dn(ao(l),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ao(t){return"_value"in t?t._value:t.value}const Eg=["ctrl","shift","alt","meta"],Ag={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Eg.some(s=>t[`${s}Key`]&&!e.includes(s))},Wr=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(o,...i)=>{for(let a=0;a<e.length;a++){const l=Ag[e[a]];if(l&&l(o,e))return}return t(o,...i)})},Og={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ig=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=o=>{if(!("key"in o))return;const i=Ks(o.key);if(e.some(a=>a===i||Og[a]===i))return t(o)})},Mg=Vt({patchProp:Sg},ig);let Vr;function Pg(){return Vr||(Vr=jf(Mg))}const Lg=(...t)=>{const e=Pg().createApp(...t),{mount:s}=e;return e.mount=n=>{const o=Rg(n);if(!o)return;const i=e._component;!wt(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const a=s(o,!1,Dg(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function Dg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Rg(t){return Bt(t)?document.querySelector(t):t}async function na(t,e){Ng(t);let s=new Date;s.setTime(s.getTime()+7*24*60*60*1e3);let n="expires="+s.toUTCString(),o=t+"="+e+"; "+n,i=document.cookie;if(i.includes(t+"=")){let a=i.split("; ");for(let l=0;l<a.length;l++)a[l].startsWith(t+"=")&&(a[l]=o);document.cookie=a.join("; ")}else document.cookie=o}function Ng(t){document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;`}function Nt(t){let e=document.cookie.split("; ");for(let s=0;s<e.length;s++){let n=e[s].split("=");if(n[0]===t)return n[1]}return null}function Kr(){const t=document.cookie.split(";");for(let e=0;e<t.length;e++){const s=t[e],n=s.indexOf("="),o=n>-1?s.substr(0,n):s;document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}}function jg(){return b_().__VUE_DEVTOOLS_GLOBAL_HOOK__}function b_(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const Fg=typeof Proxy=="function",zg="devtools-plugin:setup",Ug="plugin:settings:set";let en,Pa;function Hg(){var t;return en!==void 0||(typeof window<"u"&&window.performance?(en=!0,Pa=window.performance):typeof globalThis<"u"&&(!((t=globalThis.perf_hooks)===null||t===void 0)&&t.performance)?(en=!0,Pa=globalThis.perf_hooks.performance):en=!1),en}function Bg(){return Hg()?Pa.now():Date.now()}class Gg{constructor(e,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=s;const n={};if(e.settings)for(const a in e.settings){const l=e.settings[a];n[a]=l.defaultValue}const o=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const a=localStorage.getItem(o),l=JSON.parse(a);Object.assign(i,l)}catch{}this.fallbacks={getSettings(){return i},setSettings(a){try{localStorage.setItem(o,JSON.stringify(a))}catch{}i=a},now(){return Bg()}},s&&s.on(Ug,(a,l)=>{a===this.plugin.id&&this.fallbacks.setSettings(l)}),this.proxiedOn=new Proxy({},{get:(a,l)=>this.target?this.target.on[l]:(...c)=>{this.onQueue.push({method:l,args:c})}}),this.proxiedTarget=new Proxy({},{get:(a,l)=>this.target?this.target[l]:l==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(l)?(...c)=>(this.targetQueue.push({method:l,args:c,resolve:()=>{}}),this.fallbacks[l](...c)):(...c)=>new Promise(u=>{this.targetQueue.push({method:l,args:c,resolve:u})})})}async setRealTarget(e){this.target=e;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function Wg(t,e){const s=t,n=b_(),o=jg(),i=Fg&&s.enableEarlyProxy;if(o&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))o.emit(zg,t,e);else{const a=i?new Gg(s,o):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var k_="store";function pt(t){return t===void 0&&(t=null),Wn(t!==null?t:k_)}function vn(t,e){Object.keys(t).forEach(function(s){return e(t[s],s)})}function Vg(t){return t!==null&&typeof t=="object"}function Kg(t){return t&&typeof t.then=="function"}function Yg(t,e){return function(){return t(e)}}function x_(t,e,s){return e.indexOf(t)<0&&(s&&s.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function $_(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var s=t.state;Ni(t,s,[],t._modules.root,!0),ml(t,s,e)}function ml(t,e,s){var n=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,i={};vn(o,function(a,l){i[l]=Yg(a,t),Object.defineProperty(t.getters,l,{get:function(){return i[l]()},enumerable:!0})}),t._state=ws({data:e}),t.strict&&Zg(t),n&&s&&t._withCommit(function(){n.data=null})}function Ni(t,e,s,n,o){var i=!s.length,a=t._modules.getNamespace(s);if(n.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=n),!i&&!o){var l=vl(e,s.slice(0,-1)),c=s[s.length-1];t._withCommit(function(){l[c]=n.state})}var u=n.context=Jg(t,a,s);n.forEachMutation(function(_,d){var h=a+d;qg(t,h,_,u)}),n.forEachAction(function(_,d){var h=_.root?d:a+d,g=_.handler||_;Qg(t,h,g,u)}),n.forEachGetter(function(_,d){var h=a+d;Xg(t,h,_,u)}),n.forEachChild(function(_,d){Ni(t,e,s.concat(d),_,o)})}function Jg(t,e,s){var n=e==="",o={dispatch:n?t.dispatch:function(i,a,l){var c=ui(i,a,l),u=c.payload,_=c.options,d=c.type;return(!_||!_.root)&&(d=e+d),t.dispatch(d,u)},commit:n?t.commit:function(i,a,l){var c=ui(i,a,l),u=c.payload,_=c.options,d=c.type;(!_||!_.root)&&(d=e+d),t.commit(d,u,_)}};return Object.defineProperties(o,{getters:{get:n?function(){return t.getters}:function(){return S_(t,e)}},state:{get:function(){return vl(t.state,s)}}}),o}function S_(t,e){if(!t._makeLocalGettersCache[e]){var s={},n=e.length;Object.keys(t.getters).forEach(function(o){if(o.slice(0,n)===e){var i=o.slice(n);Object.defineProperty(s,i,{get:function(){return t.getters[o]},enumerable:!0})}}),t._makeLocalGettersCache[e]=s}return t._makeLocalGettersCache[e]}function qg(t,e,s,n){var o=t._mutations[e]||(t._mutations[e]=[]);o.push(function(a){s.call(t,n.state,a)})}function Qg(t,e,s,n){var o=t._actions[e]||(t._actions[e]=[]);o.push(function(a){var l=s.call(t,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:t.getters,rootState:t.state},a);return Kg(l)||(l=Promise.resolve(l)),t._devtoolHook?l.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):l})}function Xg(t,e,s,n){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return s(n.state,n.getters,i.state,i.getters)})}function Zg(t){K(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function vl(t,e){return e.reduce(function(s,n){return s[n]},t)}function ui(t,e,s){return Vg(t)&&t.type&&(s=e,e=t,t=t.type),{type:t,payload:e,options:s}}var tp="vuex bindings",Yr="vuex:mutations",oa="vuex:actions",sn="vuex",ep=0;function sp(t,e){Wg({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[tp]},function(s){s.addTimelineLayer({id:Yr,label:"Vuex Mutations",color:Jr}),s.addTimelineLayer({id:oa,label:"Vuex Actions",color:Jr}),s.addInspector({id:sn,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),s.on.getInspectorTree(function(n){if(n.app===t&&n.inspectorId===sn)if(n.filter){var o=[];A_(o,e._modules.root,n.filter,""),n.rootNodes=o}else n.rootNodes=[E_(e._modules.root,"")]}),s.on.getInspectorState(function(n){if(n.app===t&&n.inspectorId===sn){var o=n.nodeId;S_(e,o),n.state=ip(lp(e._modules,o),o==="root"?e.getters:e._makeLocalGettersCache,o)}}),s.on.editInspectorState(function(n){if(n.app===t&&n.inspectorId===sn){var o=n.nodeId,i=n.path;o!=="root"&&(i=o.split("/").filter(Boolean).concat(i)),e._withCommit(function(){n.set(e._state.data,i,n.state.value)})}}),e.subscribe(function(n,o){var i={};n.payload&&(i.payload=n.payload),i.state=o,s.notifyComponentUpdate(),s.sendInspectorTree(sn),s.sendInspectorState(sn),s.addTimelineEvent({layerId:Yr,event:{time:Date.now(),title:n.type,data:i}})}),e.subscribeAction({before:function(n,o){var i={};n.payload&&(i.payload=n.payload),n._id=ep++,n._time=Date.now(),i.state=o,s.addTimelineEvent({layerId:oa,event:{time:n._time,title:n.type,groupId:n._id,subtitle:"start",data:i}})},after:function(n,o){var i={},a=Date.now()-n._time;i.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},n.payload&&(i.payload=n.payload),i.state=o,s.addTimelineEvent({layerId:oa,event:{time:Date.now(),title:n.type,groupId:n._id,subtitle:"end",data:i}})}})})}var Jr=8702998,np=6710886,op=16777215,T_={label:"namespaced",textColor:op,backgroundColor:np};function C_(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function E_(t,e){return{id:e||"root",label:C_(e),tags:t.namespaced?[T_]:[],children:Object.keys(t._children).map(function(s){return E_(t._children[s],e+s+"/")})}}function A_(t,e,s,n){n.includes(s)&&t.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:e.namespaced?[T_]:[]}),Object.keys(e._children).forEach(function(o){A_(t,e._children[o],s,n+o+"/")})}function ip(t,e,s){e=s==="root"?e:e[s];var n=Object.keys(e),o={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(n.length){var i=ap(e);o.getters=Object.keys(i).map(function(a){return{key:a.endsWith("/")?C_(a):a,editable:!1,value:La(function(){return i[a]})}})}return o}function ap(t){var e={};return Object.keys(t).forEach(function(s){var n=s.split("/");if(n.length>1){var o=e,i=n.pop();n.forEach(function(a){o[a]||(o[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),o=o[a]._custom.value}),o[i]=La(function(){return t[s]})}else e[s]=La(function(){return t[s]})}),e}function lp(t,e){var s=e.split("/").filter(function(n){return n});return s.reduce(function(n,o,i){var a=n[o];if(!a)throw new Error('Missing module "'+o+'" for path "'+e+'".');return i===s.length-1?a:a._children},e==="root"?t:t.root._children)}function La(t){try{return t()}catch(e){return e}}var De=function(e,s){this.runtime=s,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=(typeof n=="function"?n():n)||{}},O_={namespaced:{configurable:!0}};O_.namespaced.get=function(){return!!this._rawModule.namespaced};De.prototype.addChild=function(e,s){this._children[e]=s};De.prototype.removeChild=function(e){delete this._children[e]};De.prototype.getChild=function(e){return this._children[e]};De.prototype.hasChild=function(e){return e in this._children};De.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};De.prototype.forEachChild=function(e){vn(this._children,e)};De.prototype.forEachGetter=function(e){this._rawModule.getters&&vn(this._rawModule.getters,e)};De.prototype.forEachAction=function(e){this._rawModule.actions&&vn(this._rawModule.actions,e)};De.prototype.forEachMutation=function(e){this._rawModule.mutations&&vn(this._rawModule.mutations,e)};Object.defineProperties(De.prototype,O_);var Ys=function(e){this.register([],e,!1)};Ys.prototype.get=function(e){return e.reduce(function(s,n){return s.getChild(n)},this.root)};Ys.prototype.getNamespace=function(e){var s=this.root;return e.reduce(function(n,o){return s=s.getChild(o),n+(s.namespaced?o+"/":"")},"")};Ys.prototype.update=function(e){I_([],this.root,e)};Ys.prototype.register=function(e,s,n){var o=this;n===void 0&&(n=!0);var i=new De(s,n);if(e.length===0)this.root=i;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],i)}s.modules&&vn(s.modules,function(l,c){o.register(e.concat(c),l,n)})};Ys.prototype.unregister=function(e){var s=this.get(e.slice(0,-1)),n=e[e.length-1],o=s.getChild(n);o&&o.runtime&&s.removeChild(n)};Ys.prototype.isRegistered=function(e){var s=this.get(e.slice(0,-1)),n=e[e.length-1];return s?s.hasChild(n):!1};function I_(t,e,s){if(e.update(s),s.modules)for(var n in s.modules){if(!e.getChild(n))return;I_(t.concat(n),e.getChild(n),s.modules[n])}}function rp(t){return new _e(t)}var _e=function(e){var s=this;e===void 0&&(e={});var n=e.plugins;n===void 0&&(n=[]);var o=e.strict;o===void 0&&(o=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ys(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var a=this,l=this,c=l.dispatch,u=l.commit;this.dispatch=function(h,g){return c.call(a,h,g)},this.commit=function(h,g,w){return u.call(a,h,g,w)},this.strict=o;var _=this._modules.root.state;Ni(this,_,[],this._modules.root),ml(this,_),n.forEach(function(d){return d(s)})},wl={state:{configurable:!0}};_e.prototype.install=function(e,s){e.provide(s||k_,this),e.config.globalProperties.$store=this;var n=this._devtools!==void 0?this._devtools:!1;n&&sp(e,this)};wl.state.get=function(){return this._state.data};wl.state.set=function(t){};_e.prototype.commit=function(e,s,n){var o=this,i=ui(e,s,n),a=i.type,l=i.payload,c={type:a,payload:l},u=this._mutations[a];u&&(this._withCommit(function(){u.forEach(function(d){d(l)})}),this._subscribers.slice().forEach(function(_){return _(c,o.state)}))};_e.prototype.dispatch=function(e,s){var n=this,o=ui(e,s),i=o.type,a=o.payload,l={type:i,payload:a},c=this._actions[i];if(c){try{this._actionSubscribers.slice().filter(function(_){return _.before}).forEach(function(_){return _.before(l,n.state)})}catch{}var u=c.length>1?Promise.all(c.map(function(_){return _(a)})):c[0](a);return new Promise(function(_,d){u.then(function(h){try{n._actionSubscribers.filter(function(g){return g.after}).forEach(function(g){return g.after(l,n.state)})}catch{}_(h)},function(h){try{n._actionSubscribers.filter(function(g){return g.error}).forEach(function(g){return g.error(l,n.state,h)})}catch{}d(h)})})}};_e.prototype.subscribe=function(e,s){return x_(e,this._subscribers,s)};_e.prototype.subscribeAction=function(e,s){var n=typeof e=="function"?{before:e}:e;return x_(n,this._actionSubscribers,s)};_e.prototype.watch=function(e,s,n){var o=this;return K(function(){return e(o.state,o.getters)},s,Object.assign({},n))};_e.prototype.replaceState=function(e){var s=this;this._withCommit(function(){s._state.data=e})};_e.prototype.registerModule=function(e,s,n){n===void 0&&(n={}),typeof e=="string"&&(e=[e]),this._modules.register(e,s),Ni(this,this.state,e,this._modules.get(e),n.preserveState),ml(this,this.state)};_e.prototype.unregisterModule=function(e){var s=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var n=vl(s.state,e.slice(0,-1));delete n[e[e.length-1]]}),$_(this)};_e.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};_e.prototype.hotUpdate=function(e){this._modules.update(e),$_(this,!0)};_e.prototype._withCommit=function(e){var s=this._committing;this._committing=!0,e(),this._committing=s};Object.defineProperties(_e.prototype,wl);const F=(t,e)=>{const s=t.__vccOpts||t;for(const[n,o]of e)s[n]=o;return s},cp=t=>(et("data-v-6111f172"),t=t(),st(),t),up={class:"scroll_box"},_p={class:"scroll_box_content"},dp={class:"btn_box"},hp=["src"],fp=["src"],gp=["onClick"],pp=["src"],mp={key:0,class:"age_tag"},vp={key:1,class:"page_count"},wp=cp(()=>r("img",{src:"https://www.sunyuanling.com/assets/page_count.svg"},null,-1)),yp={class:"cartoon_title",style:{width:"100%","margin-left":"15px"}},bp=["onClick"],kp={class:"user_avatar"},xp=["src"],$p={class:"username"},Sp={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=pt(),n=t,o=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),i=y(null),a=y(null),l=()=>{i.value&&i.value.forEach((f,p)=>{f.style.backgroundColor=o.value[p%o.value.length]})},c=e,u=f=>{c("chose_item",f)},_=f=>f<.5?2*f*f:-1+(4-2*f)*f,d=(f,p)=>{const m=a.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=_(T);a.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},h=()=>{d(-n.scrollDistance,n.animationDuration)},g=()=>{d(n.scrollDistance,n.animationDuration)};function w(f,p){s.commit("SET_OTHER_USERID",f),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(f)}return Q(()=>{l(),console.log(n)}),(f,p)=>(v(),k("div",up,[r("div",_p,[r("div",dp,[r("div",{class:"left_btn",onClick:h},[r("img",{src:n.left_btn,class:"icon"},null,8,hp)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:n.right_btn,class:"icon"},null,8,fp)])]),r("div",{class:"list",ref_key:"list",ref:a},[(v(!0),k(Z,null,rt(n.msg_list,(m,b)=>(v(),k("div",{class:"item",key:b},[n.msg_type==="image"?(v(),k("div",{key:0,class:"image_item",onClick:x=>u(m.Illustration_id)},[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+m.content_file_list.split(/[,，]/)[0],class:"image"},null,8,pp),m.age_classification>=17?(v(),k("div",mp,"R-"+S(m.age_classification),1)):O("",!0),m.content_file_list.split(/[,，]/).length>1?(v(),k("div",vp,[wp,$t(" "+S(m.content_file_list.split(/[,，]/).length),1)])):O("",!0)],8,gp)):O("",!0),r("div",yp,[r("span",null,S(m.work_name),1)]),r("div",{class:"user_info",onClick:x=>w(m.belong_to_user_id)},[r("div",kp,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+m.user_avatar},null,8,xp)]),r("div",$p,[r("span",null,S(m.belong_to_user),1)])],8,bp)]))),128))],512)])]))}},Tp=F(Sp,[["__scopeId","data-v-6111f172"]]);async function Cp(t,e,s,n){try{const o=await fetch("https://www.sunyuanling.com/api/recommend/recommentd/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({token:t,work_type:e,work_offset:s,work_limit:n})});if(o.ok){const i=await o.json();return i.status=="success"?i.data:i.message}else return o.status}catch(o){console.log(o)}}const Ep=t=>(et("data-v-7b889cbf"),t=t(),st(),t),Ap={class:"ill_recommend"},Op={class:"content"},Ip=["onClick"],Mp=["src"],Pp={key:0,class:"page_count"},Lp=Ep(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/page_count.svg"},null,-1)),Dp={key:1,class:"age_tag"},Rp={class:"work_info"},Np=["onClick"],jp={class:"author_avatar"},Fp=["src"],zp={class:"author_name"},Up={__name:"ill_recommend",props:{work_info:{type:[Array,Object],default:()=>[]}},emits:["choose_item","choose_user"],setup(t,{emit:e}){const s=pt(),n=t,o=e;function i(l){console.log(l),o("choose_item",l),s.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",l)}function a(l){console.log(l),o("choose_user",l),s.commit("SET_OTHER_USERID",l),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0})}return kt(()=>n.work_info),(l,c)=>(v(),k("div",Ap,[r("div",Op,[(v(!0),k(Z,null,rt(t.work_info,(u,_)=>(v(),k("div",{class:"item",key:_},[r("div",{class:"work_cover",onClick:d=>i(u.Illustration_id)},[r("img",{class:"cover_img",src:"https://www.sunyuanling.com/image/thumbnail/"+u.content_file_list.split(/[,，]/)[0]},null,8,Mp),u.content_file_list.split(/[,，]/).length>1?(v(),k("div",Pp,[Lp,$t(" "+S(u.content_file_list.split(/[,，]/).length),1)])):O("",!0),u.age_classification!=16?(v(),k("div",Dp," R-"+S(u.age_classification),1)):O("",!0)],8,Ip),r("div",Rp,[r("span",null,S(u.name),1)]),u.author_info?(v(),k("div",{key:0,class:"author_info",onClick:d=>a(u.author_info.userid)},[r("div",jp,[r("img",{class:"author_avatar",src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+u.author_info.user_avatar},null,8,Fp)]),r("div",zp,S(u.author_info.username),1)],8,Np)):O("",!0)]))),128))])]))}},Hp=F(Up,[["__scopeId","data-v-7b889cbf"]]),Bp=t=>(et("data-v-e9e93374"),t=t(),st(),t),Gp={class:"comic_recommend"},Wp={class:"content"},Vp=["onClick"],Kp=["src"],Yp={key:0,class:"page_count"},Jp=Bp(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/page_count.svg"},null,-1)),qp={key:1,class:"age_tag"},Qp={class:"work_info"},Xp=["onClick"],Zp={class:"author_avatar"},tm=["src"],em={class:"author_name"},sm={__name:"comic_recommend",props:{work_info:{type:Array,default:()=>[]}},emits:["choose_item","choose_user"],setup(t,{emit:e}){const s=pt(),n=t,o=e;function i(l){console.log(l),o("choose_item",l),s.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",l)}function a(l){console.log(l),o("choose_user",l),s.commit("SET_OTHER_USERID",l),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0})}return kt(()=>n.work_info),(l,c)=>(v(),k("div",Gp,[r("div",Wp,[(v(!0),k(Z,null,rt(t.work_info,(u,_)=>(v(),k("div",{class:"item",key:_},[r("div",{class:"work_cover",onClick:d=>i(u.id)},[r("img",{class:"cover_img",src:"https://www.sunyuanling.com/image/comic/thumbnail/"+u.content_file_list.split(/[,，]/)[0]},null,8,Kp),u.content_file_list.split(/[,，]/).length>1?(v(),k("div",Yp,[Jp,$t(" "+S(u.content_file_list.split(/[,，]/).length),1)])):O("",!0),u.age_classification!=16?(v(),k("div",qp," R-"+S(u.age_classification),1)):O("",!0)],8,Vp),r("div",Qp,[r("span",null,S(u.name),1)]),r("div",{class:"author_info",onClick:d=>a(u.author_info.userid)},[r("div",Zp,[r("img",{class:"author_avatar",src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+u.author_info.user_avatar},null,8,tm)]),r("div",em,S(u.author_info.username),1)],8,Xp)]))),128))])]))}},nm=F(sm,[["__scopeId","data-v-e9e93374"]]),om={class:"novel_recommend"},im={class:"content"},am=["onClick"],lm=["src"],rm={class:"work_info"},cm={class:"work_name"},um={class:"brief_introduction"},_m={class:"work_status"},dm=["onClick"],hm={class:"author_avatar"},fm=["src"],gm={class:"author_name"},pm={__name:"novel_recommend",props:{work_info:{type:Array,default:()=>[]}},emits:["choose_item","choose_user"],setup(t,{emit:e}){const s=pt(),n=t,o=e;function i(l){console.log(l),o("choose_item",l),s.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",l)}function a(l){console.log(l),o("choose_user",l),s.commit("SET_OTHER_USERID",l),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0})}return kt(()=>n.work_info),(l,c)=>(v(),k("div",om,[r("div",im,[(v(!0),k(Z,null,rt(t.work_info,(u,_)=>(v(),k("div",{class:"item",key:_},[r("div",{class:"work_cover",onClick:d=>i(u.work_id)},[r("img",{class:"cover_img",src:"https://www.sunyuanling.com/image/novel/thumbnail/"+u.work_cover},null,8,lm)],8,am),r("div",rm,[r("div",cm,[r("span",null,S(u.work_name),1)]),r("div",um,[r("span",null,S(u.brief_introduction),1)]),r("div",_m,[r("span",null,S(u.category),1),r("span",null,S(u.is_vip_work==1?"vip作品":"免费作品"),1),r("span",null,S(u.work_status),1)]),r("div",{class:"author_info",onClick:d=>a(u.author_info.userid)},[r("div",hm,[r("img",{class:"avatar_img",src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+u.author_info.user_avatar},null,8,fm)]),r("div",gm,[r("span",null,S(u.author_info.username),1)])],8,dm)])]))),128))])]))}},mm=F(pm,[["__scopeId","data-v-af44188a"]]),vm={key:0},wm={__name:"index",props:{token:String,work_type:String},setup(t){const e=t;let s=y([]),n=y(0),o=y(20),i=y(!1);const a=kt(()=>{switch(e.work_type){case"ill":return Hp;case"comic":return nm;case"novel":return mm;default:return null}}),l=async()=>{if(i.value)return;i.value=!0;const u=await Cp(e.token,e.work_type,n.value,o.value);s.value=[...s.value,...u],n.value+=o.value,i.value=!1},c=()=>{const u=window.scrollY||document.documentElement.scrollTop,_=window.innerHeight||document.documentElement.clientHeight,d=document.documentElement.scrollHeight;u+_>=d-200&&l()};return Q(()=>{window.addEventListener("scroll",c),l()}),Le(()=>{window.removeEventListener("scroll",c)}),(u,_)=>(v(),k("div",{class:"index",onScroll:c},[(v(),lt(nf(a.value),{work_info:$(s)},null,8,["work_info"])),$(i)?(v(),k("div",vm,"加载中...")):O("",!0)],32))}},wn=F(wm,[["__scopeId","data-v-e8c897f1"]]),ym={class:"recommend"},M_={__name:"recommendation",props:{token:{type:String,default:""},work_type:{type:String,default:""}},setup(t){return(e,s)=>(v(),k("div",ym,[W(wn,{token:t.token,work_type:t.work_type},null,8,["token","work_type"])]))}};async function bm(t="ill"){try{const e=await fetch("https://www.sunyuanling.com/api/rank_list/GetRankList/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_type:t})});if(e.ok){const s=await e.json();return s.status=="success"?s.data:s.message}else return"网络错误"}catch(e){console.log(e)}}const km=t=>(et("data-v-671aec24"),t=t(),st(),t),xm={class:"scroll_box"},$m={class:"scroll_box_content"},Sm={class:"btn_box"},Tm=["src"],Cm=["src"],Em=["onClick"],Am={class:"ranking"},Om=["src"],Im={key:0,class:"age_tag"},Mm={key:1,class:"page_count"},Pm=km(()=>r("img",{src:"https://www.sunyuanling.com/assets/page_count.svg"},null,-1)),Lm={class:"cartoon_title",style:{width:"100%","margin-left":"15px"}},Dm=["onClick"],Rm={class:"user_avatar"},Nm=["src"],jm={class:"username"},Fm={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=pt(),n=t,o=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),i=y(null),a=y(null),l=()=>{i.value&&i.value.forEach((f,p)=>{f.style.backgroundColor=o.value[p%o.value.length]})},c=e,u=f=>{c("chose_item",f),s.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",f),s.commit("SET_WORK_TYPE","ill")},_=f=>f<.5?2*f*f:-1+(4-2*f)*f,d=(f,p)=>{const m=a.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=_(T);a.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},h=()=>{d(-n.scrollDistance,n.animationDuration)},g=()=>{d(n.scrollDistance,n.animationDuration)};function w(f,p){s.commit("SET_OTHER_USERID",f),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(f)}return Q(()=>{l(),console.log(n)}),(f,p)=>(v(),k("div",xm,[r("div",$m,[r("div",Sm,[r("div",{class:"left_btn",onClick:h},[r("img",{src:n.left_btn,class:"icon"},null,8,Tm)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:n.right_btn,class:"icon"},null,8,Cm)])]),r("div",{class:"list",ref_key:"list",ref:a},[(v(!0),k(Z,null,rt(n.msg_list,(m,b)=>(v(),k("div",{class:"item",key:b},[n.msg_type==="image"?(v(),k("div",{key:0,class:"image_item",onClick:x=>u(m.work_info.Illustration_id)},[r("div",Am,S(b+1),1),r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+m.work_info.content_file_list.split(/[,，]/)[0],class:"image"},null,8,Om),m.work_info.age_classification>=17?(v(),k("div",Im,"R-"+S(m.work_info.age_classification),1)):O("",!0),m.work_info.content_file_list.split(/[,，]/).length>1?(v(),k("div",Mm,[Pm,$t(" "+S(m.work_info.content_file_list.split(/[,，]/).length),1)])):O("",!0)],8,Em)):O("",!0),r("div",Lm,[r("span",null,S(m.work_info.work_name),1)]),r("div",{class:"user_info",onClick:x=>w(m.author_info.author_id)},[r("div",Rm,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+m.author_info.author_avatar},null,8,Nm)]),r("div",jm,[r("span",null,S(m.author_info.author_username),1)])],8,Dm)]))),128))],512)])]))}},zm=F(Fm,[["__scopeId","data-v-671aec24"]]),Um=t=>(et("data-v-cf52e4c6"),t=t(),st(),t),Hm={class:"scroll_box"},Bm={class:"scroll_box_content"},Gm={class:"btn_box"},Wm=["src"],Vm=["src"],Km=["onClick"],Ym={class:"ranking"},Jm=["src"],qm={key:0,class:"age_tag"},Qm={key:1,class:"page_count"},Xm=Um(()=>r("img",{src:"https://www.sunyuanling.com/assets/page_count.svg"},null,-1)),Zm={class:"cartoon_title",style:{width:"100%","margin-left":"15px"}},tv=["onClick"],ev={class:"user_avatar"},sv=["src"],nv={class:"username"},ov={__name:"scroll_box_comic",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=pt();function n(f,p){s.commit("SET_OTHER_USERID",f),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(f)}const o=t,i=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),a=y(null),l=y(null),c=()=>{a.value&&a.value.forEach((f,p)=>{f.style.backgroundColor=i.value[p%i.value.length]})},u=e,_=f=>{u("chose_item",f),s.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",f),s.commit("SET_WORK_TYPE","comic")},d=f=>f<.5?2*f*f:-1+(4-2*f)*f,h=(f,p)=>{const m=l.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=d(T);l.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},g=()=>{h(-o.scrollDistance,o.animationDuration)},w=()=>{h(o.scrollDistance,o.animationDuration)};return Q(()=>{c()}),(f,p)=>(v(),k("div",Hm,[r("div",Bm,[r("div",Gm,[r("div",{class:"left_btn",onClick:g},[r("img",{src:o.left_btn,class:"icon"},null,8,Wm)]),r("div",{class:"right_btn",onClick:w},[r("img",{src:o.right_btn,class:"icon"},null,8,Vm)])]),r("div",{class:"list",ref_key:"list",ref:l},[(v(!0),k(Z,null,rt(o.msg_list,(m,b)=>(v(),k("div",{class:"item",key:b},[o.msg_type==="image"?(v(),k("div",{key:0,class:"image_item",onClick:x=>_(m.work_info.id)},[r("div",Ym,S(b+1),1),r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+m.work_info.content_file_list.split(/[,，]/)[0],class:"image"},null,8,Jm),m.work_info.age_classification>=17?(v(),k("div",qm,"R-"+S(m.work_info.age_classification),1)):O("",!0),m.work_info.content_file_list.split(/[,，]/).length>1?(v(),k("div",Qm,[Xm,$t(" "+S(m.work_info.content_file_list.split(/[,，]/).length),1)])):O("",!0)],8,Km)):O("",!0),r("div",Zm,[r("span",null,S(m.work_info.work_name),1)]),r("div",{class:"user_info",onClick:x=>n(m.author_info.author_id)},[r("div",ev,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+m.author_info.author_avatar},null,8,sv)]),r("div",nv,[r("span",null,S(m.author_info.author_username),1)])],8,tv)]))),128))],512)])]))}},iv=F(ov,[["__scopeId","data-v-cf52e4c6"]]),av={class:"scroll_box"},lv={class:"scroll_box_content"},rv={class:"btn_box"},cv=["src"],uv=["src"],_v=["onClick"],dv={class:"ranking"},hv=["src"],fv={key:0,class:"age_tag"},gv={class:"work_info"},pv={class:"brief_introduction"},mv={class:"work_status"},vv=["onClick"],wv={class:"user_avatar"},yv=["src"],bv={class:"username"},kv={__name:"scroll_box_novel",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=pt(),n=t,o=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),i=y(null),a=y(null),l=()=>{i.value&&i.value.forEach((f,p)=>{f.style.backgroundColor=o.value[p%o.value.length]})},c=e,u=f=>{c("chose_item",f),s.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",f),s.commit("SET_WORK_TYPE","novel")},_=f=>f<.5?2*f*f:-1+(4-2*f)*f,d=(f,p)=>{const m=a.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=_(T);a.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},h=()=>{d(-n.scrollDistance,n.animationDuration)},g=()=>{d(n.scrollDistance,n.animationDuration)};function w(f,p){s.commit("SET_OTHER_USERID",f),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(f)}return Q(()=>{l(),console.log(n)}),(f,p)=>(v(),k("div",av,[r("div",lv,[r("div",rv,[r("div",{class:"left_btn",onClick:h},[r("img",{src:n.left_btn,class:"icon"},null,8,cv)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:n.right_btn,class:"icon"},null,8,uv)])]),r("div",{class:"list",ref_key:"list",ref:a},[(v(!0),k(Z,null,rt(n.msg_list,(m,b)=>(v(),k("div",{class:"item",key:b},[n.msg_type==="image"?(v(),k("div",{key:0,class:"image_item",onClick:x=>u(m.work_info.work_id)},[r("div",dv,S(b+1),1),r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+m.work_info.work_cover,class:"image"},null,8,hv),m.work_info.age_classification>=17?(v(),k("div",fv,"R-"+S(m.work_info.age_classification),1)):O("",!0)],8,_v)):O("",!0),r("div",gv,[r("span",null,S(m.work_info.work_name),1),r("div",pv,S(m.work_info.brief_introduction),1),r("div",mv,[r("span",null,S(m.work_info.category)+"·"+S(m.work_info.is_vip_work==1?"VIP作品":"免费作品")+"·"+S(m.work_info.work_status),1)]),r("div",{class:"user_info",onClick:x=>w(m.author_info.author_id)},[r("div",wv,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+m.author_info.author_avatar},null,8,yv)]),r("div",bv,[r("span",null,S(m.author_info.author_username),1)])],8,vv)])]))),128))],512)])]))}},xv=F(kv,[["__scopeId","data-v-6cd4921d"]]),$v={class:"root"},yl={__name:"root",props:{msg:String,work_type:{type:String,default:"ill"}},setup(t){const e=t;let s=y();return Q(async()=>{s.value=await bm(e.work_type),console.log(s.value)}),(n,o)=>(v(),k("div",$v,[t.work_type=="ill"&&$(s)?(v(),lt(zm,{key:0,msg_list:$(s)},null,8,["msg_list"])):O("",!0),t.work_type=="comic"&&$(s)?(v(),lt(iv,{key:1,msg_list:$(s)},null,8,["msg_list"])):O("",!0),t.work_type=="novel"&&$(s)?(v(),lt(xv,{key:2,msg_list:$(s)},null,8,["msg_list"])):O("",!0)]))}},Sv={class:"rank_list"},P_={__name:"ranking",setup(t){return(e,s)=>(v(),k("div",Sv,[W(yl,{work_type:"ill"})]))}};function Pe(t){let e=document.cookie.split("; ");for(let s=0;s<e.length;s++){let n=e[s].split("=");if(n[0]===t)return n[1]}return null}const bl=t=>(et("data-v-0ea59957"),t=t(),st(),t),Tv={class:"illustration_page"},Cv=bl(()=>r("h3",null,"用户关注的作品",-1)),Ev=bl(()=>r("h4",null,"推荐的作品",-1)),Av={style:{"max-height":"900px",overflow:"hidden"}},Ov=bl(()=>r("h4",null,"排行榜",-1)),Iv={name:"illustration_page",components:{recommendation:M_,ranking:P_}},Mv=Object.assign(Iv,{setup(t){const e=pt();let s=y(JSON.parse(Pe("userinfo"))),n=kt(()=>e.getters.token),o=y([]);async function i(){try{const u=await(await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowToIll/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:s.value.userid})})).json();if(u.status=="success"){o.value=u.data;for(let _=0;_<o.value.length;_++)o.value[_].belong_to_user_avatar=await a(o.value[_].belong_to_user_id);return u.data}else console.log(u.message)}catch(c){console.log(c)}}async function a(c){try{const u=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:c,token:null})});if(u.ok){const _=await u.json();if(_.status=="success")return _.data[0].user_avatar}else console.log(u.status)}catch(u){console.log(u)}}Q(()=>{i()});function l(c){e.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",c),e.commit("SET_WORK_TYPE","ill")}return(c,u)=>(v(),k("div",Tv,[Cv,$(o)?(v(),lt(Tp,{key:0,msg_list:$(o),onChose_item:l},null,8,["msg_list"])):O("",!0),Ev,r("div",Av,[$(n)?(v(),lt(M_,{key:0,token:$(n),work_type:"ill"},null,8,["token"])):O("",!0)]),Ov,W(P_)]))}}),Pv=F(Mv,[["__scopeId","data-v-0ea59957"]]),Lv=t=>(et("data-v-4d74fd5c"),t=t(),st(),t),Dv={class:"scroll_box"},Rv={class:"scroll_box_content"},Nv={class:"btn_box"},jv=["src"],Fv=["src"],zv=["onClick"],Uv=["src"],Hv={key:0,class:"age_tag"},Bv={key:1,class:"page_count"},Gv=Lv(()=>r("img",{src:"https://www.sunyuanling.com/assets/page_count.svg"},null,-1)),Wv={class:"cartoon_title",style:{width:"100%","margin-left":"15px"}},Vv=["onClick"],Kv={class:"user_avatar"},Yv=["src"],Jv={class:"username"},qv={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=pt();function n(f,p){s.commit("SET_OTHER_USERID",f),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(f)}const o=t,i=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),a=y(null),l=y(null),c=()=>{a.value&&a.value.forEach((f,p)=>{f.style.backgroundColor=i.value[p%i.value.length]})},u=e,_=f=>{u("chose_item",f)},d=f=>f<.5?2*f*f:-1+(4-2*f)*f,h=(f,p)=>{const m=l.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=d(T);l.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},g=()=>{h(-o.scrollDistance,o.animationDuration)},w=()=>{h(o.scrollDistance,o.animationDuration)};return Q(()=>{c()}),(f,p)=>(v(),k("div",Dv,[r("div",Rv,[r("div",Nv,[r("div",{class:"left_btn",onClick:g},[r("img",{src:o.left_btn,class:"icon"},null,8,jv)]),r("div",{class:"right_btn",onClick:w},[r("img",{src:o.right_btn,class:"icon"},null,8,Fv)])]),r("div",{class:"list",ref_key:"list",ref:l},[(v(!0),k(Z,null,rt(o.msg_list,(m,b)=>(v(),k("div",{class:"item",key:b},[o.msg_type==="image"?(v(),k("div",{key:0,class:"image_item",onClick:x=>_(m.id)},[r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+m.content_file_list.split(/[,，]/)[0],class:"image"},null,8,Uv),m.age_classification>=17?(v(),k("div",Hv,"R-"+S(m.age_classification),1)):O("",!0),m.content_file_list.split(/[,，]/).length>1?(v(),k("div",Bv,[Gv,$t(" "+S(m.content_file_list.split(/[,，]/).length),1)])):O("",!0)],8,zv)):O("",!0),r("div",Wv,[r("span",null,S(m.work_name),1)]),r("div",{class:"user_info",onClick:x=>n(m.belong_to_userid)},[r("div",Kv,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+m.belong_to_avatar},null,8,Yv)]),r("div",Jv,[r("span",null,S(m.belong_to_user),1)])],8,Vv)]))),128))],512)])]))}},Qv=F(qv,[["__scopeId","data-v-4d74fd5c"]]),Xv={class:"recommend"},L_={__name:"recommendation_cartoon",props:{token:{type:String,default:""},work_type:{type:String,default:"comic"}},setup(t){return(e,s)=>(v(),k("div",Xv,[W(wn,{token:t.token,work_type:t.work_type},null,8,["token","work_type"])]))}},Zv={class:"rank_list"},D_={__name:"ranking",setup(t){return(e,s)=>(v(),k("div",Zv,[W(yl,{work_type:"comic"})]))}},kl=t=>(et("data-v-3ecfea77"),t=t(),st(),t),tw={class:"cartoon_page"},ew=kl(()=>r("h3",null,"已关注用户作品",-1)),sw=kl(()=>r("h4",null,"推荐作品",-1)),nw={class:"recommend_page",style:{"max-height":"900px",overflow:"hidden"}},ow=kl(()=>r("h4",null,"排行榜",-1)),iw={name:"cartoon_page",components:{recommendation_cartoon:L_,ranking:D_}},aw=Object.assign(iw,{setup(t){const e=pt();let s=y(JSON.parse(Pe("userinfo")));console.log(s.value);let n=y([]),o=kt(()=>e.getters.token);async function i(){try{const c=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowToComic/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:s.value.userid})}),u=await c.json();if(c.ok){console.log(u),n.value=u.data,console.log(n.value);for(let _=0;_<n.value.length;_++)n.value[_].belong_to_avatar=await a(n.value[_].belong_to_userid)}else console.log("服务器错误")}catch(c){console.log(c)}}async function a(c){try{const u=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:c,token:null})});if(u.ok){const _=await u.json();if(_.status=="success")return _.data[0].user_avatar}else console.log(u.status)}catch(u){console.log(u)}}Q(()=>{i()});function l(c){e.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",c)}return(c,u)=>(v(),k("div",tw,[ew,$(n)?(v(),lt(Qv,{key:0,msg_list:$(n),onChose_item:l},null,8,["msg_list"])):O("",!0),sw,r("div",nw,[W(L_,{token:$(o),work_type:"comic"},null,8,["token"])]),ow,W(D_)]))}}),lw=F(aw,[["__scopeId","data-v-3ecfea77"]]),rw={class:"recommend"},R_={__name:"recommendation_novel",props:{token:{type:String,default:""},work_type:{type:String,default:"novel"}},setup(t){return(e,s)=>(v(),k("div",rw,[W(wn,{token:t.token,work_type:t.work_type},null,8,["token","work_type"])]))}},cw={class:"rank_list"},N_={__name:"ranking",setup(t){return(e,s)=>(v(),k("div",cw,[W(yl,{work_type:"novel"})]))}},xl=t=>(et("data-v-95e7d132"),t=t(),st(),t),uw={class:"novel_page"},_w=xl(()=>r("h3",null,"已关注用户作品",-1)),dw={class:"novel_list"},hw=["onClick"],fw=["src"],gw={class:"novel_info"},pw={class:"novel_state mt"},mw={class:"novel_title mt"},vw=["onClick"],ww={class:"novel_useravatar"},yw=["src"],bw={class:"novel_username"},kw={class:"novel_tags mt"},xw={key:0,style:{"margin-right":"5px"},class:"age_tag"},$w={class:"novel_read_data mt"},Sw={class:"word_count"},Tw={class:"read_time"},Cw={class:"like_count"},Ew=xl(()=>r("h4",null,"推荐的小说作品",-1)),Aw={class:"recommend_page",style:{"max-height":"1200px",overflow:"hidden"}},Ow=xl(()=>r("h4",null,"小说排行榜",-1)),Iw={name:"novel_page",components:{recommendation_novel:R_,ranking:N_}},Mw=Object.assign(Iw,{setup(t){const e=pt();let s=kt(()=>e.getters.token);function n(h,g){e.commit("SET_OTHER_USERID",h),e.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(h)}let o=y("1111"),i=y("12"),a=y("45"),l=y(JSON.parse(Pe("userinfo"))),c=y([]);async function u(){try{const h=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowNovel/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:l.value.userid})});if(h.ok){const g=await h.json();console.log(g),c.value=g.data;for(let w=0;w<c.value.length;w++)c.value[w].belong_to_avatar=await _(c.value[w].belong_to_userid)}else console.log("服务器错误")}catch(h){console.log(h)}}async function _(h){try{const g=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:h,token:null})});if(g.ok){const w=await g.json();if(w.status=="success")return w.data[0].user_avatar}else console.log(g.status)}catch(g){console.log(g)}}Q(()=>{u()});function d(h){e.commit("SET_WORK_ID",h),e.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0})}return(h,g)=>(v(),k("div",uw,[_w,r("div",dw,[(v(!0),k(Z,null,rt($(c),(w,f)=>(v(),k("div",{class:"novel_item",key:f},[r("div",{class:"novel_cover",onClick:p=>d(w.work_id)},[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+w.work_cover},null,8,fw)],8,hw),r("div",gw,[r("div",pw,[r("span",null,S(w.work_status),1)]),r("div",mw,[r("span",null,S(w.work_name),1)]),r("div",{class:"novel_userinfo mt",onClick:p=>n(w.belong_to_userid)},[r("div",ww,[r("img",{src:"https://www.sunyuanling.com/image/"+w.belong_to_avatar},null,8,yw)]),r("div",bw,[r("span",null,S(w.belong_to_username),1)])],8,vw),r("div",kw,[w.age_classification>17?(v(),k("span",xw,"R-"+S(w.age_classification),1)):O("",!0),(v(!0),k(Z,null,rt(w.work_tags.split(/[,，]/),(p,m)=>(v(),k("span",{class:"tags",key:m},"#"+S(p),1))),128))]),r("div",$w,[r("div",Sw,[r("span",null,S($(o))+"字",1)]),r("div",Tw,[r("span",null,S($(i))+"分钟",1)]),r("div",Cw,[r("span",null,S($(a))+"人喜欢",1)])])])]))),128))]),Ew,r("div",Aw,[W(R_,{token:$(s),work_type:"novel"},null,8,["token"])]),Ow,W(N_)]))}}),Pw=F(Mw,[["__scopeId","data-v-95e7d132"]]),Lw=t=>(et("data-v-eb84404d"),t=t(),st(),t),Dw={class:"scroll_box"},Rw={class:"scroll_box_content"},Nw={class:"btn_box"},jw=["src"],Fw=["src"],zw=Lw(()=>r("div",{class:"image_item"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/add.svg"})],-1)),Uw=[zw],Hw=["onClick"],Bw=["onClick"],Gw=["src"],Ww=["src"],Vw={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item","choose_cover_file","clear_cover_file"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null);let a=y(null);const l=()=>{o.value&&o.value.forEach((b,x)=>{b.style.backgroundColor=n.value[x%n.value.length]})},c=e;let u=y("https://www.sunyuanling.com/assets/select_correct.svg"),_=y(null),d=y(null);const h=(b,x)=>{if(b!="custom_cover"){c("chose_item","template_"+(x+1)),c("clear_cover_file",!0),_.value[x].style.boxShadow="inset 0px 0px 10px 0px rgba(0, 150, 250, 1)",d.value[x].style.display="";for(let A=0;A<_.value.length;A++)A!=x&&(_.value[A].style.boxShadow="none",d.value[A].style.display="none")}else a.value.click(),c("chose_item","custom_cover")};function g(b){let x=b.target.files[0];if(x.type.indexOf("image")==-1){alert("请选择图片文件");return}if(x.size>1024*1024*35){alert("请选择小于35M的图片");return}x&&(c("choose_cover_file",x),console.log("文件传递父组件"),console.log(x))}const w=b=>b<.5?2*b*b:-1+(4-2*b)*b,f=(b,x)=>{const A=i.value.scrollLeft,I=performance.now(),T=D=>{const C=D-I,P=Math.min(C/x,1),j=w(P);i.value.scrollLeft=A+b*j,P<1&&requestAnimationFrame(T)};requestAnimationFrame(T)},p=()=>{f(-s.scrollDistance,s.animationDuration)},m=()=>{f(s.scrollDistance,s.animationDuration)};return Q(()=>{l()}),K(()=>s.msg_list,b=>{o.value=i.value.querySelectorAll(".tags_item"),l()}),(b,x)=>(v(),k("div",Dw,[r("div",Rw,[r("div",Nw,[r("div",{class:"left_btn",onClick:p},[r("img",{src:s.left_btn,class:"icon"},null,8,jw)]),r("div",{class:"right_btn",onClick:m},[r("img",{src:s.right_btn,class:"icon"},null,8,Fw)])]),r("div",{class:"list",ref_key:"list",ref:i},[s.msg_type==="image"?(v(),k("div",{key:0,class:"item",onClick:x[0]||(x[0]=A=>h("custom_cover"))},Uw)):O("",!0),(v(!0),k(Z,null,rt(s.msg_list,(A,I)=>(v(),k("div",{class:"item",key:I},[s.msg_type==="tags"?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_item",ref:o,onClick:T=>h(A)},[r("span",null,S(A),1)],8,Hw)):O("",!0),s.msg_type==="image"?(v(),k("div",{key:1,class:"image_item",onClick:T=>h(A,I)},[r("img",{src:A,class:"image"},null,8,Gw),r("div",{class:"select_box",ref_for:!0,ref_key:"select_box",ref:_},[r("img",{src:$(u),class:"icon",ref_for:!0,ref_key:"select_icon",ref:d,style:{display:"none"}},null,8,Ww)],512)],8,Bw)):O("",!0)]))),128))],512),r("input",{class:"select_cover",type:"file",ref_key:"select_cover",ref:a,id:"select_cover",style:{display:"none"},accept:"image/*",onChange:g},null,544)])]))}},j_=F(Vw,[["__scopeId","data-v-eb84404d"]]);async function Kw(t){try{const e=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowWorkTags/",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({token:t})});return e.ok?await e.json():(console.log("获取关注作品标签失败"),!1)}catch(e){return console.log(e),!1}}async function qr(t=null,e=null){try{const s=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"POST",body:JSON.stringify({token:t,userid:e})});if(s.ok){const n=await s.json();return n.status=="success"?n.data:!1}else return console.log(s.status),!1}catch(s){console.log(s)}}const Yw={class:"tag_box"},Jw={class:"switch_page"},qw={__name:"index",setup(t){const e=pt(),s=kt(()=>e.getters.indexPage),n=y(s.value),o=y({data:[]}),i=kt(()=>o.value.data.length>0&&o.value!==null&&o.value!==void 0);function a(l){e.commit("SET_INDEXPAGE",l),e.commit("SET_PAGESTATUS"),n.value=l}return K(()=>e.getters.indexPage,l=>{n.value=l}),Q(async()=>{a(s.value),console.log(e.getters.token);let l=await Kw(Nt("token"));o.value=l,console.log(o.value)}),(l,c)=>(v(),k(Z,null,[r("div",Yw,[i.value?(v(),lt(j_,{key:0,msg_type:"tags",msg_list:o.value.data},null,8,["msg_list"])):O("",!0)]),r("div",Jw,[r("span",{class:yt({active:n.value===0}),onClick:c[0]||(c[0]=u=>a(0))},"插画",2),r("span",{class:yt({active:n.value===1}),onClick:c[1]||(c[1]=u=>a(1))},"漫画",2),r("span",{class:yt({active:n.value===2}),onClick:c[2]||(c[2]=u=>a(2))},"小说",2)]),n.value===0?(v(),lt(Pv,{key:0})):O("",!0),n.value===1?(v(),lt(lw,{key:1})):O("",!0),n.value===2?(v(),lt(Pw,{key:2})):O("",!0)],64))}},Qw=F(qw,[["__scopeId","data-v-3d3a9c2b"]]);async function En(t,e){try{const s=await fetch("https://www.sunyuanling.com/api/notice_control/NoticeOperations/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({operate_type:e,token:t})});if(s.ok){const n=await s.json();if(n.status=="success")return n.data;console.log(n.message)}else console.log(s.status)}catch(s){console.log(s)}}const me=t=>(et("data-v-61e7e448"),t=t(),st(),t),Xw={class:"sidebar"},Zw=me(()=>r("div",{class:"title"},[r("span",null,"首页")],-1)),ty={class:"sidebar_content"},ey=me(()=>r("div",{class:"sidebar_content_item_icon"},[r("img",{src:"https://www.sunyuanling.com/assets/photo.svg",class:"icon"})],-1)),sy=me(()=>r("div",{class:"sidebar_content_item_text"},[r("span",null,"插画")],-1)),ny=[ey,sy],oy=me(()=>r("div",{class:"sidebar_content_item_icon"},[r("img",{src:"https://www.sunyuanling.com/assets/play.svg",class:"icon"})],-1)),iy=me(()=>r("div",{class:"sidebar_content_item_text"},"动图",-1)),ay=[oy,iy],ly=me(()=>r("div",{class:"sidebar_content_item_icon"},[r("img",{src:"https://www.sunyuanling.com/assets/comic.svg",class:"icon"})],-1)),ry=me(()=>r("div",{class:"sidebar_content_item_text"},[r("span",null,"漫画")],-1)),cy=[ly,ry],uy=me(()=>r("div",{class:"sidebar_content_item_icon"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/novel.svg"})],-1)),_y=me(()=>r("div",{class:"sidebar_content_item_text"},[r("span",null,"小说")],-1)),dy=[uy,_y],hy=Li('<br data-v-61e7e448><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/people.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>已关注用户的新作</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/find.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>发现</span></div></div><br data-v-61e7e448><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/rank_list.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>排行榜</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/smail.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>大家的新作</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/flag.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>比赛</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/red_love.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>约稿</span></div></div><br data-v-61e7e448><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/scroll.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>用户企划</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/pencil.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>绘图方法</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/idea.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>创作点子</span></div></div>',12),fy=me(()=>r("div",{class:"show_more_icon mr ml"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/drop_down.svg"})],-1)),gy=me(()=>r("div",{class:"show_more_text ml"},[r("span",null,"查看更多")],-1)),py=[fy,gy],my={class:"show_more_content"},vy=Li('<div class="show_more_content_item" data-v-61e7e448><div class="show_more_content_icon mr ml" data-v-61e7e448><img src="https://www.sunyuanling.com/assets/paper_airplane.svg" class="icon" data-v-61e7e448></div><div class="show_more_content_item_text mr ml" data-v-61e7e448><span data-v-61e7e448>动态</span></div></div><div class="show_more_content_item" data-v-61e7e448><div class="show_more_content_icon mr ml" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/blue_people.svg" data-v-61e7e448></div><div class="show_more_content_item_text mr ml" data-v-61e7e448>群组</div></div><div class="show_more_content_item" data-v-61e7e448><div class="show_more_content_icon mr ml" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/gift_pack.svg" data-v-61e7e448></div><div class="show_more_content_item_text mr ml" data-v-61e7e448>活动</div></div>',3),wy=me(()=>r("div",{class:"show_more_content_icon mr ml"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/drop_up.svg"})],-1)),yy=me(()=>r("div",{class:"show_more_content_item_text mr ml"},"收起",-1)),by=[wy,yy],ky={class:"other"},xy={class:"notice"},$y={name:"sidebar"},Sy=Object.assign($y,{setup(t){let e=y(!1),s=y(!0),n=Pe("token"),o=y();const i=pt();function a(_){switch(_){case 0:i.commit("SET_PAGESTATUS",0),i.commit("SET_INDEXPAGE",0),i.commit("SET_SINGLE_PAGE_STATUS",{key:"index_page",value:!0});break;case 1:i.commit("SET_PAGESTATUS",1),i.commit("SET_INDEXPAGE",1),i.commit("SET_SINGLE_PAGE_STATUS",{key:"index_page",value:!0});break;case 2:i.commit("SET_PAGESTATUS",2),i.commit("SET_INDEXPAGE",2),i.commit("SET_SINGLE_PAGE_STATUS",{key:"index_page",value:!0});break}}function l(){s.value==!0&&(s.value=!1,e.value=!0)}function c(){s.value==!1&&(s.value=!0,e.value=!1)}async function u(){try{const _=await fetch("https://www.sunyuanling.com/api/notice_control/NoticeOperations/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({operate_type:"search",token:n})});if(_.ok){const d=await _.json();d.status=="success"?o.value=d.data[0].content:console.log(d.message)}else console.log(_.status)}catch(_){console.log(_)}}return Q(async()=>{await u()}),(_,d)=>(v(),k("div",Xw,[Zw,r("div",ty,[r("div",{class:"sidebar_content_item",style:{},onClick:d[0]||(d[0]=h=>a(0))},ny),r("div",{class:"sidebar_content_item",onClick:d[1]||(d[1]=h=>a(0))},ay),r("div",{class:"sidebar_content_item",onClick:d[2]||(d[2]=h=>a(1))},cy),r("div",{class:"sidebar_content_item",onClick:d[3]||(d[3]=h=>a(2))},dy),hy,gt(r("div",{class:"show_more",onClick:l},py,512),[[_s,$(s)]]),gt(r("div",my,[vy,r("div",{class:"show_more_content_item",onClick:c},by)],512),[[_s,$(e)]]),r("div",ky,[r("span",null,S($(o)),1)])]),r("div",xy,[r("span",null,S($(o)),1)])]))}}),Ty=F(Sy,[["__scopeId","data-v-61e7e448"]]),Ss=t=>(et("data-v-bafa2ded"),t=t(),st(),t),Cy={class:"submission_work_box_page"},Ey=Ss(()=>r("div",{class:"submission_work_box_icon"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/photo.svg"})],-1)),Ay=Ss(()=>r("div",{class:"submission_work_box_text"},"插画",-1)),Oy=[Ey,Ay],Iy=Ss(()=>r("div",{class:"submission_work_box_icon"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/play.svg"})],-1)),My=Ss(()=>r("div",{class:"submission_work_box_text"},"动图",-1)),Py=[Iy,My],Ly=Ss(()=>r("div",{class:"submission_work_box_icon"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/comic.svg"})],-1)),Dy=Ss(()=>r("div",{class:"submission_work_box_text"},"漫画",-1)),Ry=[Ly,Dy],Ny=Ss(()=>r("div",{class:"submission_work_box_icon"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/novel.svg"})],-1)),jy=Ss(()=>r("div",{class:"submission_work_box_text"},"小说",-1)),Fy=[Ny,jy],zy={name:"submission_work_box"},Uy=Object.assign(zy,{setup(t){const e=pt();function s(n){e.commit("SET_UPLOAD_WORK_TYPE",n),e.commit("SET_SINGLE_PAGE_STATUS",{key:"upload_work",value:!0})}return(n,o)=>(v(),k("div",Cy,[r("div",{class:"submission_work_box_item",onClick:o[0]||(o[0]=i=>s("ill"))},Oy),r("div",{class:"submission_work_box_item",onClick:o[1]||(o[1]=i=>s("ill"))},Py),r("div",{class:"submission_work_box_item",onClick:o[2]||(o[2]=i=>s("comic"))},Ry),r("div",{class:"submission_work_box_item",onClick:o[3]||(o[3]=i=>s("novel"))},Fy)]))}}),Hy=F(Uy,[["__scopeId","data-v-bafa2ded"]]),go=t=>(et("data-v-33a6dc90"),t=t(),st(),t),By={class:"header_box"},Gy={class:"header_box_back mt"},Wy={class:"header_box_background"},Vy={class:"header_box_background_img"},Ky=["src"],Yy={class:"header_box_avatar_img"},Jy=["src"],qy={class:"header_box_username mt"},Qy={class:"header_box_userid mt"},Xy={class:"header_box_userdata mt"},Zy={class:"header_box_user_fldata",style:{cursor:"pointer"}},tb=go(()=>r("span",null,"关注",-1)),eb={class:"header_box_user_fans",style:{cursor:"pointer"}},sb=go(()=>r("span",null,"粉丝",-1)),nb=go(()=>r("br",null,null,-1)),ob=go(()=>r("span",null,"数据分析",-1)),ib=[ob],ab=Li('<div class="my_works mt hv" data-v-33a6dc90><span data-v-33a6dc90>我的作品</span></div><div class="appointment_management mt hv" data-v-33a6dc90><span data-v-33a6dc90>约稿管理</span></div><br data-v-33a6dc90><div class="collection mt hv" data-v-33a6dc90><span data-v-33a6dc90>收藏</span></div><div class="browseing_history mt hv" data-v-33a6dc90><span data-v-33a6dc90>浏览历史</span></div><div class="bookmark mt hv" data-v-33a6dc90><span data-v-33a6dc90>书签</span></div><br data-v-33a6dc90><div class="title mt" data-v-33a6dc90><span data-v-33a6dc90>Language</span></div><div class="setting mt hv" data-v-33a6dc90><span data-v-33a6dc90>设置</span></div><div class="send_backword mt hv" data-v-33a6dc90><span data-v-33a6dc90>发送反馈</span></div>',10),lb=go(()=>r("span",null,"退出登录",-1)),rb=[lb],cb={name:"header_box"},ub=Object.assign(cb,{setup(t){const e=pt();let s=y("https://www.sunyuanling.com/image/97165605_p0.jpg"),n=y("https://www.sunyuanling.com/image/87328997_p0.jpg"),o=y("孙源玲"),i=y("@userid"),a=y(100),l=y(100),c=y([]);c.value=Pe("userinfo"),c.value=JSON.parse(c.value);async function u(){try{const b=await(await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:c.value.userid})})).json();b.status=="success"?(c.value=b.data[0],h()):console.log(b.meesage)}catch(m){console.log(m)}}async function _(){try{const m=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFans/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:c.value.userid})}),b=await m.json();m.ok?b.status=="success"?l.value=b.data.length:console.log(b.message):console.error("连接错误")}catch(m){console.log(m)}}async function d(){try{const m=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:c.value.userid})}),b=await m.json();m.ok?b.status=="success"?a.value=b.data.length:console.log(b.message):console.error("连接错误")}catch(m){console.log(m)}}async function h(){o.value=c.value.username,i.value="@"+c.value.userid,await d(),await _(),n.value="https://www.sunyuanling.com/image/"+c.value.user_avatar,s.value="https://www.sunyuanling.com/image/"+c.value.user_back_img}Q(()=>{u()});function g(){console.log("用户中心跳转"),e.commit("SET_SINGLE_PAGE_STATUS",{key:"user_center_page",value:!0})}function w(){console.log("数据分析跳转"),e.commit("SET_SINGLE_PAGE_STATUS",{key:"data_analysis_page",value:!0})}function f(){console.log("退出登录"),p(),window.location.href="https://localhost:3000"}function p(){document.cookie.split(";").forEach(b=>{const[x,A]=b.split("=");document.cookie=`${x}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`})}return(m,b)=>(v(),k("div",By,[r("div",Gy,[r("div",Wy,[r("div",Vy,[r("img",{src:$(s)},null,8,Ky)])]),r("div",{class:"header_box_avatar",style:{cursor:"pointer"},onClick:g},[r("div",Yy,[r("img",{src:$(n)},null,8,Jy)])])]),r("div",qy,[r("span",null,S($(o)),1)]),r("div",Qy,[r("span",null,S($(i)),1)]),r("div",Xy,[r("div",Zy,[r("span",null,S($(a)),1),tb]),r("div",eb,[r("span",null,S($(l)),1),sb])]),nb,r("div",{class:"data_analysis mt hv",onClick:b[0]||(b[0]=x=>w())},ib),ab,r("div",{class:"logout mt hv",onClick:f},rb)]))}}),_b=F(ub,[["__scopeId","data-v-33a6dc90"]]),po=t=>(et("data-v-05ad96ed"),t=t(),st(),t),db={class:"chat_page"},hb={class:"title"},fb=po(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/left.svg"},null,-1)),gb=[fb],pb=po(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),mb=[pb],vb={class:"item"},wb={class:"chat_list"},yb={class:"list_title"},bb=po(()=>r("span",null,"好友",-1)),kb=[bb],xb=po(()=>r("span",null,"群聊",-1)),$b=[xb],Sb={class:"list_content"},Tb={class:"little_title"},Cb={key:0,class:"friend_list"},Eb=["onClick"],Ab={class:"user_avatar"},Ob={class:"avatar"},Ib={key:0},Mb={key:1},Pb={key:1,class:"group_list"},Lb=["onClick"],Db={class:"user_avatar"},Rb={class:"avatar"},Nb={class:"chat_content"},jb={key:0,class:"chat_content_head"},Fb={class:"friend_avatar",style:{"margin-left":"10px","margin-right":"10px",width:"60px",height:"60px","border-radius":"50%"}},zb=["src"],Ub={key:1,class:"chat_content_head"},Hb={class:"friend_avatar",style:{"margin-left":"10px","margin-right":"10px",width:"60px",height:"60px","border-radius":"50%"}},Bb=["src"],Gb={key:0,style:{"margin-right":"10px","align-self":"flex-end",display:"flex","justify-content":"flex-end",width:"100%","align-items":"center"}},Wb={class:"receive_content",style:{"background-color":"#e5e5ea",padding:"10px","border-radius":"10px","max-width":"70%","word-wrap":"break-word"}},Vb={style:{"word-break":"break-all"}},Kb={class:"receive_avatar",style:{"margin-left":"10px",display:"flex","align-items":"center"}},Yb=["src"],Jb={key:1,style:{"margin-left":"10px","align-items":"flex-end",display:"flex",width:"100%"}},qb={class:"send_avatar",style:{"margin-right":"10px"}},Qb=["src"],Xb={class:"send_content",style:{"background-color":"#007bff",color:"white",padding:"10px","border-radius":"10px","max-width":"70%","word-wrap":"break-word"}},Zb={style:{"word-break":"break-all"}},tk={key:0,style:{"margin-right":"10px","align-self":"flex-end",display:"flex","justify-content":"flex-end",width:"100%","align-items":"center"}},ek={class:"receive_content",style:{"background-color":"#e5e5ea",padding:"10px","border-radius":"10px","max-width":"70%","word-wrap":"break-word"}},sk={style:{"word-break":"break-all"}},nk={class:"receive_avatar",style:{"margin-left":"10px",display:"flex","align-items":"center"}},ok=["src"],ik={key:1,style:{"margin-left":"10px","align-items":"flex-end",display:"flex",width:"100%"}},ak={class:"send_avatar",style:{"margin-right":"10px"}},lk=["src"],rk={class:"send_content",style:{"background-color":"#007bff",color:"white",padding:"10px","border-radius":"10px","max-width":"70%","word-wrap":"break-word"}},ck={style:{"word-break":"break-all"}},uk={class:"send_box"},_k=po(()=>r("span",null,"最新消息",-1)),dk=[_k],hk={name:"chat_page"},fk=Object.assign(hk,{emits:["close_page"],setup(t,{emit:e}){const s=pt();function n(){s.commit("SET_SINGLE_PAGE_STATUS",{key:"chat_page",value:!1})}let o=y(JSON.parse(Pe("userinfo"))),i=y([]),a=y("好友列表"),l=y(null),c=y(null),u=y([]),_=y(!0),d=y(!1),h=y([]),g=y([{}]),w=y(),f=y(null),p,m=y([{}]),b=y(null),x=y(null);function A(z){z.target.innerText=="好友"?(l.value.style.borderBottom="2px solid #000000",c.value.style.borderBottom="none",a.value="好友列表",_.value=!0,d.value=!1):(c.value.style.borderBottom="2px solid #000000",l.value.style.borderBottom="none",a.value="群聊列表",d.value=!0,_.value=!1)}K(a,(z,tt)=>{console.log(z)});async function I(z){async function tt(bt){try{const at=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetFriendList/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:bt})});if(at.ok){const dt=await at.json();if(dt.status==="success"){let Lt=[];console.log(dt.data);for(let Ut=0;Ut<dt.data.length;Ut++){let Xt=dt.data[Ut];console.log(`Fetching avatar for friend id: ${Xt.friendid}`);let Ht=await D(Xt.type,Xt.friendid);console.log(`Fetched avatar URL: ${Ht}`),Lt.push({...Xt,avatarUrl:Ht})}i.value=Lt}else console.log(dt.message)}else console.log(at.status)}catch(at){console.log(at)}}await tt(o.value.userid)}async function T(z){async function tt(bt){try{const at=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetGroupList/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:bt})});if(at.ok){const dt=await at.json();dt.status=="success"?(h.value=dt.data,console.log(h.value)):console.log(dt.message)}else console.log(at.status)}catch(at){console.log(at)}}await tt(o.value.userid)}async function D(z,tt){if(z==="friend")try{const bt=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:tt})});if(bt.ok){const at=await bt.json();if(at.status==="success")return w.value="https://www.sunyuanling.com/image/"+at.data[0].user_avatar,"https://www.sunyuanling.com/image/"+at.data[0].user_avatar;console.log(at.message)}}catch(bt){console.log(bt)}else z==="group"&&console.log("group");return"https://www.sunyuanling.com/assets/default_avatar.svg"}const C={};async function P(){console.log(g.value);for(let z=0;z<g.value.length;z++){let tt=g.value[z];if(!C[tt.sender_id]){let bt=await D("friend",tt.sender_id);bt?C[tt.sender_id]=bt:C[tt.sender_id]="https://www.sunyuanling.com/assets/default_avatar.svg"}g.value[z].avatar=C[tt.sender_id]}}K(g,(z,tt)=>{console.log(z),P()});let j=y();async function G(z,tt){console.log(z),z==="friend"?(m.value=[],u.value=tt,u.value.type="friend",await D("friend",u.value.friendid),ct("one_to_one",o.value.userid,u.value.friendid,null,null),L("friend",o.value.userid,u.value.friendid),setTimeout(()=>{b.value.scrollTop=b.value.scrollHeight},100)):z==="group"&&(g.value=[],u.value=tt,u.value.type="group",console.log(u.value),await R(u.value.group_id),ct("many_to_many",o.value.userid,null,null,u.value.group_id),await L("group",o.value.userid,u.value.group_id),setTimeout(()=>{b.value.scrollTop=b.value.scrollHeight},100))}async function R(z){try{const tt=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetGroupInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({group_id:z,userid:o.value.userid})});if(tt.ok){const bt=await tt.json();bt.status=="success"?(j.value=bt.data[0],console.log(j.value)):console.log(bt.message)}else console.log(tt.status)}catch(tt){console.log(tt)}}function ot(){b.value&&(b.value.scrollTop=b.value.scrollHeight)}function ct(z,tt,bt=null,at="",dt=null){const Lt=`wss://127.0.0.1:2234/ws/chat/?userid=${o.value.userid}`;p=new WebSocket(Lt),p.onopen=()=>{console.log("WebSocket 连接成功")},p.onmessage=Ut=>{console.log("收到消息:",Ut.data);const Xt=JSON.parse(Ut.data);Xt.status=="warning"&&alert(Xt.message),H(Ut.data)},p.onclose=()=>{console.log("WebSocket 连接关闭")},p.onerror=Ut=>{console.log("WebSocket 连接错误:",Ut)}}async function H(z){JSON.parse(z),u.value.type=="friend"?await L("friend",o.value.userid,u.value.friendid):u.value.type=="group"&&(await L("group",o.value.userid,u.value.groupid),console.log(g.value),setTimeout(()=>{b.value.scrollTop=b.value.scrollHeight},100))}async function L(z,tt,bt=null,at=null){if(z=="friend")try{const dt=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserHistoryMsg/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({msg_type:"friend",userid:tt,friend_id:bt,group_id:at})});if(dt.ok){const Lt=await dt.json();Lt.status=="success"&&(m.value=Lt.data)}else console.log(dt.status)}catch(dt){console.log(dt)}else if(z=="group")try{const dt=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserHistoryMsg/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({msg_type:"group",userid:o.value.userid,group_id:u.value.group_id,friend_id:bt})});if(dt.ok){const Lt=await dt.json();Lt.status=="success"&&(console.log(Lt.data),g.value=Lt.data)}else console.log(dt.status)}catch(dt){console.log(dt)}}async function Y(){try{let z=x.value;if(u.value.type=="friend"){let tt=JSON.stringify({type:"one_to_one",send_msg_user_id:o.value.userid,to_user_id:u.value.friendid,content:z,to_group_id:null});p.send(tt),m.value.push({ID:1,content:z,group_id:null,receive_id:u.value.friendid,receiver_read_status:"已读",sender_id:o.value.userid,time:new Date().toLocaleString(),type:"one_to_one"}),x.value="",setTimeout(()=>{b.value.scrollTop=b.value.scrollHeight},10)}else if(u.value.type=="group"){console.log(u.value.group_id);let tt=JSON.stringify({type:"many_to_many",send_msg_user_id:o.value.userid,to_user_id:null,content:z,to_group_id:u.value.group_id});p.send(tt),g.value.push({ID:1,content:z,group_id:u.value.group_id,receive_id:null,receiver_read_status:"已读",sender_id:o.value.userid,time:new Date().toLocaleString(),type:"many_to_many"}),x.value="",setTimeout(()=>{b.value.scrollTop=b.value.scrollHeight},10)}}catch(z){console.log(z)}}return Q(()=>{I(),T(),l.value.style.borderBottom="2px solid #000000",c.value.style.borderBottom="none"}),(z,tt)=>{const bt=of("lazy");return v(),k("div",db,[r("div",hb,[r("div",{class:"back_index_page",onClick:tt[0]||(tt[0]=at=>n())},gb),r("div",{class:"close_btn",onClick:n},mb)]),r("div",vb,[r("div",wb,[r("div",yb,[r("div",{class:"title_item",ref_key:"friend_title",ref:l,onClick:A},kb,512),r("div",{class:"title_item",ref_key:"group_title",ref:c,onClick:A},$b,512)]),r("div",Sb,[r("span",Tb,S($(a)),1),$(_)?(v(),k("div",Cb,[(v(!0),k(Z,null,rt($(i),(at,dt)=>(v(),k("div",{class:"list_content_item",key:dt,onClick:Lt=>G("friend",at)},[r("div",Ab,[gt(r("img",Ob,null,512),[[bt,at.avatarUrl]])]),at.notes?O("",!0):(v(),k("span",Ib,S(at.friendname),1)),at.notes?(v(),k("span",Mb,S(at.notes),1)):O("",!0)],8,Eb))),128))])):O("",!0),$(d)?(v(),k("div",Pb,[(v(!0),k(Z,null,rt($(h),(at,dt)=>(v(),k("div",{class:"list_content_item",key:dt,onClick:Lt=>G("group",at)},[r("div",Db,[gt(r("img",Rb,null,512),[[bt,"https://www.sunyuanling.com/image/"+at.group_avatar]])]),r("span",null,S(at.group_name),1)],8,Lb))),128))])):O("",!0)])]),r("div",Nb,[$(u).friendname!=""&&$(u).friendname!=null&&$(u).friendname!=null?(v(),k("div",jb,[r("div",Fb,[r("img",{class:"avatar",src:$(w),style:{width:"50px",height:"50px","object-fit":"cover","border-radius":"50%"}},null,8,zb)]),r("span",null,S($(u).friendname),1)])):$(u).group_name!=""&&$(u).group_name!=null&&$(u).group_name!=null?(v(),k("div",Ub,[r("div",Hb,[r("img",{class:"avatar",src:"https://www.sunyuanling.com/image/"+$(u).group_avatar,style:{width:"50px",height:"50px","object-fit":"cover","border-radius":"50%"}},null,8,Bb)]),r("span",null,S($(u).group_name),1)])):O("",!0),$(u).friendname!=""&&$(u).friendname!=null&&$(u).friendname!=null?(v(),k("div",{key:2,class:"message_list",ref_key:"message_list",ref:b},[(v(!0),k(Z,null,rt($(m),(at,dt)=>(v(),k("div",{class:"message_item",key:dt,style:{position:"relative",display:"flex","margin-bottom":"10px","align-items":"center"}},[at.sender_id==$(o).userid?(v(),k("div",Gb,[r("div",Wb,[r("span",Vb,S(at.content),1)]),r("div",Kb,[r("img",{class:"avatar",src:"https://www.sunyuanling.com/image/"+$(o).user_avatar,style:{width:"50px",height:"50px","object-fit":"cover","border-radius":"50%"}},null,8,Yb)])])):(v(),k("div",Jb,[r("div",qb,[r("img",{class:"avatar",src:$(w),style:{width:"50px",height:"50px","object-fit":"cover","border-radius":"50%"}},null,8,Qb)]),r("div",Xb,[r("span",Zb,S(at.content),1)])]))]))),128))],512)):$(u).group_name!=""&&$(u).group_name!=null&&$(u).group_name!=null?(v(),k("div",{key:3,class:"message_list",ref_key:"message_list",ref:b},[(v(!0),k(Z,null,rt($(g),(at,dt)=>(v(),k("div",{class:"message_item",key:dt,style:{position:"relative",display:"flex","margin-bottom":"10px","align-items":"center"}},[at.sender_id==$(o).userid?(v(),k("div",tk,[r("div",ek,[r("span",sk,S(at.content),1)]),r("div",nk,[r("img",{class:"avatar",src:"https://www.sunyuanling.com/image/"+$(o).user_avatar,style:{width:"50px",height:"50px","object-fit":"cover","border-radius":"50%"}},null,8,ok)])])):(v(),k("div",ik,[r("div",ak,[r("img",{class:"avatar",src:$(g)[dt].avatar||"https://www.sunyuanling.com/assets/default_avatar.svg",style:{width:"50px",height:"50px","object-fit":"cover","border-radius":"50%"}},null,8,lk)]),r("div",rk,[r("span",ck,S(at.content),1)])]))]))),128))],512)):O("",!0),r("div",uk,[r("div",{class:"send_msg_box",ref_key:"msg",ref:f},[gt(r("textarea",{id:"msg",placeholder:"请输入消息","onUpdate:modelValue":tt[1]||(tt[1]=at=>mt(x)?x.value=at:x=at)},null,512),[[Dt,$(x)]])],512),r("div",{class:"send_btn",onClick:tt[2]||(tt[2]=at=>Y())},"发送"),r("div",{class:"jump_end",onClick:tt[3]||(tt[3]=at=>ot())},dk)])])])])}}}),gk=F(fk,[["__scopeId","data-v-05ad96ed"]]),ji=t=>(et("data-v-6e00eec0"),t=t(),st(),t),pk={class:"ill_page"},mk={class:"content"},vk=ji(()=>r("div",{class:"sort_fun_box"}," 排序方法 ",-1)),wk=ji(()=>r("div",{class:"popular_works"}," 热门作品 ",-1)),yk={class:"title"},bk=ji(()=>r("span",null,"作品",-1)),kk={key:0,class:"work_count"},xk={class:"ill_box"},$k={key:0,class:"age_classifiction"},Sk={class:"page_count"},Tk=ji(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/page_count.svg",style:{"margin-right":"5px"}},null,-1)),Ck=["src","onClick"],Ek={class:"work_title"},Ak={class:"author_info"},Ok=["src"],Ik={class:"author_name"},Mk={name:"ill_page"},Pk=Object.assign(Mk,{props:{ill_data:{type:Object,default(){}}},emits:["work_count"],setup(t,{emit:e}){const s=new pt;let n=t,o=y(n.ill_data);const i=e;K(()=>n.ill_data,async(u,_)=>{o.value=u,await l(),i("work_count",{type:"ill",count:o.value.length})}),Q(async()=>{o.value=n.ill_data});async function a(u){const _=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"POST",body:JSON.stringify({userid:u})});if(_.ok){const d=await _.json();if(d.status=="success")return"https://www.sunyuanling.com/image/avatar_thumbnail/"+d.data[0].user_avatar}}async function l(){for(let u=0;u<o.value.length;u++)o.value[u].avatar=await a(o.value[u].belong_to_user_id)}function c(u){console.log(u),s.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",u),s.commit("SET_WORK_TYPE","ill")}return(u,_)=>(v(),k("div",pk,[r("div",mk,[vk,wk,r("div",yk,[bk,$(o)?(v(),k("div",kk,[r("span",null,S($(o).length),1)])):O("",!0)]),r("div",xk,[(v(!0),k(Z,null,rt($(o),(d,h)=>(v(),k("div",{class:"ill_item",key:h},[d.age_classification>16?(v(),k("div",$k,[r("span",null,"R-"+S(d.age_classification),1)])):O("",!0),r("div",Sk,[Tk,r("span",null,S(d.content_file_list.split(/[,，]/).length),1)]),r("img",{class:"ill_img",src:"https://www.sunyuanling.com/image/thumbnail/"+d.content_file_list.split(/[,，]/)[0],onClick:g=>c(d.Illustration_id)},null,8,Ck),r("span",Ek,S(d.name),1),r("div",Ak,[r("img",{class:"author_avatar",src:d.avatar},null,8,Ok),r("div",Ik,[r("span",null,S(d.belong_to_user),1)])])]))),128))])])]))}}),F_=F(Pk,[["__scopeId","data-v-6e00eec0"]]),Fi=t=>(et("data-v-7bb03d47"),t=t(),st(),t),Lk={class:"comic_page"},Dk={class:"content"},Rk=Fi(()=>r("div",{class:"sort_fun_box"}," 排序方式 ",-1)),Nk=Fi(()=>r("div",{class:"popular_works"}," 热门作品 ",-1)),jk={class:"title"},Fk=Fi(()=>r("span",null,"作品",-1)),zk={key:0,class:"work_count"},Uk={key:0,class:"comic_box"},Hk={key:0,class:"age_classification"},Bk={class:"page_count"},Gk=Fi(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/page_count.svg"},null,-1)),Wk=["onClick"],Vk=["src"],Kk={class:"comic_title"},Yk={class:"author_info"},Jk={class:"author_avatar"},qk=["src"],Qk={class:"author_name"},Xk={name:"comic_page"},Zk=Object.assign(Xk,{props:{comic_data:{type:Object,default(){return{}}}},emits:["work_count"],setup(t,{emit:e}){const s=new pt;let n=t,o=y(n.comic_data);const i=e;K(()=>n.comic_data,async(u,_)=>{o.value=u,await l(),i("work_count",{type:"comic",count:o.value.length})}),Q(async()=>{o.value=n.comic_data,await l()});async function a(u){const _=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"POST",body:JSON.stringify({userid:u})});if(_.ok){const d=await _.json();if(d.status=="success")return"https://www.sunyuanling.com/image/avatar_thumbnail/"+d.data[0].user_avatar}}async function l(){for(let u=0;u<o.value.length;u++)o.value[u].avatar=await a(o.value[u].belong_to_userid)}function c(u){console.log(u),s.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",u),s.commit("SET_WORK_TYPE","comic")}return(u,_)=>(v(),k("div",Lk,[r("div",Dk,[Rk,Nk,r("div",jk,[Fk,$(o)?(v(),k("div",zk,[r("span",null,S($(o).length),1)])):O("",!0)]),$(o)?(v(),k("div",Uk,[(v(!0),k(Z,null,rt($(o),(d,h)=>(v(),k("div",{class:"comic_item",key:h},[d.age_classification>16?(v(),k("div",Hk,[r("span",null,"R-"+S(d.age_classification),1)])):O("",!0),r("div",Bk,[Gk,r("span",null,S(d.content_file_list.split(/[,，]/).length),1)]),r("div",{class:"comic_cover",onClick:g=>c(d.id)},[r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+d.content_file_list.split(/[,，]/)[0]},null,8,Vk)],8,Wk),r("div",Kk,[r("span",null,S(d.work_name),1)]),r("div",Yk,[r("div",Jk,[r("img",{class:"author_avatar_img",src:d.avatar},null,8,qk)]),r("div",Qk,[r("span",null,S(d.belong_to_user),1)])])]))),128))])):O("",!0)])]))}}),z_=F(Zk,[["__scopeId","data-v-7bb03d47"]]),zi=t=>(et("data-v-c53dd8f8"),t=t(),st(),t),t1={class:"novel_page"},e1={class:"content"},s1=zi(()=>r("div",{class:"sort_fun_box"}," 排序方法 ",-1)),n1=zi(()=>r("div",{class:"popular_box"}," 推荐作品 ",-1)),o1={class:"title"},i1=zi(()=>r("span",null,"作品",-1)),a1={key:0,class:"work_count"},l1={class:"item_box"},r1=["onClick"],c1=["src"],u1={class:"novel_info"},_1={class:"novel_title"},d1={class:"author_info"},h1={class:"author_avatar"},f1=["src"],g1={class:"author_name"},p1={class:"tags"},m1={key:0,style:{"font-size":"16px","font-weight":"bold",color:"red","margin-right":"5px"}},v1={class:"author_say"},w1=zi(()=>r("div",{class:"read_info"},null,-1)),y1={name:"novel_page"},b1=Object.assign(y1,{props:{novel_data:{type:Object,default:()=>({})}},emits:["work_count"],setup(t,{emit:e}){const s=new pt;let n=t,o=y(n.novel_data);const i=e;K(()=>n.novel_data,async(u,_)=>{o.value=u,await l(),i("work_count",{type:"novel",count:o.value.length})}),Q(async()=>{o.value=n.novel_data,await l()});async function a(u){const _=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"POST",body:JSON.stringify({userid:u})});if(_.ok){const d=await _.json();if(d.status=="success")return"https://www.sunyuanling.com/image/avatar_thumbnail/"+d.data[0].user_avatar}}async function l(){for(let u=0;u<o.value.length;u++)o.value[u].avatar=await a(o.value[u].belong_to_userid)}function c(u){console.log(u),s.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",u),s.commit("SET_WORK_TYPE","novel")}return(u,_)=>(v(),k("div",t1,[r("div",e1,[s1,n1,r("div",o1,[i1,$(o)?(v(),k("div",a1,[r("span",null,S($(o).length),1)])):O("",!0)]),r("div",l1,[(v(!0),k(Z,null,rt($(o),(d,h)=>(v(),k("div",{class:"item",key:h},[r("div",{class:"novel_cover",onClick:g=>c(d.work_id)},[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+d.work_cover},null,8,c1)],8,r1),r("div",u1,[r("div",_1,[r("span",null,S(d.work_name),1)]),r("div",d1,[r("div",h1,[r("img",{src:d.avatar},null,8,f1)]),r("div",g1,[r("span",null,S(d.belong_to_username),1)])]),r("div",p1,[d.age_classification>16?(v(),k("span",m1,"R-"+S(d.age_classification),1)):O("",!0),(v(!0),k(Z,null,rt(d.work_tags.split(/[,，]/),(g,w)=>(v(),k("span",{style:{color:"rgba(0,150,250,1)","font-size":"16px","font-weight":"bold","margin-right":"5px"},key:w},"#"+S(g),1))),128))]),r("div",v1,S(d.author_say),1),w1])]))),128))])])]))}}),U_=F(b1,[["__scopeId","data-v-c53dd8f8"]]),k1={class:"user_page"},x1={class:"content"},$1={class:"item_box"},S1={class:"user_avatar"},T1=["src"],C1={class:"user_info"},E1={class:"user_name"},A1={key:0,class:"user_work"},O1={key:0,class:"item_img"},I1=["src","onClick"],M1={key:1,class:"item_img"},P1=["src","onClick"],L1={key:2,class:"item_img"},D1=["src","onClick"],R1={class:"brief_introduction"},N1=["onClick"],j1={key:0},F1={key:1},z1={__name:"user_page",props:{user_data:{type:Object,default:()=>({})}},emits:["work_count"],setup(t,{emit:e}){const s=t,n=y(s.user_data),o=y({}),i=y([]),a=JSON.parse(Pe("userinfo")).userid,l=e;K(()=>s.user_data,async f=>{n.value=f,await u(),h(),await d(),l("work_count",{type:"user",count:n.value.length})}),Q(async()=>{n.value=s.user_data,await u(),h()});async function c(f){try{const p=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:f})});if(!p.ok)return console.log("网络错误"),null;const m=await p.json();return m.status==="success"?m.data:(console.warn(m.message),null)}catch(p){return console.error("请求错误:",p),null}}async function u(){const f={};for(const p of n.value){const m=await c(p.userid);m&&(f[p.userid]=m)}o.value=f,console.log(o.value)}async function _(f,p){try{const m=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowList/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:a,target_id:p})});if(m.ok){const b=await m.json();return b.status=="success"?b.data:(console.log("error"),[])}}catch(m){console.log(m)}}async function d(){let f;try{for(let p=0;p<n.value.length;p++)f=await _(a,n.value[p].userid),f.length!=0?n.value[p].follow_status=!0:n.value[p].follow_status=!1}catch(p){console.log(p)}}function h(){i.value=[];const f=Object.values(o.value).flat(),p=f.flatMap(A=>A.ill||[]),m=f.flatMap(A=>A.comic||[]),b=f.flatMap(A=>A.novel||[]),x=A=>{for(const I of A)if(i.value.length<4)i.value.push(I);else break};x(p),x(m),x(b),console.log(i.value)}function g(f,p){console.log(p),console.log(f)}async function w(f,p){const m=await fetch("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/",{method:"POST",body:JSON.stringify({target_username:f,target_id:p,userid:a,username:JSON.parse(Pe("userinfo")).username})});if(m.ok){const b=await m.json();b.status=="success"?(alert(b.message),await d()):alert("关注失败")}}return(f,p)=>(v(),k("div",k1,[r("div",x1,[r("div",$1,[(v(!0),k(Z,null,rt(n.value,(m,b)=>(v(),k("div",{class:"item",key:b},[r("div",S1,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+m.user_avatar},null,8,T1)]),r("div",C1,[r("div",E1,[r("span",null,S(m.username),1)]),i.value.length>0?(v(),k("div",A1,[(v(!0),k(Z,null,rt(i.value,(x,A)=>(v(),k("div",{class:"user_work_for",key:A},[x.Illustration_id?(v(),k("div",O1,[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+x.content_file_list.split(/[,，]/)[0],onClick:I=>g("ill",x.Illustration_id)},null,8,I1)])):x.id?(v(),k("div",M1,[r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+x.content_file_list.split(/[,，]/)[0],onClick:I=>g("comic",x.id)},null,8,P1)])):x.work_id?(v(),k("div",L1,[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+x.work_cover,onClick:I=>g("novel",x.work_id)},null,8,D1)])):O("",!0)]))),128))])):O("",!0),r("div",R1,[r("span",null,S(m.user_self_introduction),1)]),r("div",{class:yt({follow_btn:!m.follow_status,unfollow_btn:m.follow_status}),onClick:x=>w(m.username,m.userid)},[m.follow_status?(v(),k("span",F1,"取消关注")):(v(),k("span",j1,"关注"))],10,N1)])]))),128))])])]))}},H_=F(z1,[["__scopeId","data-v-98c45e9d"]]),U1={class:"scroll_box"},H1={class:"scroll_box_content"},B1={class:"btn_box"},G1=["src"],W1=["src"],V1=["onClick"],K1=["onClick"],Y1=["src"],J1={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"tags"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null),a=()=>{o.value&&o.value.forEach((g,w)=>{g.style.backgroundColor=n.value[w%n.value.length]})},l=e,c=g=>{l("chose_item",g)},u=g=>g<.5?2*g*g:-1+(4-2*g)*g,_=(g,w)=>{const f=i.value.scrollLeft,p=performance.now(),m=b=>{const x=b-p,A=Math.min(x/w,1),I=u(A);i.value.scrollLeft=f+g*I,A<1&&requestAnimationFrame(m)};requestAnimationFrame(m)},d=()=>{_(-s.scrollDistance,s.animationDuration)},h=()=>{_(s.scrollDistance,s.animationDuration)};return Q(()=>{a()}),(g,w)=>(v(),k("div",U1,[r("div",H1,[r("div",B1,[r("div",{class:"left_btn",onClick:d},[r("img",{src:s.left_btn,class:"icon"},null,8,G1)]),r("div",{class:"right_btn",onClick:h},[r("img",{src:s.right_btn,class:"icon"},null,8,W1)])]),r("div",{class:"list",ref_key:"list",ref:i},[(v(!0),k(Z,null,rt(s.msg_list,(f,p)=>(v(),k("div",{class:"item",key:p},[s.msg_type==="tags"&&f!=""&&f?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_item",ref:o,onClick:m=>c(f)},[r("span",null,S(f),1)],8,V1)):O("",!0),s.msg_type==="image"?(v(),k("div",{key:1,class:"image_item",onClick:m=>c(f)},[r("img",{src:f,class:"image"},null,8,Y1)],8,K1)):O("",!0)]))),128))],512)])]))}},q1=F(J1,[["__scopeId","data-v-299ce55e"]]),mo=t=>(et("data-v-cb5a2726"),t=t(),st(),t),Q1=mo(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg",alt:"close_btn"},null,-1)),X1=[Q1],Z1={class:"content"},t0={class:"head_box"},e0={class:"choose_search_target_page"},s0=mo(()=>r("span",null,"插画",-1)),n0={class:"count_result"},o0=mo(()=>r("span",null,"漫画",-1)),i0={class:"count_result"},a0=mo(()=>r("span",null,"小说",-1)),l0={class:"count_result"},r0=mo(()=>r("span",null,"用户",-1)),c0={class:"count_result"},u0={name:"search_page_index",components:{ill_page:F_,comic_page:z_,novel_page:U_,user_page:H_}},_0=Object.assign(u0,{props:{search_item:{type:String,default:"德丽莎"}},emits:["close_msg"],setup(t,{expose:e,emit:s}){let n=t,o=y(n.search_item),i=y([]),a=y([]),l=y([]),c=y([]),u=y();y("https://www.sunyuanling.com/image/thumbnail/120282888_p0.jpg");let _=y(!0),d=y(!1),h=y(!1),g=y(!1),w=y(null),f=y(null),p=y(null),m=y(null);function b(ct){switch(ct){case 0:_.value=!0,w.value.style.borderTop="4px solid rgb(0,250,250)",d.value=!1,f.value.style.borderTop="",h.value=!1,p.value.style.borderTop="",g.value=!1,m.value.style.borderTop="";break;case 1:_.value=!1,w.value.style.borderTop="",d.value=!0,f.value.style.borderTop="4px solid rgb(0,250,250)",h.value=!1,p.value.style.borderTop="",g.value=!1,m.value.style.borderTop="";break;case 2:_.value=!1,w.value.style.borderTop="",d.value=!1,f.value.style.borderTop="",h.value=!0,p.value.style.borderTop="4px solid rgb(0,250,250)",g.value=!1,m.value.style.borderTop="";break;case 3:_.value=!1,w.value.style.borderTop="",d.value=!1,f.value.style.borderTop="",h.value=!1,p.value.style.borderTop="",g.value=!0,m.value.style.borderTop="4px solid rgb(0,250,250)";break}}Q(()=>{b(0)}),K(()=>n.search_item,async(ct,H)=>{o.value=await D(ct),x(o.value),A(o.value),console.log(u.value)});function x(ct){i.value=[],a.value=[],l.value=[],c.value=[],ct!=null&&ct.forEach(H=>{H.type==="ill"?i.value.push(H):H.type==="comic"?a.value.push(H):H.type==="novel"&&l.value.push(H),H.type==="user"&&c.value.push(H)})}function A(ct){if(ct==null){u.value=[];return}let H=ct.flatMap(L=>L.work_tags&&typeof L.work_tags=="string"?L.work_tags.split(/[,，]/).map(Y=>Y.trim()):(console.warn("Expected a string for work_tags but got:",L.work_tags),[]));u.value=[...new Set(H)]}let I=s;function T(){I("close_msg",!1)}async function D(ct){o.value=null;try{const H=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetSearch/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search_key:ct})});if(H.ok){const L=await H.json();return L.status=="success"?(console.log(L.data),L.data):(console.log(L.message),[])}}catch(H){return console.log(H),[]}}function C(ct){ct.stopPropagation()}e({get_search_data:D});let P=y(),j=y(),G=y(),R=y();function ot(ct){let H=ct.type,L=ct.count;switch(H){case"ill":P.value=L;break;case"comic":j.value=L;break;case"novel":G.value=L;break;case"user":R.value=L}}return(ct,H)=>(v(),k("div",{class:"search_page_index",onWheel:C},[r("div",{class:"close_btn",onClick:H[0]||(H[0]=L=>T())},X1),r("div",Z1,[r("div",t0,[$(u)?(v(),lt(q1,{key:0,msg_list:$(u)},null,8,["msg_list"])):O("",!0)]),r("div",e0,[r("div",{class:"choose_ill_page",ref_key:"choose_ill_page",ref:w,onClick:H[1]||(H[1]=L=>b(0))},[s0,r("span",n0,S($(P)),1)],512),r("div",{class:"choose_comic_page",ref_key:"choose_comic_page",ref:f,onClick:H[2]||(H[2]=L=>b(1))},[o0,r("span",i0,S($(j)),1)],512),r("div",{class:"choose_novel_page",ref_key:"choose_novel_page",ref:p,onClick:H[3]||(H[3]=L=>b(2))},[a0,r("span",l0,S($(G)),1)],512),r("div",{class:"choose_user_page",ref_key:"choose_user_page",ref:m,onClick:H[4]||(H[4]=L=>b(3))},[r0,r("span",c0,S($(R)),1)],512)]),gt(W(F_,{ill_data:$(i),onWork_count:ot},null,8,["ill_data"]),[[_s,$(_)]]),gt(W(z_,{comic_data:$(a),onWork_count:ot},null,8,["comic_data"]),[[_s,$(d)]]),gt(W(U_,{novel_data:$(l),onWork_count:ot},null,8,["novel_data"]),[[_s,$(h)]]),gt(W(H_,{user_data:$(c),onWork_count:ot},null,8,["user_data"]),[[_s,$(g)]])])],32))}}),d0=F(_0,[["__scopeId","data-v-cb5a2726"]]),yn=t=>(et("data-v-1d1bd073"),t=t(),st(),t),h0={key:0,class:"title"},f0={class:"show_more"},g0=yn(()=>r("img",{src:"https://www.sunyuanling.com/assets/more.svg",class:"icon"},null,-1)),p0=[g0],m0={class:"index_jump_img ml"},v0={href:"https://localhost:3002/"},w0=["src"],y0=yn(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/search.svg"},null,-1)),b0=[y0],k0={class:"join_vip ml mr"},x0=yn(()=>r("div",{class:"submission_icon mr"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/drop_down.svg"})],-1)),$0={class:"submission_text"},S0={class:"message ml mr"},T0=yn(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/message.svg"},null,-1)),C0=[T0],E0=yn(()=>r("div",{class:"notice_icon"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/notice.svg"})],-1)),A0={class:"notice_title"},O0={class:"notice_content"},I0={class:"notice_time"},M0={class:"useravatar_img"},P0=["src"],L0=yn(()=>r("div",{class:"useravatar_icon ml"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/drop_down.svg"})],-1)),D0={__name:"head_title",setup(t){const e=pt();let s=y("https://www.sunyuanling.com/image/主页.png"),n=y("投稿作品"),o=y("https://www.sunyuanling.com/image/avatar_thumbnail/87328997_p0.jpg"),i=y("加入ILLWeb会员"),a=y(!1),l=y("left:0px;"),c=y(!1),u=y(!1),_=kt(()=>e.getters.chat_page),d=y([]),h=y();d.value=JSON.parse(Pe("userinfo"));let g=kt(()=>e.getters.search_page),w=y(null),f=y(null),p=y(null),m=y(),x=kt(()=>e.getters.token).value;Q(async()=>{await En(),m.value=await En(x,"search");let L="";L=await qr(Pe("token")),console.log(L),o.value="https://www.sunyuanling.com/image/avatar_thumbnail/"+L[0].user_avatar}),K(()=>e.getters.token,async()=>{await En(),m.value=await En(x,"search");let L="";L=await qr(Pe("token")),console.log(L),o.value="https://www.sunyuanling.com/image/avatar_thumbnail/"+L[0].user_avatar});let A=y(!1);function I(){x!=null&&x!=""&&(A.value=!A.value)}function T(){A.value=!1}function D(L){L.target.closest(".notice")||(A.value=!1)}Q(()=>{document.addEventListener("click",D);var L=document.querySelector(".submission");document.addEventListener("click",function(Y){L.contains(Y.target)||(c.value=!1)})}),K(h,(L,Y)=>{h.value=L});async function C(){if(f.value)try{const L=await f.value.get_search_data(h.value)}catch(L){console.log(L)}}function P(){e.commit("SET_SINGLE_PAGE_STATUS",{key:"search_page",value:!0})}function j(L){console.log(L),e.commit("SET_SINGLE_PAGE_STATUS",{key:"search_page",value:!1}),h.value=null}function G(){e.commit("SET_SINGLE_PAGE_STATUS",{key:"chat_page",value:!0})}function R(L){console.log(L),_.value=!1}function ot(){var L=document.querySelector(".useravatar");document.addEventListener("click",function(Y){L.contains(Y.target)||(u.value=!1)}),u.value==!0?u.value=!1:u.value=!0}function ct(){var L=4.166666666666667,Y=60,z=document.getElementById("sidebar"),tt=document.querySelector(".show_more");document.addEventListener("click",function(at){!z.contains(at.target)&&!tt.contains(at.target)&&H(0,-250,L,Y,bt)});var bt=100;console.log("test"),a.value==!1?(H(-250,0,L,Y,bt),console.log("true")):(H(0,-250,L,Y,bt),console.log("false"))}function H(L,Y,z,tt,bt){if(L>=Y){let we=function(){if(at>=tt){l.value="left:-250px;",a.value=!1;return}l.value="left:"+(L-z*at)+"px;",at++,setTimeout(we,dt)};var Xt=we,at=0,dt=bt/tt;we()}if(L<=Y){let we=function(){if(Lt>=tt){l.value="left:0px;",a.value=!0;return}a.value=!0,l.value="left:"+(L+z*Lt)+"px;",Lt++,setTimeout(we,Ut)};var Ht=we,Lt=0,Ut=bt/tt;we()}}return(L,Y)=>$(d)?(v(),k("div",h0,[r("div",f0,[r("div",{class:"show_more_icon",onClick:ct},p0),gt(r("div",{class:"sidebar",id:"sidebar",style:pe($(l))},[W(Ty)],4),[[_s,$(a)]])]),r("div",m0,[r("a",v0,[r("img",{src:$(s)},null,8,w0)])]),r("div",{class:"input_box",ref_key:"input_box",ref:w},[gt(r("input",{"onUpdate:modelValue":Y[0]||(Y[0]=z=>mt(h)?h.value=z:h=z),placeholder:"搜索作品",onFocus:P},null,544),[[Dt,$(h)]]),r("div",{class:"search_icon",onClick:C},b0)],512),r("div",k0,[r("span",null,S($(i)),1)]),r("div",{class:"submission ml mr",onClick:Y[1]||(Y[1]=z=>mt(c)?c.value=!$(c):c=!$(c))},[x0,r("div",$0,[r("span",null,S($(n)),1)]),r("div",{class:yt(["submission_work_box",$(c)?"submission_work_box_drop":""])},[W(Hy)],2)]),r("div",S0,[r("div",{class:"message_icon",onClick:Y[2]||(Y[2]=z=>G())},C0)]),r("div",{class:"notice ml mr",onClick:Y[4]||(Y[4]=z=>I()),onBlur:T,ref_key:"notice_box",ref:p},[E0,$(m)&&$(A)?(v(),k("div",{key:0,class:"notice_box",onClick:Y[3]||(Y[3]=z=>$(En)())},[(v(!0),k(Z,null,rt($(m),(z,tt)=>(v(),k("div",{class:"notice_item",key:tt},[r("div",A0,S(z.title),1),r("div",O0,S(z.content),1),r("div",I0,S(z.last_modified_time),1)]))),128))])):O("",!0)],544),r("div",{class:"useravatar ml mr",onClick:ot},[r("div",M0,[r("img",{src:$(o)},null,8,P0)]),L0]),$(_)?(v(),lt(gk,{key:0,class:"chat_page",onClose_page:R})):O("",!0),gt(W(_b,null,null,512),[[_s,$(u)]]),$(g)?(v(),lt(d0,{key:1,search_item:$(h),onClose_msg:j,ref_key:"search_page_click",ref:f},null,8,["search_item"])):O("",!0)])):O("",!0)}},R0=F(D0,[["__scopeId","data-v-1d1bd073"]]),N0={name:"header_box",components:{head_title:R0}},j0={class:"header_box"};function F0(t,e,s,n,o,i){const a=Ku("head_title");return v(),k("div",j0,[W(a)])}const z0=F(N0,[["render",F0]]),Js=t=>(et("data-v-38a43178"),t=t(),st(),t),U0={class:"ill_work_info"},H0={class:"content"},B0={class:"work_info"},G0={class:"work_tags"},W0=Js(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/add.svg"},null,-1)),V0=[W0],K0={class:"age_classification"},Y0=Js(()=>r("span",null,"年龄分段：",-1)),J0=Js(()=>r("div",{class:"important_tips"},[r("span",null,[$t(" 以下作品禁止投稿。请在投稿之前进行确认。 "),r("ol",null,[r("li",null,"他人制作的作品，发售中的商品图像，第三者持有权利的图像，游戏、视频作品的截图，包含屏幕截图图像的作品。 "),r("li",null,"挪用以上图像，从最初开始并非全部由您自己创作的作品。作品以外的照片图像。"),r("li",null," 违反使用条款的作品投稿用户，将被停止公开投稿作品，停止账号使用。")])])],-1)),q0=Js(()=>r("span",null,"确定",-1)),Q0=Js(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/select_correct.svg"},null,-1)),X0=[q0,Q0],Z0=Js(()=>r("span",null,"清空",-1)),tx=Js(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),ex=[Z0,tx],sx={__name:"ill_work_info",emits:["work_info"],setup(t,{emit:e}){const s=y([]),n=y(""),o=y(""),i=y(""),a=y(""),l=e,c=()=>{a.value&&(s.value.push(a.value),a.value="",u())},u=()=>{const d={name:n.value,brief_introduction:o.value,age_classification:i.value,work_tags:s.value};l("work_info",d)};K([n,o,i,s],u,{deep:!0});const _=()=>{n.value="",o.value="",i.value="",s.value=[],u()};return(d,h)=>(v(),k("div",U0,[r("div",H0,[r("div",B0,[gt(r("input",{placeholder:"标题","onUpdate:modelValue":h[0]||(h[0]=g=>n.value=g)},null,512),[[Dt,n.value]]),gt(r("textarea",{placeholder:"描述/简介","onUpdate:modelValue":h[1]||(h[1]=g=>o.value=g),style:{resize:"vertical"}},null,512),[[Dt,o.value]])]),r("div",G0,[gt(r("input",{placeholder:"作品标签","onUpdate:modelValue":h[2]||(h[2]=g=>a.value=g)},null,512),[[Dt,a.value]]),r("div",{class:"add_tag_btn",onClick:c},V0),(v(!0),k(Z,null,rt(s.value,(g,w)=>(v(),k("div",{class:"tags_list",key:w},[r("span",null,"#"+S(g),1)]))),128))]),r("div",K0,[Y0,gt(r("input",{type:"radio",name:"age",value:"16","onUpdate:modelValue":h[3]||(h[3]=g=>i.value=g)},null,512),[[Xe,i.value]]),$t("全年龄 "),gt(r("input",{type:"radio",name:"age",value:"18","onUpdate:modelValue":h[4]||(h[4]=g=>i.value=g)},null,512),[[Xe,i.value]]),$t("R-18 "),gt(r("input",{type:"radio",name:"age",value:"18G","onUpdate:modelValue":h[5]||(h[5]=g=>i.value=g)},null,512),[[Xe,i.value]]),$t("R-18G ")]),J0,r("div",{class:"sure_btn"},[r("div",{class:"sure",onClick:u},X0),r("div",{class:"cancel",onClick:_},ex)])])]))}},nx=F(sx,[["__scopeId","data-v-38a43178"]]),qs=t=>(et("data-v-89e7dc67"),t=t(),st(),t),ox={class:"ill_page"},ix={class:"upload_work_box"},ax={key:0,class:"upload_btn_box"},lx=qs(()=>r("div",{class:"upload_svg"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/photo.svg"}),r("img",{src:"https://www.sunyuanling.com/assets/add.svg",class:"add_icon"})],-1)),rx={key:1,class:"work_statement"},cx=qs(()=>r("span",null,"格式：JPEG/JPG/GIF/PNG/TIFF",-1)),ux=qs(()=>r("span",null,"大小：32MB以下",-1)),_x=qs(()=>r("span",null,"数量：200张以下，合计不超过300MB",-1)),dx=[cx,ux,_x],hx={key:2,class:"upload_work_list"},fx={class:"tips_info"},gx={class:"item"},px=["src"],mx=["onClick"],vx=qs(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),wx=[vx],yx={class:"filename"},bx=qs(()=>r("img",{class:"add_icon",src:"https://www.sunyuanling.com/assets/add.svg"},null,-1)),kx=[bx],xx=qs(()=>r("span",null,"投稿",-1)),$x=[xx],Sx={__name:"ill_page",setup(t){let e=y([]),s=y(0),n=y(0),o=y({}),i=y(JSON.parse(Nt("userinfo")));console.log(i.value);function a(h){o.value=h,o.value.username=i.value.username,o.value.userid=i.value.userid,o.value.work_type="ill",o.value.token=Nt("token"),console.log(o.value)}function l(){document.getElementById("upload_work_file").click()}K(()=>e.value,h=>{let g=0;for(let w=0;w<h.length;w++)g+=h[w].file.size;s.value=g,n.value=h.length});function c(h){const g=h.target.files;let w=0;for(let f=0;f<g.length;f++)w+=g[f].size;if(g.length>200-e.value.length){alert("不能超过200个文件！");return}if(w>300*1024*1024-e.value.reduce((f,p)=>f+p.file.size,0)){alert("文件总大小不能超过300MB！");return}for(let f=0;f<g.length;f++){const p=g[f],m=new FileReader;m.onload=b=>{e.value.push({file:p,url:b.target.result,filename:p.name})},m.readAsDataURL(p)}}function u(h){requestAnimationFrame(()=>{e.value.splice(h,1)})}function _(){l()}async function d(){try{const h=new FormData;e.value.forEach((w,f)=>{h.append("files",w.file,w.file.name)}),h.append("work_info",JSON.stringify(o.value));const g=await fetch("https://www.sunyuanling.com/api/file/UploadFile/",{method:"POST",body:h});if(g.ok){const w=await g.json();console.log(w.message),alert("上传成功")}else console.log("服务器错误"),console.log(g.status)}catch(h){console.log(h)}console.log("提交作品信息",o.value,e.value)}return(h,g)=>(v(),k("div",ox,[r("div",ix,[r("input",{type:"file",id:"upload_work_file",accept:"image/*",style:{display:"none"},ref:"upload_work_file",multiple:"",onChange:c},null,544),$(e).length<=0?(v(),k("div",ax,[r("div",{class:"upload_btn",onClick:g[0]||(g[0]=w=>l())},[lx,$t(" 上传作品 ")])])):O("",!0),$(e).length<=0?(v(),k("div",rx,dx)):O("",!0),$(e).length>0?(v(),k("div",hx,[r("div",fx," 文件数量："+S($(e).length)+" 文件总大小："+S(($(s)/(1024*1024)).toFixed(2))+"MB ",1),r("div",gx,[(v(!0),k(Z,null,rt($(e),(w,f)=>(v(),k("div",{class:"work_item",key:w.filename},[r("img",{src:w.url,alt:"文件预览"},null,8,px),r("div",{class:"delete_btn",onClick:p=>u(f)},wx,8,mx),r("div",yx,S(w.filename),1)]))),128)),r("div",{class:"add_work_btn",onClick:_},kx)])])):O("",!0)]),W(nx,{onWork_info:a}),r("div",{class:"submit_btn",onClick:d},$x)]))}},B_=F(Sx,[["__scopeId","data-v-89e7dc67"]]),Qs=t=>(et("data-v-76b136b2"),t=t(),st(),t),Tx={class:"ill_work_info"},Cx={class:"content"},Ex={class:"work_info"},Ax={class:"work_tags"},Ox=Qs(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/add.svg"},null,-1)),Ix=[Ox],Mx={class:"age_classification"},Px=Qs(()=>r("span",null,"年龄分段：",-1)),Lx=Qs(()=>r("div",{class:"important_tips"},[r("span",null,[$t(" 以下作品禁止投稿。请在投稿之前进行确认。 "),r("ol",null,[r("li",null,"他人制作的作品，发售中的商品图像，第三者持有权利的图像，游戏、视频作品的截图，包含屏幕截图图像的作品。 "),r("li",null,"挪用以上图像，从最初开始并非全部由您自己创作的作品。作品以外的照片图像。"),r("li",null," 违反使用条款的作品投稿用户，将被停止公开投稿作品，停止账号使用。")])])],-1)),Dx=Qs(()=>r("span",null,"确定",-1)),Rx=Qs(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/select_correct.svg"},null,-1)),Nx=[Dx,Rx],jx=Qs(()=>r("span",null,"清空",-1)),Fx=Qs(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),zx=[jx,Fx],Ux={__name:"comic_work_info",emits:["work_info"],setup(t,{emit:e}){const s=y([]),n=y(""),o=y(""),i=y(""),a=y(""),l=e,c=()=>{a.value&&(s.value.push(a.value),a.value="",u())},u=()=>{const d={name:n.value,brief_introduction:o.value,age_classification:i.value,work_tags:s.value};l("work_info",d)};K([n,o,i,s],u,{deep:!0});const _=()=>{n.value="",o.value="",i.value="",s.value=[],u()};return(d,h)=>(v(),k("div",Tx,[r("div",Cx,[r("div",Ex,[gt(r("input",{placeholder:"标题","onUpdate:modelValue":h[0]||(h[0]=g=>n.value=g)},null,512),[[Dt,n.value]]),gt(r("textarea",{placeholder:"描述/简介","onUpdate:modelValue":h[1]||(h[1]=g=>o.value=g),style:{resize:"vertical"}},null,512),[[Dt,o.value]])]),r("div",Ax,[gt(r("input",{placeholder:"作品标签","onUpdate:modelValue":h[2]||(h[2]=g=>a.value=g)},null,512),[[Dt,a.value]]),r("div",{class:"add_tag_btn",onClick:c},Ix),(v(!0),k(Z,null,rt(s.value,(g,w)=>(v(),k("div",{class:"tags_list",key:w},[r("span",null,"#"+S(g),1)]))),128))]),r("div",Mx,[Px,gt(r("input",{type:"radio",name:"age",value:"16","onUpdate:modelValue":h[3]||(h[3]=g=>i.value=g)},null,512),[[Xe,i.value]]),$t("全年龄 "),gt(r("input",{type:"radio",name:"age",value:"18","onUpdate:modelValue":h[4]||(h[4]=g=>i.value=g)},null,512),[[Xe,i.value]]),$t("R-18 "),gt(r("input",{type:"radio",name:"age",value:"18G","onUpdate:modelValue":h[5]||(h[5]=g=>i.value=g)},null,512),[[Xe,i.value]]),$t("R-18G ")]),Lx,r("div",{class:"sure_btn"},[r("div",{class:"sure",onClick:u},Nx),r("div",{class:"cancel",onClick:_},zx)])])]))}},Hx=F(Ux,[["__scopeId","data-v-76b136b2"]]),Xs=t=>(et("data-v-052f2389"),t=t(),st(),t),Bx={class:"ill_page"},Gx={class:"upload_work_box"},Wx={key:0,class:"upload_btn_box"},Vx=Xs(()=>r("div",{class:"upload_svg"},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/photo.svg"}),r("img",{src:"https://www.sunyuanling.com/assets/add.svg",class:"add_icon"})],-1)),Kx={key:1,class:"work_statement"},Yx=Xs(()=>r("span",null,"格式：JPEG/JPG/GIF/PNG/TIFF",-1)),Jx=Xs(()=>r("span",null,"大小：32MB以下",-1)),qx=Xs(()=>r("span",null,"数量：200张以下，合计不超过300MB",-1)),Qx=[Yx,Jx,qx],Xx={key:2,class:"upload_work_list"},Zx={class:"tips_info"},t$={class:"item"},e$=["src"],s$=["onClick"],n$=Xs(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),o$=[n$],i$={class:"filename"},a$=Xs(()=>r("img",{class:"add_icon",src:"https://www.sunyuanling.com/assets/add.svg"},null,-1)),l$=[a$],r$=Xs(()=>r("span",null,"投稿",-1)),c$=[r$],u$={__name:"comic_page",setup(t){let e=y([]),s=y(0),n=y(0),o=y({}),i=y(JSON.parse(Nt("userinfo")));console.log(i.value);function a(h){o.value=h,o.value.username=i.value.username,o.value.userid=i.value.userid,o.value.work_type="comic",o.value.token=Nt("token"),console.log(o.value)}function l(){document.getElementById("upload_work_file").click()}K(()=>e.value,h=>{let g=0;for(let w=0;w<h.length;w++)g+=h[w].file.size;s.value=g,n.value=h.length});function c(h){const g=h.target.files;let w=0;for(let f=0;f<g.length;f++)w+=g[f].size;if(g.length>200-e.value.length){alert("不能超过200个文件！");return}if(w>300*1024*1024-e.value.reduce((f,p)=>f+p.file.size,0)){alert("文件总大小不能超过300MB！");return}for(let f=0;f<g.length;f++){const p=g[f],m=new FileReader;m.onload=b=>{e.value.push({file:p,url:b.target.result,filename:p.name})},m.readAsDataURL(p)}}function u(h){requestAnimationFrame(()=>{e.value.splice(h,1)})}function _(){l()}async function d(){try{const h=new FormData;e.value.forEach((w,f)=>{h.append("files",w.file,w.file.name)}),h.append("work_info",JSON.stringify(o.value));const g=await fetch("https://www.sunyuanling.com/api/file/UploadFile/",{method:"POST",body:h});if(g.ok){const w=await g.json();console.log(w.message),alert("上传成功")}else console.log("服务器错误"),console.log(g.status)}catch(h){console.log(h)}console.log("提交作品信息",o.value,e.value)}return(h,g)=>(v(),k("div",Bx,[r("div",Gx,[r("input",{type:"file",id:"upload_work_file",accept:"image/*",style:{display:"none"},ref:"upload_work_file",multiple:"",onChange:c},null,544),$(e).length<=0?(v(),k("div",Wx,[r("div",{class:"upload_btn",onClick:g[0]||(g[0]=w=>l())},[Vx,$t(" 上传作品 ")])])):O("",!0),$(e).length<=0?(v(),k("div",Kx,Qx)):O("",!0),$(e).length>0?(v(),k("div",Xx,[r("div",Zx," 文件数量："+S($(e).length)+" 文件总大小："+S(($(s)/(1024*1024)).toFixed(2))+"MB ",1),r("div",t$,[(v(!0),k(Z,null,rt($(e),(w,f)=>(v(),k("div",{class:"work_item",key:w.filename},[r("img",{src:w.url,alt:"文件预览"},null,8,e$),r("div",{class:"delete_btn",onClick:p=>u(f)},o$,8,s$),r("div",i$,S(w.filename),1)]))),128)),r("div",{class:"add_work_btn",onClick:_},l$)])])):O("",!0)]),W(Hx,{onWork_info:a}),r("div",{class:"submit_btn",onClick:d},c$)]))}},G_=F(u$,[["__scopeId","data-v-052f2389"]]),_$={class:"select_title"},d$=["src"],h$=["src"],f$={key:0,class:"select_list"},g$=["onClick"],p$={class:"select_item_text"},m$=["src"],v$={name:"rewrite_select"},w$=Object.assign(v$,{props:{select_title:{type:String,default:"新建系列"},select_list:{type:Array,default:()=>["新建系列"]},drop_down_icon_path:{type:String,default:"https://www.sunyuanling.com/assets/drop_down.svg"},drop_up_icon_path:{type:String,default:"https://www.sunyuanling.com/assets/drop_up.svg"},select_item_check:{type:String,default:"https://www.sunyuanling.com/assets/correct.svg"}},emits:["select-item"],setup(t,{emit:e}){const s=t,n=y(s.drop_down_icon_path),o=y(s.drop_up_icon_path),i=y(s.select_title),a=y(s.select_list),l=y(s.select_item_check),c=y(!1),u=y(null),_=y(!1),d=e;function h(x){d("select-item",x)}K(u,x=>{x&&h(x)}),K(()=>s.select_title,x=>{i.value=x}),K(()=>s.select_list,x=>{a.value=x}),K(()=>s.drop_down_icon_path,x=>{n.value=x}),K(()=>s.drop_up_icon_path,x=>{o.value=x}),K(()=>s.select_item_check,x=>{l.value=x});function g(){c.value=!c.value}function w(x,A){A.stopPropagation(),u.value=x,i.value=x,c.value=!1}function f(){_.value=!0}function p(x){_.value||(c.value=!1),_.value=!1}document.addEventListener("click",p),Le(()=>{document.removeEventListener("click",p)});function m(x){x.style.maxHeight="none",x.style.opacity="1"}function b(x){x.style.maxHeight="0",x.style.opacity="0"}return Q(()=>{n.value=s.drop_down_icon_path,o.value=s.drop_up_icon_path,i.value=s.select_title,a.value=s.select_list,l.value=s.select_item_check}),(x,A)=>(v(),k("div",{class:"select_box",onClick:f},[r("div",{class:"select",onClick:g},[r("span",_$,S(i.value),1),c.value?(v(),k("img",{key:1,class:"drop_down",src:o.value},null,8,h$)):(v(),k("img",{key:0,class:"drop_down",src:n.value},null,8,d$))]),W(fo,{name:"select-list",onAfterEnter:m,onAfterLeave:b},{default:Ai(()=>[c.value?(v(),k("div",f$,[(v(!0),k(Z,null,rt(a.value,(I,T)=>(v(),k("div",{class:"select_item",key:T,onClick:D=>w(I,D)},[r("span",p$,S(I),1),u.value===I?(v(),k("img",{key:0,class:"select_item_check",src:l.value},null,8,m$)):O("",!0)],8,g$))),128))])):O("",!0)]),_:1})]))}}),W_=F(w$,[["__scopeId","data-v-f667942c"]]),y$=["maxlength","rows","placeholder"],b$={__name:"auto_textarea",props:{modelValue:{type:String,default:""},maxlength:{type:Number,default:3e3},rows:{type:Number,default:4},placeholder:{type:String,default:"自动文本框"},initialWidth:{type:String,default:"100%"},initialHeight:{type:String,default:"auto"},allowResizeWidth:{type:Boolean,default:!1},allowResizeHeight:{type:Boolean,default:!0},fontsize:{type:Number,default:16},lineheight:{type:Number,default:1.5}},emits:["update:modelValue"],setup(t,{emit:e}){const s=e,n=t,o=y(null),i=y(n.modelValue),a=()=>{o.value&&(o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight}px`)};return K(()=>n.modelValue,l=>{i.value=l,a()}),K(()=>i.value,l=>{s("update:modelValue",l),a()}),Q(()=>{a()}),(l,c)=>gt((v(),k("textarea",{ref_key:"textarea",ref:o,maxlength:t.maxlength,rows:t.rows,placeholder:t.placeholder,style:pe({width:t.initialWidth,height:t.initialHeight,resize:t.allowResizeWidth&&t.allowResizeHeight?"both":t.allowResizeHeight?"vertical":"none",fontSize:t.fontsize+"px",lineHeight:t.lineheight}),"onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),onInput:a},null,44,y$)),[[Dt,i.value]])}},V_=F(b$,[["__scopeId","data-v-fc57f83e"]]),k$=t=>(et("data-v-8cf32c37"),t=t(),st(),t),x$=k$(()=>r("div",{class:"toggle-circle"},null,-1)),$$=[x$],S$={__name:"switch_btn",emits:["change_status"],setup(t,{emit:e}){const s=y(!1);let n=e;function o(){n("change_status",s.value)}const i=()=>{s.value=!s.value,o()};return(a,l)=>(v(),k("div",{class:"toggle-container",onClick:i},[r("div",{class:yt(["toggle-switch",{on:s.value}])},$$,2)]))}},K_=F(S$,[["__scopeId","data-v-8cf32c37"]]),T$=t=>(et("data-v-a4bc4c9b"),t=t(),st(),t),C$={class:"preview_cover"},E$=T$(()=>r("span",null,"封面预览",-1)),A$={class:"cover_box"},O$=["src"],I$={__name:"preview_cover",props:{title:{type:String,default:"示例标题"},template_name:{type:String,default:"template_1"},file:{type:File,default:null}},emits:["temp_cover_path"],setup(t,{emit:e}){const s=y(""),n=Nt("token"),o=t,i=e,a=async()=>{try{const c=await fetch("https://www.sunyuanling.com/api/file/GetPreviewCover/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,template_name:o.template_name,title:o.title})});if(c.ok){const u=await c.json();if(u.status==="success")return u.cover_path;console.log(u.message)}else console.log("网络错误"+c.status)}catch(c){console.log(c)}},l=async()=>{if(o.file){const c=new FileReader;c.onload=u=>{s.value=u.target.result},c.readAsDataURL(o.file)}else o.title||o.template_name?(s.value="https://www.sunyuanling.com/image/novel/temp_cover/"+await a(),console.log("服务器绘制封面")):s.value="";i("temp_cover_path",s.value)};return Q(async()=>{await l()}),K(()=>({...o}),async(c,u)=>{(c.file!==u.file||c.title!==u.title||c.template_name!==u.template_name)&&(s.value="",await l())},{deep:!0}),(c,u)=>(v(),k("div",C$,[E$,r("div",A$,[r("img",{src:s.value,alt:"封面预览",ref:"cover_img"},null,8,O$)])]))}},M$=F(I$,[["__scopeId","data-v-a4bc4c9b"]]),$l=t=>(et("data-v-abece274"),t=t(),st(),t),P$={class:"is_original"},L$=$l(()=>r("span",null,[r("b",null,"描写内容")],-1)),D$={class:"is_original_box"},R$=$l(()=>r("span",null,"是否为原创",-1)),N$=$l(()=>r("div",{class:"tips"},[r("span",{style:{color:"rgba(77,77,77,0.8)","font-size":"14px"}},"若该作品的所有内容（如：故事、人物、设定等）都是您的原创，请选择此项。")],-1)),j$={__name:"is_original",emits:["series_info"],setup(t,{emit:e}){let s=y("选择作品类型"),n=y(["恋爱","异世界穿越","现代奇幻","悬疑","恐怖","科幻","日常","历史","百合","同人向","其他文体","随笔","剧本","轻小说","游戏","种田","其他"]),o=y(),i=y(!1);function a(u){o.value=u}function l(u){i.value=u}let c=e;return K([o,i],()=>{c("series_info",{series_name:o.value,is_original:i.value})}),(u,_)=>(v(),k("div",P$,[L$,r("div",D$,[W(K_,{onChange_status:l}),R$]),N$,W(W_,{select_title:$(s),select_list:$(n),onSelectItem:a,style:{"z-index":"5"}},null,8,["select_title","select_list"])]))}},F$=F(j$,[["__scopeId","data-v-abece274"]]),ee=t=>(et("data-v-fdf9e5d7"),t=t(),st(),t),z$={class:"create_new_series"},U$={class:"background"},H$={class:"title"},B$=ee(()=>r("div",null,null,-1)),G$=ee(()=>r("span",{style:{"font-weight":"bold"}},"新建系列",-1)),W$=ee(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),V$=[W$],K$={class:"content"},Y$={class:"work_title"},J$=ee(()=>r("label",{style:{"font-weight":"bold"}},"系列标题",-1)),q$={class:"work_name"},Q$=ee(()=>r("label",{style:{"font-weight":"bold"}},"作品名称",-1)),X$={class:"work_introducation"},Z$=ee(()=>r("label",{style:{"font-weight":"bold"}},"作品介绍",-1)),tS={class:"tags_box"},eS={class:"add_tag_btn"},sS=ee(()=>r("label",{style:{"font-weight":"bold"}},"作品标签",-1)),nS={class:"tags_list"},oS=["onClick"],iS=ee(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),aS=[iS],lS={class:"age_classification"},rS=ee(()=>r("label",{style:{"font-weight":"bold"}},"作品年龄分类",-1)),cS={class:"age_classification_list"},uS=ee(()=>r("label",null,"全年龄",-1)),_S=ee(()=>r("span",null,"R-18",-1)),dS=ee(()=>r("span",null,"R-18G",-1)),hS={class:"work_status"},fS=ee(()=>r("span",null,"连载中",-1)),gS={class:"choose_cover",style:{gap:"10px",display:"flex","flex-direction":"column"}},pS=ee(()=>r("span",null,"封面",-1)),mS={class:"cover_list"},vS={class:"btn_box"},wS=ee(()=>r("span",null,"确定",-1)),yS=[wS],bS=ee(()=>r("span",null,"取消",-1)),kS=[bS],xS={__name:"create_new_series",emits:["close_create_new_series","new_series_info"],setup(t,{emit:e}){let s=Nt("token"),n=JSON.parse(Nt("userinfo"));const o=e,i=y({}),a=y(["template_1.jpg","template_2.jpg","template_3.jpg","template_4.jpg","template_5.jpg","template_6.jpg","template_7.jpg"]);function l(){const C="https://www.sunyuanling.com/image/novel/cover_material/";return a.value.map(P=>C+P)}function c(){o("close_create_new_series",!1)}function u(){o("new_series_info",i.value)}let _=y();const d=y({work_name:"",title:"",introducation:"",tags:[],age_classification:"",work_status:"",choose_cover_path:"",token:s,user_info:n,cover_type:"default_cover"});let h=y(null);function g(C){d.value.tags.splice(C,1)}function w(){const C=_.value.trim();if(C===""){alert("标签不能为空！");return}if(d.value.tags.includes(C)){alert("标签已存在！");return}d.value.tags.push(C),_.value=""}let f=C=>{d.value.user_choose_cover_path=C};K(d,C=>{i.value={...C},u(),console.log(C)},{deep:!0});const p=y(null);K(()=>d.value.tags,C=>{p.value&&(p.value.value=C.split(","))});function m(C){d.value.work_status=C?"连载中":"已完结",console.log(d.value)}function b(C){h.value=C}function x(){h.value=null}function A(C){C!="custom_cover"?(d.value.choose_cover_path=C,h.value=null):(console.log("自定义封面"),d.value.cover_type="custom_cover")}K(()=>d.value.title,()=>{h.value=null}),K(()=>d.value.choose_cover_path,()=>{h.value=null});let I=y();function T(C){I.value=C,d.value.series_name=I.value.series_name,d.value.is_original=I.value.is_original}async function D(){console.log("work_info",d.value);let C=new FormData;C.append("file",h.value),C.append("work_info",JSON.stringify(d.value));try{const P=await fetch("https://www.sunyuanling.com/api/file/UploadNewSeries/",{method:"POST",body:C});if(P.ok){const j=await P.json();j.status=="success",alert(j.message)}else console.log("服务器错误"),console.log(P.status)}catch(P){console.log(P)}}return(C,P)=>(v(),k("div",z$,[r("div",U$,[r("div",H$,[B$,G$,r("div",{class:"close_btn",onClick:P[0]||(P[0]=j=>c())},V$)]),r("div",K$,[r("div",Y$,[J$,gt(r("input",{type:"text","onUpdate:modelValue":P[1]||(P[1]=j=>d.value.title=j),maxlength:"100"},null,512),[[Dt,d.value.title]])]),r("div",q$,[Q$,gt(r("input",{type:"text","onUpdate:modelValue":P[2]||(P[2]=j=>d.value.work_name=j),maxlength:"100"},null,512),[[Dt,d.value.work_name]])]),r("div",X$,[Z$,W(V_,{style:{border:"1px solid rgba(77,77,77,0.8)"},modelValue:d.value.introducation,"onUpdate:modelValue":P[3]||(P[3]=j=>d.value.introducation=j),maxlength:3e5,rows:5,placeholder:"请输入作品介绍...",fontsize:14,lineheight:1.6},null,8,["modelValue"])]),r("div",tS,[r("div",eS,[sS,gt(r("input",{type:"text","onUpdate:modelValue":P[4]||(P[4]=j=>mt(_)?_.value=j:_=j),placeholder:"请输入标签...",onKeyup:Ig(w,["enter"])},null,544),[[Dt,$(_)]])]),r("div",nS,[(v(!0),k(Z,null,rt(d.value.tags,(j,G)=>(v(),k("div",{class:"tag_item",key:G},[r("span",null,S(j),1),r("div",{class:"delete_btn",onClick:R=>g(G)},aS,8,oS)]))),128))])]),r("div",lS,[rS,r("div",cS,[gt(r("input",{type:"radio",value:"16",name:"age_classification","onUpdate:modelValue":P[5]||(P[5]=j=>d.value.age_classification=j)},null,512),[[Xe,d.value.age_classification]]),uS,gt(r("input",{type:"radio",value:"18",name:"age_classification","onUpdate:modelValue":P[6]||(P[6]=j=>d.value.age_classification=j)},null,512),[[Xe,d.value.age_classification]]),_S,gt(r("input",{type:"radio",value:"18+",name:"age_classification","onUpdate:modelValue":P[7]||(P[7]=j=>d.value.age_classification=j)},null,512),[[Xe,d.value.age_classification]]),dS])]),r("div",hS,[W(K_,{onChange_status:m}),fS]),r("div",gS,[pS,r("div",mS,[W(j_,{msg_type:"image",msg_list:l(),onChose_item:A,onChoose_cover_file:b,onClear_cover_file:x},null,8,["msg_list"])])]),W(M$,{title:d.value.title,template_name:d.value.choose_cover_path,file:$(h),onTemp_cover_path:$(f),onClear_uploaded_file:x},null,8,["title","template_name","file","onTemp_cover_path"]),W(F$,{onSeries_info:T}),r("div",vS,[r("div",{class:"sure_btn",onClick:P[8]||(P[8]=j=>D())},yS),r("div",{class:"cancel_btn",onClick:P[9]||(P[9]=j=>c())},kS)])])])]))}},$S=F(xS,[["__scopeId","data-v-fdf9e5d7"]]),Zs=t=>(et("data-v-574ee490"),t=t(),st(),t),SS={class:"novel_page"},TS=Zs(()=>r("div",{class:"page_title"}," 小说投稿 ",-1)),CS={class:"content"},ES=Zs(()=>r("span",null,"投稿形式",-1)),AS={class:"work_typeof"},OS=Zs(()=>r("label",{for:""},"系列作品",-1)),IS=Zs(()=>r("label",{for:""},"单篇完结作品",-1)),MS=Zs(()=>r("div",{class:"contribute_tips",style:{"margin-top":"10px",color:"rgba(77,77,77,0.9)","font-size":"14px"}},[r("span",null,"若是连载作品，或是类似短篇小说集等分多个篇章叙述的作品，还请选为系列作品进行投稿。 在新建系列后才能投稿系列作品。")],-1)),PS={class:"work_series"},LS={class:"work_item"},DS={class:"work_title"},RS={style:{position:"absolute",right:"2px",color:"rgba(77,77,77,0.6)"}},NS={class:"work_content"},jS={style:{position:"absolute",right:"0px",top:"100%",color:"rgba(77,77,77,0.6)"}},FS={class:"btn_box"},zS=Zs(()=>r("span",null,"确定",-1)),US=[zS],HS=Zs(()=>r("div",{class:"hr",style:{"border-top":"1px solid rgba(77,77,77,0.3)","margin-top":"50px",height:"1px",width:"90%","margin-left":"auto","margin-right":"auto"}},null,-1)),BS={name:"novel_page"},GS=Object.assign(BS,{setup(t){const e=pt();let s=Nt("token");s=kt(()=>e.getters.token),s=s.value;let n=y("新建系列"),o=y(["新建系列","作品系列一"]),i=y(null),a=y(),l=y(""),c=y(l.value.length),u=y(""),_=y(u.value.length),d=y(!1);K(u,()=>{_.value=u.value.length}),K(l,()=>{c.value=l.value.length});function h(m){a.value=m,console.log(m)}function g(){a.value=="新建系列"?d.value=!0:d.value=!1}K(a,m=>{g()});function w(){d.value=!1}async function f(){let m=[];o.value=["新建系列"];try{let b=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkSeries/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s})});if(!b.ok){console.error("HTTP error:",b.status);return}const x=await b.json();if(x.status==="success"){m=x.data;const A=m.map(I=>I.work_series).filter(Boolean);o.value=[...new Set([...o.value,...A])]}else alert(x.message)}catch(b){console.error("Fetch error:",b)}}Q(async()=>{await f()});async function p(){let m=l.value.replace(/\n/g,"\\n");try{const b=await fetch("https://www.sunyuanling.com/api/novel/UploadNewChapter/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,series_name:a.value,chapter_name:u.value,content:m,is_series:i.value.value})});if(b.ok){const x=await b.json();x.status=="success",alert(x.message)}else console.log("服务器错误")}catch(b){console.log(b)}}return(m,b)=>(v(),k("div",SS,[TS,r("div",CS,[ES,r("div",AS,[r("input",{type:"radio",value:"系列作品",name:"novel_typeof",ref_key:"novel_typeof",ref:i},null,512),OS,r("input",{type:"radio",value:"单篇完结作品",name:"novel_typeof",ref_key:"novel_typeof",ref:i},null,512),IS,MS]),r("div",PS,[W(W_,{select_title:$(n),select_list:$(o),onSelectItem:h},null,8,["select_title","select_list"])]),r("div",LS,[r("div",DS,[gt(r("input",{type:"text",placeholder:"作品标题","onUpdate:modelValue":b[0]||(b[0]=x=>mt(u)?u.value=x:u=x),maxlength:"100"},null,512),[[Dt,$(u)]]),r("span",RS,S($(_))+"/100",1)]),r("div",NS,[W(V_,{modelValue:$(l),"onUpdate:modelValue":b[1]||(b[1]=x=>mt(l)?l.value=x:l=x),maxlength:3e5,rows:5,placeholder:"请输入正文内容...",fontsize:14,lineheight:1.6},null,8,["modelValue"]),r("span",jS,S($(c))+"/300000",1)])]),r("div",FS,[r("div",{class:"sure_btn",onClick:b[2]||(b[2]=x=>p())},US)])]),$(d)?(v(),lt($S,{key:0,onClose_create_new_series:w})):O("",!0),HS]))}}),Y_=F(GS,[["__scopeId","data-v-574ee490"]]),Ui=t=>(et("data-v-4ebcb628"),t=t(),st(),t),WS={class:"index"},VS={class:"choose_page"},KS=Ui(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),YS=[KS],JS=Ui(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/photo.svg"},null,-1)),qS=Ui(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/comic.svg"},null,-1)),QS=Ui(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/novel.svg"},null,-1)),XS={name:"index",components:{ill_page:B_,comic_page:G_,novel_page:Y_}},ZS=Object.assign(XS,{setup(t){const e=pt();let s=y();function n(){e.commit("SET_SINGLE_PAGE_STATUS",{key:"upload_work",value:!1})}return K(()=>e.getters.upload_work_type,o=>{s.value=o,console.log(o)}),Q(()=>{s.value=e.getters.upload_work_type}),(o,i)=>(v(),k("div",WS,[r("div",VS,[r("div",{class:"close_btn",onClick:i[0]||(i[0]=a=>n())},YS),r("span",{onClick:i[1]||(i[1]=a=>mt(s)?s.value="ill":s="ill"),class:yt(["choose_page_item",{select:$(s)==="ill"}])},[JS,$t(" 插画")],2),r("span",{onClick:i[2]||(i[2]=a=>mt(s)?s.value="comic":s="comic"),class:yt(["choose_page_item",{select:$(s)==="comic"}])},[qS,$t(" 漫画")],2),r("span",{onClick:i[3]||(i[3]=a=>mt(s)?s.value="novel":s="novel"),class:yt(["choose_page_item",{select:$(s)==="novel"}])},[QS,$t(" 小说")],2)]),$(s)=="ill"?(v(),lt(B_,{key:0})):$(s)=="comic"?(v(),lt(G_,{key:1})):$(s)=="novel"?(v(),lt(Y_,{key:2})):O("",!0)]))}}),t2=F(ZS,[["__scopeId","data-v-4ebcb628"]]),e2=t=>(et("data-v-f7a1280b"),t=t(),st(),t),s2={class:"go_back"},n2=e2(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/left.svg"},null,-1)),o2=[n2],i2={__name:"go_back",setup(t){const e=pt(),s=y(null);function n(){e.dispatch("goBack").then(()=>{fe(()=>{s.value&&s.value.click()})})}return(o,i)=>(v(),k("div",s2,[r("div",{class:"btn_box",onClick:n,ref_key:"btn_box",ref:s},o2,512)]))}},Sl=F(i2,[["__scopeId","data-v-f7a1280b"]]),a2={class:"img_box"},l2=["src"],r2={__name:"img_content_page",props:{item_path:{type:String,default:""}},emits:["close_img_content_page"],setup(t,{emit:e}){const s=pt(),n=t,o=y(n.item_path);let i=e;K(()=>n.item_path,c=>{o.value=c}),Q(()=>{o.value=s.getters.item_path});const a=y(null);function l(){i("close_img_content_page",!1),a.value||console.warn("img_content_page_img.value is null")}return(c,u)=>(v(),k("div",{class:"img_content_page",onClick:l},[r("div",a2,[r("img",{src:"https://www.sunyuanling.com/image/"+o.value,ref_key:"img_content_page_img",ref:a},null,8,l2)])]))}},Tl=F(r2,[["__scopeId","data-v-458f2e87"]]),c2={class:"scroll_box"},u2={class:"scroll_box_content"},_2={class:"btn_box"},d2=["src"],h2=["src"],f2=["onClick"],g2=["onClick"],p2=["src"],m2={key:0,class:"work_count"},v2=["src"],w2={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400},page_count_svg:{type:String,default:"https://www.sunyuanling.com/assets/page_count.svg"}},emits:["chose_item"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null),a=()=>{o.value&&o.value.forEach((f,p)=>{f.style.backgroundColor=n.value[p%n.value.length]})};let l=y(s.msg_list);K(()=>s.msg_list,()=>{l.value=s.msg_list});const c=e,u=f=>{c("chose_item",f)},_=f=>f<.5?2*f*f:-1+(4-2*f)*f,d=(f,p)=>{const m=i.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=_(T);i.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},h=()=>{d(-s.scrollDistance,s.animationDuration)},g=()=>{d(s.scrollDistance,s.animationDuration)};Q(async()=>{a(),l.value=s.msg_list;for(let f=0;f<s.msg_list.length;f++)l.value[f].work_count=await w(s.msg_list[f].Illustration_id)});async function w(f){try{const p=await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:f})});if(p.ok){const m=await p.json();if(m.status=="success")return m.data[0].content_file_list.split(/[,，]/).length}}catch(p){console.log(p)}}return(f,p)=>(v(),k("div",c2,[r("div",u2,[r("div",_2,[r("div",{class:"left_btn",onClick:h},[r("img",{src:s.left_btn,class:"icon"},null,8,d2)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:s.right_btn,class:"icon"},null,8,h2)])]),r("div",{class:"list",ref_key:"list",ref:i},[(v(!0),k(Z,null,rt($(l),(m,b)=>(v(),k("div",{class:"item",key:b},[s.msg_type==="tags"?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_item",ref:o,onClick:x=>u(m)},[r("span",null,S(m),1)],8,f2)):O("",!0),s.msg_type==="image"?(v(),k("div",{key:1,class:"image_item",onClick:x=>u({item:m,work_id:m.Illustration_id})},[r("img",{src:m.item_path,class:"image"},null,8,p2),m.work_count>1?(v(),k("div",m2,[r("img",{src:s.page_count_svg,class:"icon"},null,8,v2),r("span",null,S(m.work_count),1)])):O("",!0)],8,g2)):O("",!0)]))),128))],512)])]))}},y2=F(w2,[["__scopeId","data-v-83185240"]]),b2=t=>(et("data-v-bf3a3a2f"),t=t(),st(),t),k2={key:0,class:"author_info_page"},x2={class:"content"},$2={class:"author_avatar"},S2=["src"],T2={class:"author_name"},C2={class:"follow_btn"},E2={class:"others_work"},A2=b2(()=>r("div",{class:"others_work_title"},"其他作品",-1)),O2={__name:"author_info",props:{author_id:{type:String,default:"10086"}},emits:["chose_item"],setup(t,{emit:e}){const s=pt(),n=t,o=y(null),i=y([]),a=y("关注"),l=y([]),c=Nt("token"),u=e;K(()=>n.author_id,async()=>{await d()});async function _(p,m){try{const b=await fetch(p,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});return b.ok?await b.json():(console.error(`HTTP error: ${b.status}`),{status:"error",message:"Request failed"})}catch(b){return console.error(`Fetch error: ${b}`),{status:"error",message:"Fetch error"}}}async function d(){const[p,m,b]=await Promise.all([_("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{userid:n.author_id}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/",{token:c}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{userid:n.author_id})]);p.status==="success"?o.value=p.data[0]:console.error(p.message),m.status==="success"?(i.value=m.data,h()):console.error(m.message),b.status==="success"?l.value=b.data.ill.map(x=>({item_path:"https://www.sunyuanling.com/image/thumbnail/"+x.content_file_list.split(/[,，]/)[0],Illustration_id:x.Illustration_id})):console.error(b.message)}function h(){const p=i.value.some(m=>m.follow_user_id===n.author_id);a.value=p?"已关注":"关注"}async function g(){const p=await _("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/",{token:c,target_id:o.value.userid,target_username:o.value.username});p.status==="success"&&(a.value=a.value==="已关注"?"关注":"已关注"),alert(p.message)}function w(p){u("chose_item",{work_id:p.work_id})}function f(p,m){s.commit("SET_OTHER_USERID",p),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0})}return Q(()=>{d()}),(p,m)=>n.author_id&&o.value?(v(),k("div",k2,[r("div",x2,[r("div",{class:"author_info",onClick:m[0]||(m[0]=b=>f(o.value.userid,o.value))},[r("div",$2,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+o.value.user_avatar},null,8,S2)]),r("div",T2,[r("span",null,S(o.value.username),1)])]),r("div",{class:yt(["author_follow",a.value==="已关注"?"off_follow":"on_follow"]),onClick:g},[r("div",C2,[r("span",null,S(a.value),1)])],2),r("div",E2,[A2,W(y2,{msg_list:l.value,onChose_item:w},null,8,["msg_list"])])])])):O("",!0)}},I2=F(O2,[["__scopeId","data-v-bf3a3a2f"]]),M2={class:"scroll_box"},P2={class:"scroll_box_content"},L2={class:"btn_box"},D2=["src"],R2=["src"],N2=["onClick"],j2=["onClick"],F2=["src"],z2={key:0,class:"work_count"},U2=["src"],H2={__name:"scroll_box_bottom",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400},page_count_svg:{type:String,default:"https://www.sunyuanling.com/assets/page_count.svg"}},emits:["chose_item"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null),a=()=>{o.value&&o.value.forEach((f,p)=>{f.style.backgroundColor=n.value[p%n.value.length]})};let l=y(s.msg_list);K(()=>s.msg_list,()=>{l.value=s.msg_list});const c=e,u=f=>{c("chose_item",f)},_=f=>f<.5?2*f*f:-1+(4-2*f)*f,d=(f,p)=>{const m=i.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=_(T);i.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},h=()=>{d(-s.scrollDistance,s.animationDuration)},g=()=>{d(s.scrollDistance,s.animationDuration)};Q(async()=>{a(),l.value=s.msg_list;for(let f=0;f<s.msg_list.length;f++)l.value[f].work_count=await w(s.msg_list[f].Illustration_id)});async function w(f){try{const p=await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:f})});if(p.ok){const m=await p.json();if(m.status=="success")return m.data[0].content_file_list.split(/[,，]/).length}}catch(p){console.log(p)}}return(f,p)=>(v(),k("div",M2,[r("div",P2,[r("div",L2,[r("div",{class:"left_btn",onClick:h},[r("img",{src:s.left_btn,class:"icon"},null,8,D2)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:s.right_btn,class:"icon"},null,8,R2)])]),r("div",{class:"list",ref_key:"list",ref:i},[(v(!0),k(Z,null,rt($(l),(m,b)=>(v(),k("div",{class:"item",key:b},[s.msg_type==="tags"?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_item",ref:o,onClick:x=>u(m)},[r("span",null,S(m),1)],8,N2)):O("",!0),s.msg_type==="image"?(v(),k("div",{key:1,class:"image_item",onClick:x=>u({item:m,work_id:m.Illustration_id})},[r("img",{src:m.item_path,class:"image"},null,8,F2),m.work_count>1?(v(),k("div",z2,[r("img",{src:s.page_count_svg,class:"icon"},null,8,U2),r("span",null,S(m.work_count),1)])):O("",!0)],8,j2)):O("",!0)]))),128))],512)])]))}},B2=F(H2,[["__scopeId","data-v-7b2bab25"]]),G2=t=>(et("data-v-8919432e"),t=t(),st(),t),W2={key:0,class:"author_info_page"},V2={class:"content"},K2={class:"author_avatar"},Y2=["src"],J2={class:"author_name"},q2={class:"follow_btn"},Q2={class:"others_work"},X2=G2(()=>r("div",{class:"others_work_title"},"其他作品",-1)),Z2={__name:"author_info",props:{author_id:{type:String,default:"10086"}},emits:["chose_item"],setup(t,{emit:e}){const s=pt(),n=t,o=y(null),i=y([]),a=y("关注"),l=y([]),c=Nt("token"),u=e;K(()=>n.author_id,async()=>{await d()});async function _(p,m){try{const b=await fetch(p,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});return b.ok?await b.json():(console.error(`HTTP error: ${b.status}`),{status:"error",message:"Request failed"})}catch(b){return console.error(`Fetch error: ${b}`),{status:"error",message:"Fetch error"}}}async function d(){const[p,m,b]=await Promise.all([_("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{userid:n.author_id}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/",{token:c}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{userid:n.author_id})]);p.status==="success"?o.value=p.data[0]:console.error(p.message),m.status==="success"?(i.value=m.data,h()):console.error(m.message),b.status==="success"?l.value=b.data.ill.map(x=>({item_path:"https://www.sunyuanling.com/image/thumbnail/"+x.content_file_list.split(/[,，]/)[0],Illustration_id:x.Illustration_id})):console.error(b.message)}function h(){const p=i.value.some(m=>m.follow_user_id===n.author_id);a.value=p?"已关注":"关注"}async function g(){const p=await _("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/",{token:c,target_id:o.value.userid,target_username:o.value.username});p.status==="success"&&(a.value=a.value==="已关注"?"关注":"已关注"),alert(p.message)}function w(p){u("chose_item",{work_id:p.work_id})}function f(p,m){s.commit("SET_OTHER_USERID",p),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0})}return Q(()=>{d()}),(p,m)=>n.author_id&&o.value?(v(),k("div",W2,[r("div",V2,[r("div",{class:"author_info",onClick:m[0]||(m[0]=b=>f(o.value.userid,o.value))},[r("div",K2,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+o.value.user_avatar},null,8,Y2)]),r("div",J2,[r("span",null,S(o.value.username),1)]),r("div",{class:yt(["author_follow",a.value==="已关注"?"off_follow":"on_follow"]),onClick:g},[r("div",q2,[r("span",null,S(a.value),1)])],2)]),r("div",Q2,[X2,W(B2,{msg_list:l.value,onChose_item:w},null,8,["msg_list"])])])])):O("",!0)}},tT=F(Z2,[["__scopeId","data-v-8919432e"]]),eT={class:"content"},sT={class:"item"},nT=["src"],oT=["src"],iT={class:"share"},aT=["src"],lT={__name:"interaction_bar",props:{like_svg:{type:String,default:"https://www.sunyuanling.com/assets/like.svg"},is_like_svg:{type:String,default:"https://www.sunyuanling.com/assets/is_like.svg"},collect:{type:String,default:"https://www.sunyuanling.com/assets/no_work_like.svg"},is_collect:{type:String,default:"https://www.sunyuanling.com/assets/work_like.svg"},share_svg:{type:String,default:"https://www.sunyuanling.com/assets/share.svg"},like_status:{type:Boolean,default:!1},collect_status:{type:Boolean,default:!1}},emits:["like_status","collect_status"],setup(t,{emit:e}){let s=y(null),n=t,o=e,i=y({like_svg:n.like_svg,is_like_svg:n.is_like_svg,collect:n.collect,is_collect:n.is_collect,share_svg:n.share_svg,like_status:n.like_status,collect_status:n.collect_status}),a=y({like:!1,collect:!1});function l(){if(!a.value.like){a.value.like=!0;let u=!i.value.like_status;o("like_status",u),i.value.like_status=u,setTimeout(()=>{a.value.like=!1},50)}}function c(){if(!a.value.collect){a.value.collect=!0;let u=!i.value.collect_status;o("collect_status",u),i.value.collect_status=u,setTimeout(()=>{a.value.collect=!1},50)}}return K(()=>n,u=>{i.value={...u}},{deep:!0}),Q(()=>{i.value={...n}}),(u,_)=>(v(),k("div",{class:"interaction_bar",ref_key:"interaction_bar",ref:s},[r("div",eT,[r("div",sT,[r("div",{class:"like",onClick:l},[r("img",{src:$(i).like_status?$(i).is_like_svg:$(i).like_svg,class:"icon"},null,8,nT)]),r("div",{class:"collect",onClick:c},[r("img",{src:$(i).collect_status?$(i).is_collect:$(i).collect,class:"icon"},null,8,oT)]),r("div",iT,[r("img",{src:$(i).share_svg,class:"icon"},null,8,aT)])])])],512))}},Qr=F(lT,[["__scopeId","data-v-b905ebbb"]]),Cl=t=>(et("data-v-ab7d8712"),t=t(),st(),t),rT={class:"work_info_bar"},cT={class:"content"},uT={class:"title"},_T={class:"brief_introduction"},dT={class:"tags_box"},hT={key:0,class:"age_classification"},fT={class:"tag_item"},gT={class:"work_data",style:{color:"rgba(133,133,133,1)"}},pT={class:"work_data_item"},mT=Cl(()=>r("img",{src:"https://www.sunyuanling.com/assets/like.svg",class:"icon"},null,-1)),vT={class:"work_data_item"},wT=Cl(()=>r("img",{src:"https://www.sunyuanling.com/assets/work_like.svg",class:"icon",style:{width:"25px",height:"25px"}},null,-1)),yT={class:"work_data_item"},bT=Cl(()=>r("img",{src:"https://www.sunyuanling.com/assets/show.svg",class:"icon"},null,-1)),kT={class:"work_create_time"},xT={__name:"work_info_bar",props:{title:{type:String,default:"作品标题"},brief_introduction:{type:String,default:"作品简介"},age_classification:{type:String,default:"18"},tags:{type:Array,default:()=>["标签一"]},work_data:{type:Object,default:()=>({like:"100",collect:"100",watch:"100"})},work_create_time:{type:String,default:"2024年7月26日13:08:38"}},setup(t){return(e,s)=>(v(),k("div",rT,[r("div",cT,[r("div",uT,[r("span",null,S(t.title),1)]),r("div",_T,[r("span",null,S(t.brief_introduction),1)]),r("div",dT,[t.age_classification!=="16"?(v(),k("span",hT,[r("span",null,"R-"+S(t.age_classification),1)])):O("",!0),r("div",fT,[(v(!0),k(Z,null,rt(t.tags,(n,o)=>(v(),k("div",{class:"tag",key:o},[r("span",null,"# "+S(n),1)]))),128))])]),r("div",gT,[r("div",pT,[mT,r("span",null,S(t.work_data.like),1)]),r("div",vT,[wT,r("span",null,S(t.work_data.collect),1)]),r("div",yT,[bT,r("span",null,S(t.work_data.watch),1)])]),r("div",kT,[r("span",null,S(t.work_create_time),1)])])]))}},$T=F(xT,[["__scopeId","data-v-ab7d8712"]]),ST=["maxlength","rows","placeholder"],TT={__name:"auto_textarea",props:{modelValue:{type:String,default:""},maxlength:{type:Number,default:3e3},rows:{type:Number,default:1},placeholder:{type:String,default:"发表一条友善的评论"},initialWidth:{type:String,default:"100%"},initialHeight:{type:String,default:"auto"},allowResizeWidth:{type:Boolean,default:!1},allowResizeHeight:{type:Boolean,default:!1},fontsize:{type:Number,default:16},lineheight:{type:Number,default:1.5}},emits:["update:modelValue"],setup(t,{emit:e}){const s=e,n=t,o=y(null),i=y(n.modelValue),a=()=>{o.value&&(o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight}px`)};return K(()=>n.modelValue,l=>{i.value=l,a()}),K(()=>i.value,l=>{s("update:modelValue",l),a()}),Q(()=>{a()}),(l,c)=>gt((v(),k("textarea",{ref_key:"textarea",ref:o,maxlength:t.maxlength,rows:t.rows,placeholder:t.placeholder,style:pe({width:t.initialWidth,height:t.initialHeight,resize:t.allowResizeWidth&&t.allowResizeHeight?"both":t.allowResizeHeight?"vertical":"none",fontSize:t.fontsize+"px",lineHeight:t.lineheight}),"onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),onInput:a},null,44,ST)),[[Dt,i.value]])}},CT=F(TT,[["__scopeId","data-v-c1a93e69"]]),ET=t=>(et("data-v-8c94467a"),t=t(),st(),t),AT={class:"send_msg_box"},OT={class:"user_avatar"},IT=["src"],MT=ET(()=>r("span",null,"发送",-1)),PT=[MT],LT={__name:"send_msg_box",props:{user_avatar_path:{type:String,default:"work_like.svg"},msg_info:{type:Object,default:()=>({work_id:"",work_type:"",token:"",send_userid:"",is_root_comment:"",content:"",main_userid:"",main_comment_id:"",reply_comment_id:""})}},emits:["send_msg","msg_info","send_ready_ok"],setup(t,{emit:e}){const s=t,n=e;let o=y("");const i=async()=>{n("send_msg",o.value),n("msg_info",s.msg_info),n("send_ready_ok",!0),o.value=""};return K(o,()=>{o.value!=""&&o.value&&(n("send_msg",o.value),n("msg_info",s.msg_info))}),(a,l)=>(v(),k("div",AT,[r("div",OT,[r("img",{class:"avatar_img",src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.user_avatar_path},null,8,IT)]),W(CT,{modelValue:$(o),"onUpdate:modelValue":l[0]||(l[0]=c=>mt(o)?o.value=c:o=c)},null,8,["modelValue"]),r("div",{class:"send_btn",onClick:i},PT)]))}},Da=F(LT,[["__scopeId","data-v-8c94467a"]]);async function fn(t,e,s,n=5,o=0){try{const i=await fetch("https://www.sunyuanling.com/api/work_interaction/GetCommentSection/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:t,work_type:e,token:s,limit:n,offset:o})});if(i.ok){const a=await i.json();return a.status=="success"?a.data:(console.log(a.message),null)}else return console.log("网络错误"),null}catch(i){console.log(i)}}async function Ze(t,e,s,n,o,i,a,l,c){try{const u=await fetch("https://www.sunyuanling.com/api/work_interaction/AddCommentSection/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:t,work_type:e,token:s,send_userid:n,is_root_comment:o,content:i,main_userid:a,main_comment_id:l,reply_comment_id:c})});if(u.ok){const _=await u.json();if(_.status=="success")console.log(_.message),alert("评论可能有延迟，请刷新后查看");else return console.log(_.message),null}else if(u.status==400){const _=await u.json();alert(_.message)}}catch(u){console.log(u)}}async function gn(t,e,s,n,o){try{const i=await fetch("https://www.sunyuanling.com/api/work_interaction/LikeComment/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comment_id:t,operate:e,token:s,work_type:n,work_id:o})});if(i.ok){const a=await i.json();if(a.status=="success")console.log(a.message);else return console.log(a.message),null}else return console.log("网络错误"),null}catch(i){console.log(i)}}const DT=t=>(et("data-v-d406c3d2"),t=t(),st(),t),RT={class:"comments-section"},NT={class:"user_info"},jT={class:"avatar"},FT=["src"],zT={class:"msg_content"},UT=["onClick"],HT={class:"msg_text"},BT={class:"msg_time"},GT=["onClick"],WT=["src"],VT={class:"like_count"},KT=["onClick"],YT={key:0,class:"reply_box"},JT={key:1},qT={class:"content"},QT={class:"user_info"},XT={class:"avatar"},ZT=["src"],tC={class:"msg_content"},eC=["onClick"],sC={class:"msg_text"},nC={style:{"margin-right":"10px",color:"rgba(0,150,250,1)",cursor:"pointer"}},oC={class:"msg_time"},iC=["onClick"],aC=["src"],lC={class:"like_count"},rC=["onClick"],cC={key:0,class:"reply_box"},uC={key:0,class:"show_more_sub_comment"},_C=DT(()=>r("span",null,"查看更多",-1)),dC=[_C],hC={__name:"msg_box",props:{comments:{type:Array,default:()=>[]},work_id:{type:String,default:"1"},work_type:{type:String,default:"ill"},token:{type:String,default:""},user_avatar_path:{type:String,default:"work_like.svg"}},emits:["get_more_comment","send_reply_msg","sub_msg_ready_ok"],setup(t,{emit:e}){const s=pt();function n(T,D){s.commit("SET_OTHER_USERID",T),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(T),console.log(D)}const o=t;let i=e;function a(){i("get_more_comment")}const l=y({});let c=y(""),u=y({content:"",is_root_comment:0,main_comment_id:0,main_userid:"",reply_comment_id:0,token:"",work_id:"",work_type:""}),_=y(!1);function d(T){_.value=T,i("sub_msg_ready_ok",_.value)}function h(T){let C=u.value.content;delete T.content,u.value=T,u.value.content=C}function g(T,D){Object.keys(l.value).forEach(C=>{l.value[C]=!1}),D&&Object.keys(l.value).forEach(C=>{C!==T&&(l.value[C]=!1)}),l.value[T]=!l.value[T]}function w(T){c.value=T,u.value.content=T,i("send_reply_msg",u.value)}K(c,()=>{});const f=y(1),p=y(1);function m(){f.value+=3,a()}function b(){p.value+=3}const x=kt(()=>o.comments.slice(0,f.value));function A(T){return T.slice(0,p.value)}function I(T){console.log(T),n(T,"")}return(T,D)=>(v(),k("div",RT,[(v(!0),k(Z,null,rt(x.value,C=>(v(),k("div",{key:C.comment_id,class:"msg_box"},[r("div",{class:yt(["content",C.is_main?"":"is_reply"])},[r("div",NT,[r("div",jT,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+C.user_avatar,alt:"avatar"},null,8,FT)])]),r("div",zT,[r("div",{class:"username",onClick:P=>I(C.userid)},[r("span",null,S(C.username),1)],8,UT),r("div",HT,[r("span",null,S(C.msg_content),1)]),r("div",BT,[r("span",null,S(C.time),1),r("div",{class:"like",onClick:P=>$(gn)(C.comment_id,"like",o.token,o.work_type,o.work_id)},[r("img",{class:"icon",src:C.user_is_like_comment[0]?"https://www.sunyuanling.com/assets/is_hand_like.svg":"https://www.sunyuanling.com/assets/hand_like.svg",style:{width:"15px",height:"15px"}},null,8,WT)],8,GT),r("div",VT,[r("span",null,S(C.like_comment_count),1)]),r("span",{class:"reply_btn",onClick:P=>g(C.comment_id,!0)},"回复",8,KT)]),l.value[C.comment_id]?(v(),k("div",YT,[W(Da,{user_avatar_path:o.user_avatar_path,onSend_msg:w,msg_info:{work_id:o.work_id,work_type:o.work_type,token:o.token,is_root_comment:0,content:$(c),main_userid:C.userid,main_comment_id:C.comment_id,reply_comment_id:C.comment_id},onMsg_info:h,onSend_ready_ok:d},null,8,["user_avatar_path","msg_info"])])):O("",!0),C.replies.length>0?(v(),k("div",JT,[(v(!0),k(Z,null,rt(A(C.replies),P=>(v(),k("div",{key:P.comment_id,class:"msg_box is_reply"},[r("div",qT,[r("div",QT,[r("div",XT,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+P.user_avatar,alt:"avatar"},null,8,ZT)])]),r("div",tC,[r("div",{class:"username",onClick:j=>I(P.userid)},[r("span",null,S(P.username),1)],8,eC),r("div",sC,[r("span",nC,"@"+S(P.reply_username),1),r("span",null,S(P.msg_content),1)]),r("div",oC,[r("span",null,S(P.time),1),r("div",{class:"like",onClick:j=>$(gn)(P.comment_id,"like",o.token,o.work_type,o.work_id)},[r("img",{class:"icon",src:P.user_is_like_comment?"https://www.sunyuanling.com/assets/is_hand_like.svg":"https://www.sunyuanling.com/assets/hand_like.svg",style:{width:"15px",height:"15px"}},null,8,aC)],8,iC),r("div",lC,[r("span",null,S(P.like_comment_count),1)]),r("span",{class:"reply_btn",onClick:j=>g(P.comment_id,!1)},"回复",8,rC)]),l.value[P.comment_id]?(v(),k("div",cC,[W(Da,{user_avatar_path:o.user_avatar_path,onSend_msg:w,msg_info:{work_id:o.work_id,work_type:o.work_type,token:o.token,is_root_comment:0,content:$(c),main_userid:C.userid,main_comment_id:C.comment_id,reply_comment_id:P.comment_id},onMsg_info:h,onSend_ready_ok:d},null,8,["user_avatar_path","msg_info"])])):O("",!0)])])]))),128)),C.replies.length>p.value?(v(),k("div",uC,[r("span",{onClick:b},"查看更多")])):O("",!0)])):O("",!0)])],2)]))),128)),t.comments.length>=f.value?(v(),k("div",{key:0,class:"show_more_root_comment",onClick:m},dC)):O("",!0)]))}},fC=F(hC,[["__scopeId","data-v-d406c3d2"]]),gC=t=>(et("data-v-56f8056f"),t=t(),st(),t),pC={class:"index"},mC=gC(()=>r("div",{class:"title"},[r("span",null,"评论")],-1)),vC={class:"content"},wC={__name:"comment_section",props:{work_type:{type:String,default:"ill"},work_id:{type:[String,Number],default:1},token:{type:String,default:""},user_avatar_path:{type:String,default:"work_like.svg"}},setup(t){let e=t,s=y(5),n=y(0);async function o(f){c.value.content=f,g.value&&await Ze(e.work_id,e.work_type,l,c.value.send_userid,c.value.is_root_comment,c.value.content,c.value.main_userid,c.value.main_comment_id,c.value.reply_comment_id),g.value=!1}let i=y();Q(async()=>{i.value=await fn(String(e.work_id),e.work_type,e.token)});async function a(){s.value+=3,i.value=await fn(String(e.work_id),e.work_type,e.token,s.value,n.value)}let l="sunyuanling",c=y({work_id:e.work_id,work_type:e.work_type,token:l,send_userid:"",is_root_comment:1,content:"",main_userid:"f575b4d3-0683-11ef-adf4-00ffc6b98bdb",main_comment_id:0,reply_comment_id:0,limit:s.value,offset:n.value}),u=y(),_=y(!1);async function d(f){_.value=f,await Ze(e.work_id,e.work_type,l,"",u.value.is_root_comment,u.value.content,u.value.main_userid,u.value.main_comment_id,u.value.reply_comment_id)}function h(f){u.value=f}let g=y(!1);async function w(f){g.value=f,await Ze(e.work_id,e.work_type,l,c.value.send_userid,c.value.is_root_comment,c.value.content,c.value.main_userid,c.value.main_comment_id,c.value.reply_comment_id)}return(f,p)=>(v(),k("div",pC,[mC,r("div",vC,[W(Da,{onSend_msg:o,user_avatar_path:t.user_avatar_path,msg_info:$(c),onSend_ready_ok:w},null,8,["user_avatar_path","msg_info"]),$(i)?(v(),lt(fC,{key:0,comments:$(i),onGet_more_comment:p[0]||(p[0]=m=>a()),work_id:t.work_id,work_type:t.work_type,token:$(l),user_avatar_path:t.user_avatar_path,onSend_reply_msg:h,onSub_msg_ready_ok:d},null,8,["comments","work_id","work_type","token","user_avatar_path"])):O("",!0)])]))}},yC=F(wC,[["__scopeId","data-v-56f8056f"]]);async function Ae(t,e,s,n){try{const o=await fetch("https://www.sunyuanling.com/api/work_interaction/Watch/",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({token:e,work_id:t,work_type:s,work_name:n})});if(o.ok){const i=await o.json();if(i.status=="success")return i.count;console.log(i.message)}else console.log(o.status)}catch(o){console.log(o)}}async function Oe(t,e,s,n,o){try{const i=await fetch("https://www.sunyuanling.com/api/work_interaction/Like/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:t,operate_type:e,token:s,work_type:n,work_name:o})});if(i.ok){const a=await i.json();return a.status=="success"||console.log(a.message),a.data}else console.log(i.status)}catch(i){console.log(i)}}async function Ie(t,e,s,n,o){try{const i=await fetch("https://www.sunyuanling.com/api/work_interaction/Collect/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:t,operate_type:e,token:s,work_type:n,work_name:o})});if(i.ok){const a=await i.json();return a.status=="success"||console.log(a.message),a.data}else console.log(i.status)}catch(i){console.log(i)}}const J_=t=>(et("data-v-34f5493e"),t=t(),st(),t),bC={class:"ill_index",ref:"ill_index"},kC={key:0,class:"content"},xC={class:"item_box"},$C={key:0,class:"img_box"},SC=["src","onClick"],TC=J_(()=>r("div",{class:"show_more_background"},null,-1)),CC={key:0,class:"author_info_box_bottom"},EC={class:"comment_section"},AC=J_(()=>r("h3",null,"推荐插画作品",-1)),OC={class:"recommend_page"},IC={key:1,class:"author_info_box"},MC={__name:"ill_index",props:{work_id:{type:String,default:"1"}},setup(t){const e=pt(),s=y(""),n=y(),o=y(!1),i=y("");let a=y(1),l=y(null),c=y(null),u=y(null),_=kt(()=>e.getters.token),d=_.value,h=y(!1),g=y(!1),w=y({like:"100",collect:"100",watch:"100"}),f=y(JSON.parse(Nt("userinfo")).user_avatar);console.log(f.value);async function p(G){h.value=G,h.value=await Oe(s.value,"add",d,"ill",n.value.name)==1}async function m(G){g.value=G,g.value=await Ie(s.value,"add",d,"ill",n.value.name)==1}let b=0;function x(G){try{if(!c.value||!u.value||!G)return;let R=window.innerHeight;c.value.getBoundingClientRect().bottom<=R?u.value.style.transform="translateY(100%)":u.value.style.transform="translateY(0)",window.addEventListener("scroll",A)}catch(R){console.log(R)}}function A(){if(u.value){const G=window.scrollY;G>b?u.value.style.transform="translateY(100%)":(u.value.style.transform="translateY(0)",x(!0)),b=G}}function I(){window.scrollTo({top:0,behavior:"smooth"})}Q(()=>{x(!0),window.addEventListener("scroll",A),I()}),K(()=>e.getters.work_id,async G=>{s.value=G,I(),await D()}),Le(()=>{window.removeEventListener("scroll",A),x(!1)});function T(){a.value=n.value.content_file_list.split(/[,，]/).length+1}Q(async()=>{s.value=e.getters.work_id,await D(),await Ae(parseInt(s.value),d,"ill",n.value.name),h.value=await Oe(s.value,"search",d,"ill",n.value.name)==1,g.value=await Ie(s.value,"search",d,"ill",n.value.name)==1,w.value.watch=await Ae(s.value,d,"ill",n.value.name),w.value.like=await Oe(s.value,"count",d,"ill",n.value.name),w.value.collect=await Ie(s.value,"count",d,"ill",n.value.name)}),K(s,async()=>{await D(),await Ae(parseInt(s.value),d,"ill",n.value.name),h.value=await Oe(s.value,"search",d,"ill",n.value.name)==1,g.value=await Ie(s.value,"search",d,"ill",n.value.name)==1,w.value.watch=await Ae(s.value,d,"ill",n.value.name),w.value.like=await Oe(s.value,"count",d,"ill",n.value.name),w.value.collect=await Ie(s.value,"count",d,"ill",n.value.name)});async function D(){try{const G=await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:s.value})});if(G.ok){const R=await G.json();R.status==="success"?n.value=R.data[0]:console.log(R.message)}}catch(G){console.log(G)}}function C(G){o.value=!0,i.value=G,e.commit("SET_ITEM_PATH",G)}K(o,G=>{G?document.body.style.overflow="hidden":document.body.style.overflow=""});function P(){o.value=!1}async function j(G){s.value=G.work_id,await Ae(s.value,d,"ill",n.value.name)}return(G,R)=>(v(),k(Z,null,[r("div",bC,[W(Sl),n.value?(v(),k("div",kC,[r("div",xC,[(v(!0),k(Z,null,rt(n.value.content_file_list.split(/[,，]/),(ot,ct)=>(v(),k("div",{class:"item",key:ct},[ct<$(a)?(v(),k("div",$C,[r("img",{src:"https://www.sunyuanling.com/image/content_thumbnail/"+ot,class:"item_img",onClick:H=>C(ot)},null,8,SC)])):O("",!0)]))),128)),$(a)==1&&n.value.content_file_list.split(/[,，]/).length>1?(v(),k("div",{key:0,class:"show_more_btn",ref_key:"show_more_btn",ref:l},[TC,r("span",{onClick:R[0]||(R[0]=ot=>T())},"查看全部")],512)):O("",!0)]),r("div",{class:"fixed_interaction",ref_key:"fixed_interaction",ref:c},[W(Qr,{like_status:$(h),collect_status:$(g),onLike_status:p,onCollect_status:m},null,8,["like_status","collect_status"])],512),r("div",{class:"float_interaction",ref_key:"float_interaction",ref:u},[W(Qr,{like_status:$(h),collect_status:$(g),onLike_status:p,onCollect_status:m},null,8,["like_status","collect_status"])],512),W($T,{work_data:$(w),work_create_time:n.value.create_time},null,8,["work_data","work_create_time"]),n.value?(v(),k("div",CC,[(v(),lt(tT,{author_id:n.value.belong_to_user_id,onChose_item:j,key:s.value},null,8,["author_id"]))])):O("",!0),r("div",EC,[(v(),lt(yC,{work_type:"ill",token:$(d),work_id:String(s.value),user_avatar_path:$(f),key:s.value},null,8,["token","work_id","user_avatar_path"]))]),AC,r("div",OC,[W(wn,{work_type:"ill",token:$(_)},null,8,["token"])])])):O("",!0),n.value?(v(),k("div",IC,[(v(),lt(I2,{author_id:n.value.belong_to_user_id,onChose_item:j,key:s.value},null,8,["author_id"]))])):O("",!0)],512),o.value?(v(),lt(Tl,{key:0,item_path:i.value,onClose_img_content_page:P},null,8,["item_path"])):O("",!0)],64))}},PC=F(MC,[["__scopeId","data-v-34f5493e"]]),LC={class:"scroll_box"},DC={class:"scroll_box_content"},RC={class:"btn_box"},NC=["src"],jC=["src"],FC=["onClick"],zC=["onClick"],UC=["src"],HC={key:0,class:"work_count"},BC=["src"],GC={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400},page_count_svg:{type:String,default:"https://www.sunyuanling.com/assets/page_count.svg"}},emits:["chose_item"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null),a=()=>{o.value&&o.value.forEach((f,p)=>{f.style.backgroundColor=n.value[p%n.value.length]})};let l=y(s.msg_list);K(()=>s.msg_list,()=>{l.value=s.msg_list});const c=e,u=f=>{c("chose_item",f)},_=f=>f<.5?2*f*f:-1+(4-2*f)*f,d=(f,p)=>{const m=i.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=_(T);i.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},h=()=>{d(-s.scrollDistance,s.animationDuration)},g=()=>{d(s.scrollDistance,s.animationDuration)};Q(async()=>{a(),l.value=s.msg_list;for(let f=0;f<s.msg_list.length;f++)l.value[f].work_count=await w(s.msg_list[f].work_id)});async function w(f){try{const p=await fetch("https://www.sunyuanling.com/api/get_work_info/GetComicinfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:f})});if(p.ok){const m=await p.json();if(m.status=="success")return m.data[0].content_file_list.split(/[,，]/).length}}catch(p){console.log(p)}}return(f,p)=>(v(),k("div",LC,[r("div",DC,[r("div",RC,[r("div",{class:"left_btn",onClick:h},[r("img",{src:s.left_btn,class:"icon"},null,8,NC)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:s.right_btn,class:"icon"},null,8,jC)])]),r("div",{class:"list",ref_key:"list",ref:i},[(v(!0),k(Z,null,rt($(l),(m,b)=>(v(),k("div",{class:"item",key:b},[s.msg_type==="tags"?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_item",ref:o,onClick:x=>u(m)},[r("span",null,S(m),1)],8,FC)):O("",!0),s.msg_type==="image"?(v(),k("div",{key:1,class:"image_item",onClick:x=>u({item:m,work_id:m.work_id})},[r("img",{src:m.item_path,class:"image"},null,8,UC),m.work_count>1?(v(),k("div",HC,[r("img",{src:s.page_count_svg,class:"icon"},null,8,BC),r("span",null,S(m.work_count),1)])):O("",!0)],8,zC)):O("",!0)]))),128))],512)])]))}},WC=F(GC,[["__scopeId","data-v-b7ebb1e3"]]),VC=t=>(et("data-v-fd198eaf"),t=t(),st(),t),KC={key:0,class:"author_info_page"},YC={class:"content"},JC={class:"author_avatar"},qC=["src"],QC={class:"author_name"},XC={class:"follow_btn"},ZC={class:"others_work"},tE=VC(()=>r("div",{class:"others_work_title"},"其他作品",-1)),eE={__name:"author_info",props:{author_id:{type:String,default:"10086"}},emits:["chose_item"],setup(t,{emit:e}){const s=pt(),n=t,o=y(null),i=y([]),a=y("关注"),l=y([]),c=Nt("token"),u=e;K(()=>n.author_id,async()=>{await d()});async function _(p,m){try{const b=await fetch(p,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});return b.ok?await b.json():(console.error(`HTTP error: ${b.status}`),{status:"error",message:"Request failed"})}catch(b){return console.error(`Fetch error: ${b}`),{status:"error",message:"Fetch error"}}}async function d(){const[p,m,b]=await Promise.all([_("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{userid:n.author_id}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/",{token:c}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{userid:n.author_id})]);p.status==="success"?o.value=p.data[0]:console.error(p.message),m.status==="success"?(i.value=m.data,h()):console.error(m.message),b.status==="success"?(console.log(b.data.comic),l.value=b.data.comic.map(x=>({item_path:"https://www.sunyuanling.com/image/comic/thumbnail/"+x.content_file_list.split(/[,，]/)[0],work_id:x.id})),console.log(l.value)):console.error(b.message)}function h(){const p=i.value.some(m=>m.follow_user_id===n.author_id);a.value=p?"已关注":"关注"}async function g(){const p=await _("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/",{token:c,target_id:o.value.userid,target_username:o.value.username});p.status==="success"&&(a.value=a.value==="已关注"?"关注":"已关注"),alert(p.message)}function w(p){u("chose_item",{work_id:p.work_id})}function f(p,m){s.commit("SET_OTHER_USERID",p),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0})}return Q(()=>{d()}),(p,m)=>n.author_id&&o.value?(v(),k("div",KC,[r("div",YC,[r("div",{class:"author_info",onClick:m[0]||(m[0]=b=>f(o.value.userid,o.value))},[r("div",JC,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+o.value.user_avatar},null,8,qC)]),r("div",QC,[r("span",null,S(o.value.username),1)])]),r("div",{class:yt(["author_follow",a.value==="已关注"?"off_follow":"on_follow"]),onClick:g},[r("div",XC,[r("span",null,S(a.value),1)])],2),r("div",ZC,[tE,W(WC,{msg_list:l.value,onChose_item:w},null,8,["msg_list"])])])])):O("",!0)}},sE=F(eE,[["__scopeId","data-v-fd198eaf"]]),nE={class:"scroll_box"},oE={class:"scroll_box_content"},iE={class:"btn_box"},aE=["src"],lE=["src"],rE=["onClick"],cE=["onClick"],uE=["src"],_E={key:0,class:"work_count"},dE=["src"],hE={__name:"scroll_box_bottom",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:Array,default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400},page_count_svg:{type:String,default:"https://www.sunyuanling.com/assets/page_count.svg"}},emits:["chose_item"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null),a=()=>{o.value&&o.value.forEach((f,p)=>{f.style.backgroundColor=n.value[p%n.value.length]})};let l=y(s.msg_list);K(()=>s.msg_list,()=>{l.value=s.msg_list});const c=e,u=f=>{c("chose_item",f)},_=f=>f<.5?2*f*f:-1+(4-2*f)*f,d=(f,p)=>{const m=i.value.scrollLeft,b=performance.now(),x=A=>{const I=A-b,T=Math.min(I/p,1),D=_(T);i.value.scrollLeft=m+f*D,T<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},h=()=>{d(-s.scrollDistance,s.animationDuration)},g=()=>{d(s.scrollDistance,s.animationDuration)};Q(async()=>{a(),l.value=s.msg_list;for(let f=0;f<s.msg_list.length;f++)l.value[f].work_count=await w(s.msg_list[f].work_id)});async function w(f){try{const p=await fetch("https://www.sunyuanling.com/api/get_work_info/GetComicinfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:f})});if(p.ok){const m=await p.json();if(m.status=="success")return m.data[0].content_file_list.split(/[,，]/).length}}catch(p){console.log(p)}}return(f,p)=>(v(),k("div",nE,[r("div",oE,[r("div",iE,[r("div",{class:"left_btn",onClick:h},[r("img",{src:s.left_btn,class:"icon"},null,8,aE)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:s.right_btn,class:"icon"},null,8,lE)])]),r("div",{class:"list",ref_key:"list",ref:i},[(v(!0),k(Z,null,rt($(l),(m,b)=>(v(),k("div",{class:"item",key:b},[s.msg_type==="tags"?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_item",ref:o,onClick:x=>u(m)},[r("span",null,S(m),1)],8,rE)):O("",!0),s.msg_type==="image"?(v(),k("div",{key:1,class:"image_item",onClick:x=>u({item:m,work_id:m.work_id})},[r("img",{src:m.item_path,class:"image"},null,8,uE),m.work_count>1?(v(),k("div",_E,[r("img",{src:s.page_count_svg,class:"icon"},null,8,dE),r("span",null,S(m.work_count),1)])):O("",!0)],8,cE)):O("",!0)]))),128))],512)])]))}},fE=F(hE,[["__scopeId","data-v-d47e1004"]]),gE=t=>(et("data-v-ab68247e"),t=t(),st(),t),pE={key:0,class:"author_info_page"},mE={class:"content"},vE={class:"author_avatar"},wE=["src"],yE={class:"author_name"},bE={class:"follow_btn"},kE={class:"others_work"},xE=gE(()=>r("div",{class:"others_work_title"},"其他作品",-1)),$E={__name:"author_info",props:{author_id:{type:String,default:"10086"}},emits:["chose_item"],setup(t,{emit:e}){const s=pt(),n=t,o=y(null),i=y([]),a=y("关注"),l=y([]),c=Nt("token"),u=e;K(()=>n.author_id,async()=>{await d()});async function _(p,m){try{const b=await fetch(p,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});return b.ok?await b.json():(console.error(`HTTP error: ${b.status}`),{status:"error",message:"Request failed"})}catch(b){return console.error(`Fetch error: ${b}`),{status:"error",message:"Fetch error"}}}async function d(){const[p,m,b]=await Promise.all([_("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{userid:n.author_id}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/",{token:c}),_("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{userid:n.author_id})]);p.status==="success"?o.value=p.data[0]:console.error(p.message),m.status==="success"?(i.value=m.data,h()):console.error(m.message),b.status==="success"?(console.log(b.data.comic),l.value=b.data.comic.map(x=>({item_path:"https://www.sunyuanling.com/image/comic/thumbnail/"+x.content_file_list.split(/[,，]/)[0],work_id:x.id})),console.log(l.value)):console.error(b.message)}function h(){const p=i.value.some(m=>m.follow_user_id===n.author_id);a.value=p?"已关注":"关注"}async function g(){const p=await _("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/",{token:c,target_id:o.value.userid,target_username:o.value.username});p.status==="success"&&(a.value=a.value==="已关注"?"关注":"已关注"),alert(p.message)}function w(p){u("chose_item",{work_id:p.work_id})}function f(p,m){s.commit("SET_OTHER_USERID",p),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0})}return Q(()=>{d()}),(p,m)=>n.author_id&&o.value?(v(),k("div",pE,[r("div",mE,[r("div",{class:"author_info",onClick:m[0]||(m[0]=b=>f(o.value.userid,o.value))},[r("div",vE,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+o.value.user_avatar},null,8,wE)]),r("div",yE,[r("span",null,S(o.value.username),1)])]),r("div",{class:yt(["author_follow",a.value==="已关注"?"off_follow":"on_follow"]),onClick:g},[r("div",bE,[r("span",null,S(a.value),1)])],2),r("div",kE,[xE,W(fE,{msg_list:l.value,onChose_item:w},null,8,["msg_list"])])])])):O("",!0)}},SE=F($E,[["__scopeId","data-v-ab68247e"]]),TE={class:"content"},CE={class:"item"},EE=["src"],AE=["src"],OE={class:"share"},IE=["src"],ME={__name:"interaction_bar",props:{like_svg:{type:String,default:"https://www.sunyuanling.com/assets/like.svg"},is_like_svg:{type:String,default:"https://www.sunyuanling.com/assets/is_like.svg"},collect:{type:String,default:"https://www.sunyuanling.com/assets/no_work_like.svg"},is_collect:{type:String,default:"https://www.sunyuanling.com/assets/work_like.svg"},share_svg:{type:String,default:"https://www.sunyuanling.com/assets/share.svg"},like_status:{type:Boolean,default:!1},collect_status:{type:Boolean,default:!1}},emits:["like_status","collect_status"],setup(t,{emit:e}){let s=y(null),n=t,o=e,i=y({like_svg:n.like_svg,is_like_svg:n.is_like_svg,collect:n.collect,is_collect:n.is_collect,share_svg:n.share_svg,like_status:n.like_status,collect_status:n.collect_status}),a=y({like:!1,collect:!1});function l(){if(!a.value.like){a.value.like=!0;let u=!i.value.like_status;o("like_status",u),i.value.like_status=u,setTimeout(()=>{a.value.like=!1},50)}}function c(){if(!a.value.collect){a.value.collect=!0;let u=!i.value.collect_status;o("collect_status",u),i.value.collect_status=u,setTimeout(()=>{a.value.collect=!1},50)}}return K(()=>n,u=>{i.value={...u}},{deep:!0}),Q(()=>{i.value={...n}}),(u,_)=>(v(),k("div",{class:"interaction_bar",ref_key:"interaction_bar",ref:s},[r("div",TE,[r("div",CE,[r("div",{class:"like",onClick:l},[r("img",{src:$(i).like_status?$(i).is_like_svg:$(i).like_svg,class:"icon"},null,8,EE)]),r("div",{class:"collect",onClick:c},[r("img",{src:$(i).collect_status?$(i).is_collect:$(i).collect,class:"icon"},null,8,AE)]),r("div",OE,[r("img",{src:$(i).share_svg,class:"icon"},null,8,IE)])])])],512))}},Xr=F(ME,[["__scopeId","data-v-c0cbaf92"]]),El=t=>(et("data-v-a74544c5"),t=t(),st(),t),PE={class:"work_info_bar"},LE={class:"content"},DE={class:"title"},RE={class:"brief_introduction"},NE={class:"tags_box"},jE={key:0,class:"age_classification"},FE={class:"tag_item"},zE={class:"work_data",style:{color:"rgba(133,133,133,1)"}},UE={class:"work_data_item"},HE=El(()=>r("img",{src:"https://www.sunyuanling.com/assets/like.svg",class:"icon"},null,-1)),BE={class:"work_data_item"},GE=El(()=>r("img",{src:"https://www.sunyuanling.com/assets/work_like.svg",class:"icon",style:{width:"25px",height:"25px"}},null,-1)),WE={class:"work_data_item"},VE=El(()=>r("img",{src:"https://www.sunyuanling.com/assets/show.svg",class:"icon"},null,-1)),KE={class:"work_create_time"},YE={__name:"work_info_bar",props:{title:{type:String,default:"作品标题"},brief_introduction:{type:String,default:"作品简介"},age_classification:{type:String,default:"18"},tags:{type:Array,default:()=>["标签一"]},work_data:{type:Object,default:()=>({like:"100",collect:"100",watch:"100"})},work_create_time:{type:String,default:"2024年7月26日13:08:38"}},setup(t){return(e,s)=>(v(),k("div",PE,[r("div",LE,[r("div",DE,[r("span",null,S(t.title),1)]),r("div",RE,[r("span",null,S(t.brief_introduction),1)]),r("div",NE,[t.age_classification!=="16"?(v(),k("span",jE,[r("span",null,"R-"+S(t.age_classification),1)])):O("",!0),r("div",FE,[(v(!0),k(Z,null,rt(t.tags,(n,o)=>(v(),k("div",{class:"tag",key:o},[r("span",null,"# "+S(n),1)]))),128))])]),r("div",zE,[r("div",UE,[HE,r("span",null,S(t.work_data.like),1)]),r("div",BE,[GE,r("span",null,S(t.work_data.collect),1)]),r("div",WE,[VE,r("span",null,S(t.work_data.watch),1)])]),r("div",KE,[r("span",null,S(t.work_create_time),1)])])]))}},JE=F(YE,[["__scopeId","data-v-a74544c5"]]),qE=["maxlength","rows","placeholder"],QE={__name:"auto_textarea",props:{modelValue:{type:String,default:""},maxlength:{type:Number,default:3e3},rows:{type:Number,default:1},placeholder:{type:String,default:"发表一条友善的评论"},initialWidth:{type:String,default:"100%"},initialHeight:{type:String,default:"auto"},allowResizeWidth:{type:Boolean,default:!1},allowResizeHeight:{type:Boolean,default:!1},fontsize:{type:Number,default:16},lineheight:{type:Number,default:1.5}},emits:["update:modelValue"],setup(t,{emit:e}){const s=e,n=t,o=y(null),i=y(n.modelValue),a=()=>{o.value&&(o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight}px`)};return K(()=>n.modelValue,l=>{i.value=l,a()}),K(()=>i.value,l=>{s("update:modelValue",l),a()}),Q(()=>{a()}),(l,c)=>gt((v(),k("textarea",{ref_key:"textarea",ref:o,maxlength:t.maxlength,rows:t.rows,placeholder:t.placeholder,style:pe({width:t.initialWidth,height:t.initialHeight,resize:t.allowResizeWidth&&t.allowResizeHeight?"both":t.allowResizeHeight?"vertical":"none",fontSize:t.fontsize+"px",lineHeight:t.lineheight}),"onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),onInput:a},null,44,qE)),[[Dt,i.value]])}},XE=F(QE,[["__scopeId","data-v-e16a4fd9"]]),ZE=t=>(et("data-v-ac0bc4e8"),t=t(),st(),t),tA={class:"send_msg_box"},eA={class:"user_avatar"},sA=["src"],nA=ZE(()=>r("span",null,"发送",-1)),oA=[nA],iA={__name:"send_msg_box",props:{user_avatar_path:{type:String,default:"work_like.svg"},msg_info:{type:Object,default:()=>({work_id:"",work_type:"",token:"",send_userid:"",is_root_comment:"",content:"",main_userid:"",main_comment_id:"",reply_comment_id:""})}},emits:["send_msg","msg_info","send_ready_ok"],setup(t,{emit:e}){const s=t,n=e;let o=y("");const i=async()=>{n("send_msg",o.value),n("msg_info",s.msg_info),n("send_ready_ok",!0),o.value=""};return K(o,()=>{o.value!=""&&o.value&&(n("send_msg",o.value),n("msg_info",s.msg_info))}),(a,l)=>(v(),k("div",tA,[r("div",eA,[r("img",{class:"avatar_img",src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.user_avatar_path},null,8,sA)]),W(XE,{modelValue:$(o),"onUpdate:modelValue":l[0]||(l[0]=c=>mt(o)?o.value=c:o=c)},null,8,["modelValue"]),r("div",{class:"send_btn",onClick:i},oA)]))}},Ra=F(iA,[["__scopeId","data-v-ac0bc4e8"]]),aA=t=>(et("data-v-5119facc"),t=t(),st(),t),lA={class:"comments-section"},rA={class:"user_info"},cA={class:"avatar"},uA=["src"],_A={class:"msg_content"},dA=["onClick"],hA={class:"msg_text"},fA={class:"msg_time"},gA=["onClick"],pA=["src"],mA={class:"like_count"},vA=["onClick"],wA={key:0,class:"reply_box"},yA={key:1},bA={class:"content"},kA={class:"user_info"},xA={class:"avatar"},$A=["src"],SA={class:"msg_content"},TA=["onClick"],CA={class:"msg_text"},EA={style:{"margin-right":"10px",color:"rgba(0,150,250,1)",cursor:"pointer"}},AA={class:"msg_time"},OA=["onClick"],IA=["src"],MA={class:"like_count"},PA=["onClick"],LA={key:0,class:"reply_box"},DA={key:0,class:"show_more_sub_comment"},RA=aA(()=>r("span",null,"查看更多",-1)),NA=[RA],jA={__name:"msg_box",props:{comments:{type:Array,default:()=>[]},work_id:{type:String,default:"1"},work_type:{type:String,default:"comic"},token:{type:String,default:""},user_avatar_path:{type:String,default:"work_like.svg"}},emits:["get_more_comment","send_reply_msg","sub_msg_ready_ok"],setup(t,{emit:e}){const s=pt();function n(T,D){s.commit("SET_OTHER_USERID",T),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(T),console.log(D)}const o=t;let i=e;function a(){i("get_more_comment")}const l=y({});let c=y(""),u=y({content:"",is_root_comment:0,main_comment_id:0,main_userid:"",reply_comment_id:0,token:"",work_id:"",work_type:""}),_=y(!1);function d(T){_.value=T,i("sub_msg_ready_ok",_.value)}function h(T){let C=u.value.content;delete T.content,u.value=T,u.value.content=C}function g(T,D){Object.keys(l.value).forEach(C=>{l.value[C]=!1}),D&&Object.keys(l.value).forEach(C=>{C!==T&&(l.value[C]=!1)}),l.value[T]=!l.value[T]}function w(T){c.value=T,u.value.content=T,i("send_reply_msg",u.value)}K(c,()=>{});const f=y(1),p=y(1);function m(){f.value+=3,a()}function b(){p.value+=3}const x=kt(()=>o.comments.slice(0,f.value));function A(T){return T.slice(0,p.value)}function I(T){console.log(T),n(T,"")}return(T,D)=>(v(),k("div",lA,[(v(!0),k(Z,null,rt(x.value,C=>(v(),k("div",{key:C.comment_id,class:"msg_box"},[r("div",{class:yt(["content",C.is_main?"":"is_reply"])},[r("div",rA,[r("div",cA,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+C.user_avatar,alt:"avatar"},null,8,uA)])]),r("div",_A,[r("div",{class:"username",onClick:P=>I(C.userid)},[r("span",null,S(C.username),1)],8,dA),r("div",hA,[r("span",null,S(C.msg_content),1)]),r("div",fA,[r("span",null,S(C.time),1),r("div",{class:"like",onClick:P=>$(gn)(C.comment_id,"like",o.token,o.work_type,o.work_id)},[r("img",{class:"icon",src:C.user_is_like_comment[0]?"https://www.sunyuanling.com/assets/is_hand_like.svg":"https://www.sunyuanling.com/assets/hand_like.svg",style:{width:"15px",height:"15px"}},null,8,pA)],8,gA),r("div",mA,[r("span",null,S(C.like_comment_count),1)]),r("span",{class:"reply_btn",onClick:P=>g(C.comment_id,!0)},"回复",8,vA)]),l.value[C.comment_id]?(v(),k("div",wA,[W(Ra,{user_avatar_path:o.user_avatar_path,onSend_msg:w,msg_info:{work_id:o.work_id,work_type:o.work_type,token:o.token,is_root_comment:0,content:$(c),main_userid:C.userid,main_comment_id:C.comment_id,reply_comment_id:C.comment_id},onMsg_info:h,onSend_ready_ok:d},null,8,["user_avatar_path","msg_info"])])):O("",!0),C.replies.length>0?(v(),k("div",yA,[(v(!0),k(Z,null,rt(A(C.replies),P=>(v(),k("div",{key:P.comment_id,class:"msg_box is_reply"},[r("div",bA,[r("div",kA,[r("div",xA,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+P.user_avatar,alt:"avatar"},null,8,$A)])]),r("div",SA,[r("div",{class:"username",onClick:j=>I(P.userid)},[r("span",null,S(P.username),1)],8,TA),r("div",CA,[r("span",EA,"@"+S(P.reply_username),1),r("span",null,S(P.msg_content),1)]),r("div",AA,[r("span",null,S(P.time),1),r("div",{class:"like",onClick:j=>$(gn)(P.comment_id,"like",o.token,o.work_type,o.work_id)},[r("img",{class:"icon",src:P.user_is_like_comment?"https://www.sunyuanling.com/assets/is_hand_like.svg":"https://www.sunyuanling.com/assets/hand_like.svg",style:{width:"15px",height:"15px"}},null,8,IA)],8,OA),r("div",MA,[r("span",null,S(P.like_comment_count),1)]),r("span",{class:"reply_btn",onClick:j=>g(P.comment_id,!1)},"回复",8,PA)]),l.value[P.comment_id]?(v(),k("div",LA,[W(Ra,{user_avatar_path:o.user_avatar_path,onSend_msg:w,msg_info:{work_id:o.work_id,work_type:o.work_type,token:o.token,is_root_comment:0,content:$(c),main_userid:C.userid,main_comment_id:C.comment_id,reply_comment_id:P.comment_id},onMsg_info:h,onSend_ready_ok:d},null,8,["user_avatar_path","msg_info"])])):O("",!0)])])]))),128)),C.replies.length>p.value?(v(),k("div",DA,[r("span",{onClick:b},"查看更多")])):O("",!0)])):O("",!0)])],2)]))),128)),t.comments.length>=f.value?(v(),k("div",{key:0,class:"show_more_root_comment",onClick:m},NA)):O("",!0)]))}},FA=F(jA,[["__scopeId","data-v-5119facc"]]),zA=t=>(et("data-v-13b8044e"),t=t(),st(),t),UA={class:"index"},HA=zA(()=>r("div",{class:"title"},[r("span",null,"评论")],-1)),BA={class:"content"},GA={__name:"comment_section",props:{work_type:{type:String,default:"comic"},work_id:{type:[String,Number],default:1},token:{type:String,default:""},user_avatar_path:{type:String,default:"work_like.svg"}},setup(t){let e=t,s=y(5),n=y(0);async function o(f){c.value.content=f,g.value&&await Ze(e.work_id,e.work_type,l,c.value.send_userid,c.value.is_root_comment,c.value.content,c.value.main_userid,c.value.main_comment_id,c.value.reply_comment_id),g.value=!1}let i=y();Q(async()=>{i.value=await fn(String(e.work_id),e.work_type,e.token)});async function a(){s.value+=3,i.value=await fn(String(e.work_id),e.work_type,e.token,s.value,n.value)}let l="sunyuanling",c=y({work_id:e.work_id,work_type:e.work_type,token:l,send_userid:"",is_root_comment:1,content:"",main_userid:"f575b4d3-0683-11ef-adf4-00ffc6b98bdb",main_comment_id:0,reply_comment_id:0,limit:s.value,offset:n.value}),u=y(),_=y(!1);async function d(f){_.value=f,await Ze(e.work_id,e.work_type,l,"",u.value.is_root_comment,u.value.content,u.value.main_userid,u.value.main_comment_id,u.value.reply_comment_id)}function h(f){u.value=f}let g=y(!1);async function w(f){g.value=f,await Ze(e.work_id,e.work_type,l,c.value.send_userid,c.value.is_root_comment,c.value.content,c.value.main_userid,c.value.main_comment_id,c.value.reply_comment_id)}return(f,p)=>(v(),k("div",UA,[HA,r("div",BA,[W(Ra,{onSend_msg:o,user_avatar_path:t.user_avatar_path,msg_info:$(c),onSend_ready_ok:w},null,8,["user_avatar_path","msg_info"]),$(i)?(v(),lt(FA,{key:0,comments:$(i),onGet_more_comment:p[0]||(p[0]=m=>a()),work_id:t.work_id,work_type:t.work_type,token:$(l),user_avatar_path:t.user_avatar_path,onSend_reply_msg:h,onSub_msg_ready_ok:d},null,8,["comments","work_id","work_type","token","user_avatar_path"])):O("",!0)])]))}},WA=F(GA,[["__scopeId","data-v-13b8044e"]]),q_=t=>(et("data-v-451165b9"),t=t(),st(),t),VA={class:"ill_index",ref:"ill_index"},KA={key:0,class:"content"},YA={class:"item_box"},JA={key:0,class:"img_box"},qA=["src","onClick"],QA=q_(()=>r("div",{class:"show_more_background"},null,-1)),XA={key:0,class:"author_info_box_bottom"},ZA={class:"comment_section"},tO=q_(()=>r("h3",null,"推荐漫画作品",-1)),eO={key:1,class:"author_info_box"},sO={__name:"comic_index",props:{work_id:{type:String,default:"1"}},setup(t){const e=pt(),s=y(""),n=y(),o=y(!1),i=y("");let a=y(1),l=y(null),c=y(null),u=y(null),_=Nt("token"),d=kt(()=>e.getters.token),h=y(!1),g=y(!1),w=y({like:"100",collect:"100",watch:"100"}),f=y(JSON.parse(Nt("userinfo")).user_avatar);console.log(f.value);async function p(R){h.value=R,h.value=await Oe(s.value,"add",_,"comic",n.value.name)==1}async function m(R){g.value=R,g.value=await Ie(s.value,"add",_,"comic",n.value.name)==1}let b=0;function x(R){try{if(!c.value||!u.value||!R)return;let ot=window.innerHeight;c.value.getBoundingClientRect().bottom<=ot?u.value.style.transform="translateY(100%)":u.value.style.transform="translateY(0)",window.addEventListener("scroll",A)}catch(ot){console.log(ot)}}function A(){if(u.value){const R=window.scrollY;R>b?u.value.style.transform="translateY(100%)":(u.value.style.transform="translateY(0)",x(!0)),b=R}}Q(()=>{x(!0),window.addEventListener("scroll",A)}),Le(()=>{window.removeEventListener("scroll",A),x(!1)});function I(){window.scrollTo({top:0,behavior:"smooth"})}K(()=>e.getters.work_id,async R=>{s.value=R,I(),await C()});function T(){a.value=n.value.content_file_list.split(/[,，]/).length+1}const D=t;K(()=>D.work_id,R=>{s.value=R}),K(()=>e.getters.work_id,R=>{s.value=R}),Q(async()=>{s.value=e.getters.work_id,await C(),await Ae(parseInt(s.value),_,"comic",n.value.name),h.value=await Oe(s.value,"search",_,"comic",n.value.name)==1,g.value=await Ie(s.value,"search",_,"comic",n.value.name)==1,w.value.watch=await Ae(s.value,_,"comic",n.value.name),w.value.like=await Oe(s.value,"count",_,"comic",n.value.name),w.value.collect=await Ie(s.value,"count",_,"comic",n.value.name)}),K(s,async()=>{await C(),await Ae(parseInt(s.value),_,"comic",n.value.name),h.value=await Oe(s.value,"search",_,"comic",n.value.name)==1,g.value=await Ie(s.value,"search",_,"comic",n.value.name)==1,w.value.watch=await Ae(s.value,_,"comic",n.value.name),w.value.like=await Oe(s.value,"count",_,"comic",n.value.name),w.value.collect=await Ie(s.value,"count",_,"comic",n.value.name)});async function C(){try{const R=await fetch("https://www.sunyuanling.com/api/get_work_info/GetComicinfo/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({work_id:s.value})});if(R.ok){const ot=await R.json();ot.status==="success"?n.value=ot.data[0]:console.log(ot.message)}}catch(R){console.log(R)}}function P(R){o.value=!0,i.value=R,e.commit("SET_ITEM_PATH",R)}K(o,R=>{R?document.body.style.overflow="hidden":document.body.style.overflow=""});function j(){o.value=!1}async function G(R){s.value=R.work_id,console.log(s.value),await Ae(s.value,_,"comic",n.value.name)}return(R,ot)=>(v(),k(Z,null,[r("div",VA,[W(Sl),n.value?(v(),k("div",KA,[r("div",YA,[(v(!0),k(Z,null,rt(n.value.content_file_list.split(/[,，]/),(ct,H)=>(v(),k("div",{class:"item",key:H},[H<$(a)?(v(),k("div",JA,[r("img",{src:"https://www.sunyuanling.com/image/comic/content_thumbnail/"+ct,class:"item_img",onClick:L=>P(ct)},null,8,qA)])):O("",!0)]))),128)),$(a)==1&&n.value.content_file_list.split(/[,，]/).length>1?(v(),k("div",{key:0,class:"show_more_btn",ref_key:"show_more_btn",ref:l},[QA,r("span",{onClick:ot[0]||(ot[0]=ct=>T())},"查看全部")],512)):O("",!0)]),r("div",{class:"fixed_interaction",ref_key:"fixed_interaction",ref:c},[W(Xr,{like_status:$(h),collect_status:$(g),onLike_status:p,onCollect_status:m},null,8,["like_status","collect_status"])],512),r("div",{class:"float_interaction",ref_key:"float_interaction",ref:u},[W(Xr,{like_status:$(h),collect_status:$(g),onLike_status:p,onCollect_status:m},null,8,["like_status","collect_status"])],512),W(JE,{work_data:$(w),work_create_time:n.value.create_time},null,8,["work_data","work_create_time"]),n.value?(v(),k("div",XA,[W(SE,{author_id:n.value.belong_to_userid,onChose_item:G},null,8,["author_id"])])):O("",!0),r("div",ZA,[(v(),lt(WA,{work_type:"comic",token:$(_),work_id:String(s.value),user_avatar_path:$(f),key:s.value},null,8,["token","work_id","user_avatar_path"]))]),tO,W(wn,{token:$(d),work_type:"comic"},null,8,["token"])])):O("",!0),n.value?(v(),k("div",eO,[W(sE,{author_id:n.value.belong_to_userid,onChose_item:G},null,8,["author_id"])])):O("",!0)],512),o.value?(v(),lt(Tl,{key:0,item_path:i.value,onClose_img_content_page:j},null,8,["item_path"])):O("",!0)],64))}},nO=F(sO,[["__scopeId","data-v-451165b9"]]),oO={__name:"float_msg_box",props:{message:{type:String,default:""},mouse_position:{type:Object,default:()=>({x:0,y:0})}},setup(t){const e=t,s=y(!1),n=y({});let o=null;const i=()=>{o&&clearTimeout(o),s.value=!0,n.value={position:"fixed",left:`${e.mouse_position.x}px`,top:`${e.mouse_position.y}px`,zIndex:100,opacity:1,transition:"top 1.5s linear, opacity 1.5s linear"},setTimeout(()=>{n.value={...n.value,top:`${e.mouse_position.y-30}px`,opacity:0}},0),o=setTimeout(()=>{s.value=!1},1500)};return Q(()=>{K(()=>e.message,a=>{a&&i()})}),(a,l)=>s.value?(v(),k("div",{key:0,class:"message-box",style:pe(n.value)},S(t.message),5)):O("",!0)}},iO=F(oO,[["__scopeId","data-v-b4af4419"]]),Q_=t=>(et("data-v-1278e373"),t=t(),st(),t),aO={key:0,class:"work_info"},lO={class:"content"},rO={class:"work_info_item"},cO={class:"work_cover"},uO=["src"],_O={class:"author_info"},dO={class:"info"},hO={class:"title"},fO={style:{"font-size":"24px","font-weight":"bold"}},gO={class:"author_name",style:{display:"flex",gap:"10px"}},pO={style:{"font-size":"18px","font-weight":"bold",color:"rgb(133,133,133)"}},mO={class:"most_new_chapter"},vO={class:"title"},wO={style:{color:"rgb(133,133,133)"}},yO={class:"work_status"},bO={class:"brief_introduction"},kO={style:{"font-size":"14px",color:"rgb(133,133,133)"}},xO={class:"work_data"},$O=Q_(()=>r("b",null,"万字",-1)),SO=Q_(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/show.svg"},null,-1)),TO=["src"],CO=["src"],EO={class:"author_box"},AO={class:"author_avatar"},OO=["src"],IO={class:"author_name"},MO={__name:"work_info",props:{work_info:{type:Array,default:()=>null},author_info:{type:Object,default:()=>null},word_count:{type:[Number,String],default:0},work_info_dict:{type:Object,default:()=>null}},setup(t){let e=Nt("token"),s=y(!1),n=y(""),o=y(),i=y();Q(async()=>{await Ae(a.work_info[0].belong_to_series_id,e,"novel",a.work_info[0].work_name),console.log(a.work_info)});let a=t,l=kt(()=>a.work_info_dict.is_like?"https://www.sunyuanling.com/assets/work_like.svg":"https://www.sunyuanling.com/assets/no_work_like.svg"),c=kt(()=>a.work_info_dict.is_collect?"https://www.sunyuanling.com/assets/love.svg":"https://www.sunyuanling.com/assets/no_love.svg"),u=y(a.work_info_dict);async function _(h,g){u.value.is_like=!u.value.is_like,await Oe(g,"add",e,"novel",a.work_info[0].work_name)==1?(n.value="感谢达令的点赞！",s.value=!0,o.value=h.clientX,i.value=h.clientY,setTimeout(()=>{},1500)):n.value="伦家有什么地方做的不好吗？"}async function d(h,g){u.value.is_collect=!u.value.is_collect,await Ie(g,"add",e,"novel",a.work_info[0].work_name)==1?(n.value="感谢达令的收藏！",s.value=!0,o.value=h.clientX,i.value=h.clientY,setTimeout(()=>{},1500)):n.value="伦家有什么地方做的不好吗？"}return(h,g)=>(v(),k(Z,null,[t.work_info&&t.author_info.length!=0?(v(),k("div",aO,[r("div",lO,[r("div",rO,[r("div",cO,[r("img",{src:"https://www.sunyuanling.com/image/novel/"+t.work_info[0].work_cover},null,8,uO)]),r("div",_O,[r("div",dO,[r("div",hO,[r("span",fO,S(t.work_info[0].work_name),1)]),r("div",gO,[r("span",null,[$t("作者："),r("b",null,S(t.author_info.username),1)]),r("span",pO," 最后更新时间："+S(t.work_info[t.work_info.length-1].create_time),1)]),r("div",mO,[r("div",vO,[r("span",wO,"最新章节："+S(t.work_info[t.work_info.length-1].title),1)])]),r("div",yO,[r("span",null,S(t.work_info[0].work_status)+"·"+S(t.work_info[0].is_vip_work==1?"VIP作品":"免费作品"),1)]),r("div",bO,[r("span",kO,S(t.work_info[0].brief_introduction),1)]),r("div",xO,[r("span",null,[$t(S((Math.round(t.word_count/1e4*100)/100).toFixed(2))+" ",1),$O]),r("span",null,[SO,$t(S($(u).watch_count)+"观看",1)]),r("span",{onClick:g[0]||(g[0]=w=>_(w,t.work_info[0].work_id)),style:{cursor:"pointer"}},[r("img",{class:"icon",src:$(l)},null,8,TO),$t(" "+S($(u).like_count)+"点赞",1)]),r("span",{onClick:g[1]||(g[1]=w=>d(w,t.work_info[0].work_id)),style:{cursor:"pointer"}},[r("img",{class:"icon",src:$(c)},null,8,CO),$t(" "+S($(u).collect_count)+"收藏",1)])])])]),r("div",EO,[r("div",AO,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.author_info.user_avatar},null,8,OO)]),r("div",IO,[r("span",null,S(t.author_info.username),1)])])])])])):O("",!0),$(s)?(v(),lt(iO,{key:1,message:$(n),mouse_position:{x:$(o),y:$(i)}},null,8,["message","mouse_position"])):O("",!0)],64))}},PO=F(MO,[["__scopeId","data-v-1278e373"]]),LO={class:"directory_page"},DO={class:"content"},RO={class:"item_box"},NO=["onClick"],jO={__name:"directory_page",props:{work_info:{type:Array,default:()=>[]}},emits:["get_chapter"],setup(t,{emit:e}){let s=e;function n(o,i,a){return s("get_chapter",{belong_to_series_id:o,title:i,index:a}),{belong_to_series_id:o,title:i}}return(o,i)=>(v(),k("div",LO,[r("div",DO,[r("div",RO,[(v(!0),k(Z,null,rt(t.work_info,(a,l)=>(v(),k("div",{class:"item",key:l},[r("div",{class:"item_content",onClick:c=>n(a.belong_to_series_id,a.title,l)},S(a.title),9,NO)]))),128))])])]))}},FO=F(jO,[["__scopeId","data-v-1f5662f9"]]);async function zO(t,e){try{const s=await fetch("https://www.sunyuanling.com/api/get_work_info/GetNovelList/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,work_id:e})});if(s.ok){const n=await s.json();if(n.status=="success")return n.data;console.log(n.message)}else console.log("请求失败")}catch(s){console.log(s)}}async function Na(t,e,s){try{const n=await fetch("https://www.sunyuanling.com/api/get_work_info/GetNovelContent/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,work_id:e,title:s})});if(n.ok){const o=await n.json();if(o.status=="success")return o.data;console.log(o.message)}else console.log(n.status)}catch(n){console.log(n)}}const Al=t=>(et("data-v-0fb54e29"),t=t(),st(),t),UO={class:"directory_page"},HO={class:"content"},BO={class:"close_box"},GO=Al(()=>r("span",null,null,-1)),WO=Al(()=>r("span",null,"目录",-1)),VO=Al(()=>r("img",{src:"https://www.sunyuanling.com/assets/close.svg",class:"icon"},null,-1)),KO=[VO],YO={class:"item_box"},JO=["onClick"],qO={__name:"directory_page",props:{work_info:{type:Array,default:()=>[]}},emits:["get_chapter","close_page"],setup(t,{emit:e}){const s=e;function n(i,a,l){return s("get_chapter",{belong_to_series_id:i,title:a,index:l}),{belong_to_series_id:i,title:a,index:l}}function o(){s("close_page")}return(i,a)=>(v(),k("div",UO,[r("div",HO,[r("div",BO,[GO,WO,r("div",{class:"close_btn",onClick:a[0]||(a[0]=l=>o())},KO)]),r("div",YO,[(v(!0),k(Z,null,rt(t.work_info,(l,c)=>(v(),k("div",{class:"item",key:c},[r("div",{class:"item_content",onClick:u=>n(l.belong_to_series_id,l.title,c)},S(l.title),9,JO)]))),128))])])]))}},QO=F(qO,[["__scopeId","data-v-0fb54e29"]]),Gt=t=>(et("data-v-2e2c05a4"),t=t(),st(),t),XO={class:"novel_content"},ZO={class:"title"},tI=["innerHTML"],eI={class:"right_side"},sI=Gt(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/left.svg"},null,-1)),nI=Gt(()=>r("span",null,"上一章",-1)),oI=[sI,nI],iI=Gt(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/right.svg"},null,-1)),aI=Gt(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/setting.svg"},null,-1)),lI=Gt(()=>r("span",null,"打开设置",-1)),rI=[aI,lI],cI=Gt(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/more.svg"},null,-1)),uI=Gt(()=>r("span",null,"目录",-1)),_I=[cI,uI],dI=["src"],hI={class:"light_mode"},fI=Gt(()=>r("div",{class:"title"},"设置",-1)),gI={class:"item"},pI=Gt(()=>r("option",{value:"微软雅黑"},"微软雅黑",-1)),mI=Gt(()=>r("option",{value:"黑体"},"黑体",-1)),vI=Gt(()=>r("option",{value:"宋体"},"宋体",-1)),wI=Gt(()=>r("option",{value:"楷体"},"楷体",-1)),yI=[pI,mI,vI,wI],bI={class:"item"},kI=Gt(()=>r("option",{value:"14px"},"14px",-1)),xI=Gt(()=>r("option",{value:"16px"},"16px",-1)),$I=Gt(()=>r("option",{value:"18px"},"18px",-1)),SI=Gt(()=>r("option",{value:"20px"},"20px",-1)),TI=Gt(()=>r("option",{value:"22px"},"22px",-1)),CI=Gt(()=>r("option",{value:"24px"},"24px",-1)),EI=Gt(()=>r("option",{value:"26px"},"26px",-1)),AI=[kI,xI,$I,SI,TI,CI,EI],OI={class:"item"},II={class:"item"},MI={class:"item"},PI={key:1,class:"loading"},LI=Gt(()=>r("div",{class:"loading_content"},"加载中...",-1)),DI=Gt(()=>r("img",{src:"https://www.sunyuanling.com/image/loading.gif"},null,-1)),RI=[LI,DI],NI={__name:"novel_content",props:{content:{type:String,default:""},title:{type:String,default:""},work_info:{type:Array,default:()=>[]},chapter_index:{type:Number,default:0}},setup(t){const e=t,s=y(!1),n=y("Arial"),o=y("16px"),i=y("#ffffff"),a=y("#000000"),l=y(800),c=y(!1),u=y(!1),_=y(e.content),d=y(e.title),h=y(e.chapter_index),g=y(null);async function w(I){_.value=await Na("sunyuanling",I.belong_to_series_id,I.title),d.value=I.title,h.value=I.index}async function f(I){let T=h.value;T+=I,!(T<0||T>=e.work_info.length)&&(h.value=T,_.value=await Na("sunyuanling",e.work_info[T].belong_to_series_id,e.work_info[T].title),d.value=e.work_info[T].title)}K(e,()=>{_.value=e.content,d.value=e.title,h.value=e.chapter_index});function p(I){switch(I){case"setting":s.value=!s.value,u.value=!1;break;case"directory":u.value=!u.value,s.value=!1;break;case"close_all":(u.value||s.value)&&(u.value=!1,s.value=!1);break}}const m=I=>{g.value&&!g.value.contains(I.target)&&p("close_all")},b=()=>{c.value=!c.value,x()},x=()=>{const I=document.body,T=document.documentElement;T.style.setProperty("--fontFamily",n.value),T.style.setProperty("--fontSize",o.value),T.style.setProperty("--backgroundColor",c.value?"#333":i.value),T.style.setProperty("--fontColor",c.value?"#f5f5f5":a.value),T.style.setProperty("--pageWidth",`${l.value}px`),I.style.backgroundColor=c.value?"#333":i.value,I.style.color=c.value?"#f5f5f5":a.value};K([n,o,i,a,l,c],x,{immediate:!0}),Q(()=>{document.addEventListener("click",m),document.addEventListener("keydown",A)}),Le(()=>{document.removeEventListener("click",m),document.removeEventListener("keydown",A),document.body.style.backgroundColor="",document.body.style.color=""});const A=I=>{I.key==="ArrowLeft"?f(-1):I.key==="ArrowRight"&&f(1)};return(I,T)=>_.value?(v(),k("div",{key:0,class:"content",onClick:m},[r("div",XO,[r("div",ZO,S(d.value),1),r("div",{class:"content",innerHTML:_.value},null,8,tI),r("div",eI,[r("div",{class:"previous_chapter align_center",onClick:T[0]||(T[0]=D=>f(-1))},oI),r("div",{class:"next_chapter align_center",onClick:T[1]||(T[1]=D=>f(1))},[iI,$t(" 下一章 ")]),r("div",{class:"open_setting align_center",onClick:T[2]||(T[2]=Wr(D=>p("setting"),["stop"]))},rI),r("div",{class:"directory align_center",onClick:T[3]||(T[3]=Wr(D=>p("directory"),["stop"]))},_I),r("div",{class:"set_light_mode align_center",onClick:b},[r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/"+(c.value?"moon.svg":"sun.svg")},null,8,dI),r("div",hI,S(c.value?"夜间模式":"日间模式"),1)]),u.value?(v(),lt(QO,{key:0,work_info:t.work_info,onGet_chapter:w,onClose_page:T[4]||(T[4]=D=>p("close_all"))},null,8,["work_info"])):O("",!0),W(fo,{name:"fade"},{default:Ai(()=>[s.value?(v(),k("div",{key:0,class:"font_setting",ref_key:"settingsMenu",ref:g},[fI,r("div",gI,[$t(" 字体 "),gt(r("select",{"onUpdate:modelValue":T[5]||(T[5]=D=>n.value=D),onChange:x},yI,544),[[Br,n.value]])]),r("div",bI,[$t(" 字号 "),gt(r("select",{"onUpdate:modelValue":T[6]||(T[6]=D=>o.value=D),onChange:x},AI,544),[[Br,o.value]])]),r("div",OI,[$t(" 背景 "),gt(r("input",{type:"color","onUpdate:modelValue":T[7]||(T[7]=D=>i.value=D),onInput:x},null,544),[[Dt,i.value]])]),r("div",II,[$t(" 阅读页面宽度 "),gt(r("input",{type:"range","onUpdate:modelValue":T[8]||(T[8]=D=>l.value=D),min:"500",max:"1200",step:"100",onInput:x},null,544),[[Dt,l.value]])]),r("div",MI,[$t(" 字体颜色 "),gt(r("input",{type:"color","onUpdate:modelValue":T[9]||(T[9]=D=>a.value=D),onInput:x},null,544),[[Dt,a.value]])])],512)):O("",!0)]),_:1})])])])):_.value?O("",!0):(v(),k("div",PI,RI))}},jI=F(NI,[["__scopeId","data-v-2e2c05a4"]]),FI=t=>(et("data-v-73411a0e"),t=t(),st(),t),zI={key:0,class:"novel_conteng_page"},UI={key:0,class:"novel_brief_introduction"},HI={class:"work_info"},BI={class:"directory_page"},GI={key:1,class:"novel_content"},WI={key:1,class:"wait"},VI=FI(()=>r("div",{class:"wait_text"},[r("p",null,"正在加载中")],-1)),KI=[VI],YI={__name:"novel_content_page",props:{work_id:{type:[String,Number],default:"10"},token:{type:String,default:""}},setup(t){let e=t,s=y(),n=y(),o=y(),i=y(),a=y(),l=y(""),c=y(!0),u=y(!1),_=y(0);Q(async()=>{s.value=await zO(e.token,e.work_id),n.value=s.value.author_info,o.value=s.value.work_list,i.value=s.value.word_count,console.log(e)});async function d(h){a.value=await Na("sunyuanling",h.belong_to_series_id,h.title),l.value=h.title,_.value=h.index,c.value=!1,u.value=!0}return(h,g)=>$(s)?(v(),k("div",zI,[$(c)?(v(),k("div",UI,[r("div",HI,[W(PO,{work_info:$(o),author_info:$(n),word_count:$(i),work_info_dict:$(s)},null,8,["work_info","author_info","word_count","work_info_dict"])]),r("div",BI,[W(FO,{work_info:$(o),onGet_chapter:d},null,8,["work_info"])])])):O("",!0),$(u)?(v(),k("div",GI,[W(jI,{content:$(a),title:$(l),work_info:$(o),chapter_index:$(_)},null,8,["content","title","work_info","chapter_index"])])):O("",!0)])):$(s)?O("",!0):(v(),k("div",WI,KI))}},JI=F(YI,[["__scopeId","data-v-73411a0e"]]),qI=["maxlength","rows","placeholder"],QI={__name:"auto_textarea",props:{modelValue:{type:String,default:""},maxlength:{type:Number,default:3e3},rows:{type:Number,default:1},placeholder:{type:String,default:"发表一条友善的评论"},initialWidth:{type:String,default:"100%"},initialHeight:{type:String,default:"auto"},allowResizeWidth:{type:Boolean,default:!1},allowResizeHeight:{type:Boolean,default:!1},fontsize:{type:Number,default:16},lineheight:{type:Number,default:1.5}},emits:["update:modelValue"],setup(t,{emit:e}){const s=e,n=t,o=y(null),i=y(n.modelValue),a=()=>{o.value&&(o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight}px`)};return K(()=>n.modelValue,l=>{i.value=l,a()}),K(()=>i.value,l=>{s("update:modelValue",l),a()}),Q(()=>{a()}),(l,c)=>gt((v(),k("textarea",{ref_key:"textarea",ref:o,maxlength:t.maxlength,rows:t.rows,placeholder:t.placeholder,style:pe({width:t.initialWidth,height:t.initialHeight,resize:t.allowResizeWidth&&t.allowResizeHeight?"both":t.allowResizeHeight?"vertical":"none",fontSize:t.fontsize+"px",lineHeight:t.lineheight}),"onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),onInput:a},null,44,qI)),[[Dt,i.value]])}},XI=F(QI,[["__scopeId","data-v-4a8366ec"]]),ZI=t=>(et("data-v-ecdf14a7"),t=t(),st(),t),t8={class:"send_msg_box"},e8={class:"user_avatar"},s8=["src"],n8=ZI(()=>r("span",null,"发送",-1)),o8=[n8],i8={__name:"send_msg_box",props:{user_avatar_path:{type:String,default:"work_like.svg"},msg_info:{type:Object,default:()=>({work_id:"",work_type:"",token:"",send_userid:"",is_root_comment:"",content:"",main_userid:"",main_comment_id:"",reply_comment_id:""})}},emits:["send_msg","msg_info","send_ready_ok"],setup(t,{emit:e}){const s=t,n=e;let o=y("");const i=async()=>{n("send_msg",o.value),n("msg_info",s.msg_info),n("send_ready_ok",!0),o.value=""};return K(o,()=>{o.value!=""&&o.value&&(n("send_msg",o.value),n("msg_info",s.msg_info))}),(a,l)=>(v(),k("div",t8,[r("div",e8,[r("img",{class:"avatar_img",src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.user_avatar_path},null,8,s8)]),W(XI,{modelValue:$(o),"onUpdate:modelValue":l[0]||(l[0]=c=>mt(o)?o.value=c:o=c)},null,8,["modelValue"]),r("div",{class:"send_btn",onClick:i},o8)]))}},ja=F(i8,[["__scopeId","data-v-ecdf14a7"]]),a8=t=>(et("data-v-46274ad5"),t=t(),st(),t),l8={class:"comments-section"},r8={class:"user_info"},c8={class:"avatar"},u8=["src"],_8={class:"msg_content"},d8=["onClick"],h8={class:"msg_text"},f8={class:"msg_time"},g8=["onClick"],p8=["src"],m8={class:"like_count"},v8=["onClick"],w8={key:0,class:"reply_box"},y8={key:1},b8={class:"content"},k8={class:"user_info"},x8={class:"avatar"},$8=["src"],S8={class:"msg_content"},T8=["onClick"],C8={class:"msg_text"},E8={style:{"margin-right":"10px",color:"rgba(0,150,250,1)",cursor:"pointer"}},A8={class:"msg_time"},O8=["onClick"],I8=["src"],M8={class:"like_count"},P8=["onClick"],L8={key:0,class:"reply_box"},D8={key:0,class:"show_more_sub_comment"},R8=a8(()=>r("span",null,"查看更多",-1)),N8=[R8],j8={__name:"msg_box",props:{comments:{type:Array,default:()=>[]},work_id:{type:String,default:"1"},work_type:{type:String,default:"comic"},token:{type:String,default:""},user_avatar_path:{type:String,default:"work_like.svg"}},emits:["get_more_comment","send_reply_msg","sub_msg_ready_ok"],setup(t,{emit:e}){const s=pt();function n(T,D){s.commit("SET_OTHER_USERID",T),s.commit("SET_SINGLE_PAGE_STATUS",{key:"other_user_center_page",value:!0}),console.log(T),console.log(D)}const o=t;let i=e;function a(){i("get_more_comment")}const l=y({});let c=y(""),u=y({content:"",is_root_comment:0,main_comment_id:0,main_userid:"",reply_comment_id:0,token:"",work_id:"",work_type:""}),_=y(!1);function d(T){_.value=T,i("sub_msg_ready_ok",_.value)}function h(T){let C=u.value.content;delete T.content,u.value=T,u.value.content=C}function g(T,D){Object.keys(l.value).forEach(C=>{l.value[C]=!1}),D&&Object.keys(l.value).forEach(C=>{C!==T&&(l.value[C]=!1)}),l.value[T]=!l.value[T]}function w(T){c.value=T,u.value.content=T,i("send_reply_msg",u.value)}K(c,()=>{});const f=y(1),p=y(1);function m(){f.value+=3,a()}function b(){p.value+=3}const x=kt(()=>o.comments.slice(0,f.value));function A(T){return T.slice(0,p.value)}function I(T){console.log(T),n(T,"")}return(T,D)=>(v(),k("div",l8,[(v(!0),k(Z,null,rt(x.value,C=>(v(),k("div",{key:C.comment_id,class:"msg_box"},[r("div",{class:yt(["content",C.is_main?"":"is_reply"])},[r("div",r8,[r("div",c8,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+C.user_avatar,alt:"avatar"},null,8,u8)])]),r("div",_8,[r("div",{class:"username",onClick:P=>I(C.userid)},[r("span",null,S(C.username),1)],8,d8),r("div",h8,[r("span",null,S(C.msg_content),1)]),r("div",f8,[r("span",null,S(C.time),1),r("div",{class:"like",onClick:P=>$(gn)(C.comment_id,"like",o.token,o.work_type,o.work_id)},[r("img",{class:"icon",src:C.user_is_like_comment[0]?"https://www.sunyuanling.com/assets/is_hand_like.svg":"https://www.sunyuanling.com/assets/hand_like.svg",style:{width:"15px",height:"15px"}},null,8,p8)],8,g8),r("div",m8,[r("span",null,S(C.like_comment_count),1)]),r("span",{class:"reply_btn",onClick:P=>g(C.comment_id,!0)},"回复",8,v8)]),l.value[C.comment_id]?(v(),k("div",w8,[W(ja,{user_avatar_path:o.user_avatar_path,onSend_msg:w,msg_info:{work_id:o.work_id,work_type:o.work_type,token:o.token,is_root_comment:0,content:$(c),main_userid:C.userid,main_comment_id:C.comment_id,reply_comment_id:C.comment_id},onMsg_info:h,onSend_ready_ok:d},null,8,["user_avatar_path","msg_info"])])):O("",!0),C.replies.length>0?(v(),k("div",y8,[(v(!0),k(Z,null,rt(A(C.replies),P=>(v(),k("div",{key:P.comment_id,class:"msg_box is_reply"},[r("div",b8,[r("div",k8,[r("div",x8,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+P.user_avatar,alt:"avatar"},null,8,$8)])]),r("div",S8,[r("div",{class:"username",onClick:j=>I(P.userid)},[r("span",null,S(P.username),1)],8,T8),r("div",C8,[r("span",E8,"@"+S(P.reply_username),1),r("span",null,S(P.msg_content),1)]),r("div",A8,[r("span",null,S(P.time),1),r("div",{class:"like",onClick:j=>$(gn)(P.comment_id,"like",o.token,o.work_type,o.work_id)},[r("img",{class:"icon",src:P.user_is_like_comment?"https://www.sunyuanling.com/assets/is_hand_like.svg":"https://www.sunyuanling.com/assets/hand_like.svg",style:{width:"15px",height:"15px"}},null,8,I8)],8,O8),r("div",M8,[r("span",null,S(P.like_comment_count),1)]),r("span",{class:"reply_btn",onClick:j=>g(P.comment_id,!1)},"回复",8,P8)]),l.value[P.comment_id]?(v(),k("div",L8,[W(ja,{user_avatar_path:o.user_avatar_path,onSend_msg:w,msg_info:{work_id:o.work_id,work_type:o.work_type,token:o.token,is_root_comment:0,content:$(c),main_userid:C.userid,main_comment_id:C.comment_id,reply_comment_id:P.comment_id},onMsg_info:h,onSend_ready_ok:d},null,8,["user_avatar_path","msg_info"])])):O("",!0)])])]))),128)),C.replies.length>p.value?(v(),k("div",D8,[r("span",{onClick:b},"查看更多")])):O("",!0)])):O("",!0)])],2)]))),128)),t.comments.length>=f.value?(v(),k("div",{key:0,class:"show_more_root_comment",onClick:m},N8)):O("",!0)]))}},F8=F(j8,[["__scopeId","data-v-46274ad5"]]),z8=t=>(et("data-v-bfa55b53"),t=t(),st(),t),U8={class:"index"},H8=z8(()=>r("div",{class:"title"},[r("span",null,"评论")],-1)),B8={class:"content"},G8={__name:"comment_section",props:{work_type:{type:String,default:"novel"},work_id:{type:[String,Number],default:1},token:{type:String,default:""},user_avatar_path:{type:String,default:"work_like.svg"}},setup(t){let e=t,s=y(5),n=y(0);async function o(f){c.value.content=f,g.value&&await Ze(e.work_id,e.work_type,l,c.value.send_userid,c.value.is_root_comment,c.value.content,c.value.main_userid,c.value.main_comment_id,c.value.reply_comment_id),g.value=!1}let i=y();Q(async()=>{i.value=await fn(String(e.work_id),e.work_type,e.token)});async function a(){s.value+=3,i.value=await fn(String(e.work_id),e.work_type,e.token,s.value,n.value)}let l="sunyuanling",c=y({work_id:e.work_id,work_type:e.work_type,token:l,send_userid:"",is_root_comment:1,content:"",main_userid:"f575b4d3-0683-11ef-adf4-00ffc6b98bdb",main_comment_id:0,reply_comment_id:0,limit:s.value,offset:n.value}),u=y(),_=y(!1);async function d(f){_.value=f,await Ze(e.work_id,e.work_type,l,"",u.value.is_root_comment,u.value.content,u.value.main_userid,u.value.main_comment_id,u.value.reply_comment_id)}function h(f){u.value=f}let g=y(!1);async function w(f){g.value=f,await Ze(e.work_id,e.work_type,l,c.value.send_userid,c.value.is_root_comment,c.value.content,c.value.main_userid,c.value.main_comment_id,c.value.reply_comment_id)}return(f,p)=>(v(),k("div",U8,[H8,r("div",B8,[W(ja,{onSend_msg:o,user_avatar_path:t.user_avatar_path,msg_info:$(c),onSend_ready_ok:w},null,8,["user_avatar_path","msg_info"]),$(i)?(v(),lt(F8,{key:0,comments:$(i),onGet_more_comment:p[0]||(p[0]=m=>a()),work_id:t.work_id,work_type:t.work_type,token:$(l),user_avatar_path:t.user_avatar_path,onSend_reply_msg:h,onSub_msg_ready_ok:d},null,8,["comments","work_id","work_type","token","user_avatar_path"])):O("",!0)])]))}},W8=F(G8,[["__scopeId","data-v-bfa55b53"]]),V8=t=>(et("data-v-76b52dd6"),t=t(),st(),t),K8={class:"novel_index"},Y8=V8(()=>r("h3",null,"推荐小说作品",-1)),J8={class:"recommend_page"},q8={__name:"novel_index",props:{work_id:{type:String,default:"10"}},setup(t){let e=kt(()=>n.getters.token);const s=Nt("token"),n=pt();let o=y(JSON.parse(Nt("userinfo")).user_avatar);const i=t,a=y(i.work_id);return K(()=>i.work_id,l=>{a.value=l}),K(()=>n.getters.work_id,l=>{a.value=l}),Q(()=>{a.value=n.getters.work_id}),(l,c)=>(v(),k("div",K8,[W(Sl),(v(),lt(JI,{work_id:a.value,token:$(s),key:a.value},null,8,["work_id","token"])),(v(),lt(W8,{work_id:a.value.toString(),token:$(s),work_type:"novel",user_avatar_path:$(o),key:a.value},null,8,["work_id","token","user_avatar_path"])),Y8,r("div",J8,[W(wn,{token:$(e),work_type:"novel"},null,8,["token"])])]))}},Q8=F(q8,[["__scopeId","data-v-76b52dd6"]]),X8={class:"content_index_page"},Z8={__name:"content_index_page",setup(t){const e=pt();let s=kt(()=>e.getters.ill_page),n=kt(()=>e.getters.comic_page),o=kt(()=>e.getters.novel_page),i=kt(()=>e.getters.img_content_page);return(a,l)=>(v(),k("div",X8,[$(s)?(v(),lt(PC,{key:0})):O("",!0),$(n)?(v(),lt(nO,{key:1})):O("",!0),$(o)?(v(),lt(Q8,{key:2})):O("",!0),$(i)?(v(),lt(Tl,{key:3})):O("",!0)]))}};async function tM(t){try{const e=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({token:t})});if(e.ok){const s=await e.json();if(s.status=="success")return s.data;console.log(s.message)}else console.log(e.status)}catch(e){console.log(e)}}async function eM(t,e,s){let n=new FormData;n.append("files",t),n.append("data",JSON.stringify(s)),n.append("token",e);try{const o=await fetch("https://www.sunyuanling.com/api/update/UpdateUserBack/",{method:"POST",body:n});if(!o.ok){console.error("HTTP error:",o.status,o.statusText);const a=await o.json();return a.status==="file_error"&&(alert(a.message),console.log(a.message),alert("上传失败，请重试")),!1}const i=await o.json();return i.status==="success"?!0:i.status==="file_error"?(alert(i.message),console.log(i.message),alert("上传失败，请重试"),!1):(console.error("Upload failed:",i.message),!1)}catch(o){return console.error("Error:",o),!1}}async function sM(t){try{const e=await fetch("https://www.sunyuanling.com/api/update/DeleteUserBack/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})});if(e.ok){const s=await e.json();return s.status==="success"?!0:(console.error("Upload failed:",s.message),!1)}}catch(e){console.error("Error:",e)}}async function nM(t,e,s){let n=new FormData;n.append("token",t),n.append("files",s),console.log(s),n.append("data",e),console.log(n);try{const o=await fetch("https://www.sunyuanling.com/api/update/UpdateUserInfo/",{method:"POST",body:n});if(o.ok){const i=await o.json();return i.status==="success"?(alert(i.message),!0):(console.log(i.message),!1)}else{const i=await o.json();if(i.status==="file_error")return alert(i.message),!1}}catch(o){console.log(o)}}async function oM(t,e){try{const s=await fetch("https://www.sunyuanling.com/api/update/UpdateUserSelectWork/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({select_work:e,token:t})});return s.ok&&(await s.json()).status==="success"?!0:"更新失败"}catch(s){console.log(s)}}async function Zr(t,e,s,n,o){try{const i=await fetch("https://www.sunyuanling.com/api/update/UpdateUserCollect/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({token:t,collect_id:e,work_type:s,operate:n,open_operate:o})});if(i.ok){const a=await i.json();return a.status=="success"?(console.log(a.message),!0):(console.log(a.message),!1)}else return console.log(i.status),(await i.json()).message}catch(i){console.log(i)}}const bn=t=>(et("data-v-d67ce23a"),t=t(),st(),t),iM={class:"edit_box"},aM={class:"content"},lM={class:"title"},rM=bn(()=>r("span",null,null,-1)),cM=bn(()=>r("span",null,"封面设置",-1)),uM=bn(()=>r("img",{src:"https://www.sunyuanling.com/assets/close.svg",class:"icon"},null,-1)),_M=[uM],dM={class:"img_box"},hM=["src"],fM=bn(()=>r("img",{src:"https://www.sunyuanling.com/assets/image.svg"},null,-1)),gM=Li('<div class="tips_box" data-v-d67ce23a><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>适用格式：</span><span data-v-d67ce23a>.jpg .png .jpeg .webp</span></div><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>最大容量：</span><span data-v-d67ce23a>8M以内</span></div><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>建议尺寸：</span><span data-v-d67ce23a>1920*1080</span></div><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>最大尺寸：</span><span data-v-d67ce23a>4096*4096</span></div></div><div class="tips_box" style="flex-direction:row;" data-v-d67ce23a><div class="tips" data-v-d67ce23a><img src="https://www.sunyuanling.com/assets/info.svg" class="icon" data-v-d67ce23a><span data-v-d67ce23a>根据您上传的图片及设备显示不同，图片四周有可能会显示不全。</span></div></div><span style="width:90%;margin:0px auto;font-size:14px;color:rgb(133,133,133);" data-v-d67ce23a> 请不要上传R-18或使用规则中禁止投稿的作品。如果您上传了相关图片，设置可能会被清除。 </span>',3),pM={class:"btn_box"},mM=bn(()=>r("span",null,"同意上传",-1)),vM=[mM],wM=bn(()=>r("span",null,"取消",-1)),yM=[wM],bM={__name:"edit_box",props:{token:{type:String,default:""},user_back_img:{type:String,default:""}},emits:["close_page"],setup(t,{emit:e}){const s=t,n=e,o=y(s.user_back_img),i=y(null);let a=y();function l(){n("close_page",!1)}function c(){i.value.click()}function u(d){const h=d.target.files[0];if(h){const g=new FileReader;g.onload=w=>{o.value=w.target.result},g.readAsDataURL(h)}a.value=h}async function _(){let d={token:s.token};await eM(a.value,s.token,d)?l():alert("上传失败")}return(d,h)=>(v(),k("div",iM,[r("div",aM,[r("div",lM,[rM,cM,r("div",{class:"close_btn",onClick:h[0]||(h[0]=g=>l())},_M)]),r("div",dM,[r("img",{src:o.value,class:"user_background_img"},null,8,hM),r("div",{class:"upload_img",onClick:h[1]||(h[1]=g=>c())},[fM,r("input",{type:"file",accept:"image/*",ref_key:"upload_img",ref:i,style:{display:"none"},onChange:u},null,544)])]),gM,r("div",pM,[r("div",{class:"sure_btn btn",onClick:h[2]||(h[2]=g=>_())},vM),r("div",{class:"cancel btn",onClick:h[3]||(h[3]=g=>l())},yM)])])]))}},kM=F(bM,[["__scopeId","data-v-d67ce23a"]]),X_=t=>(et("data-v-4c57662b"),t=t(),st(),t),xM={class:"user_background"},$M={class:"content"},SM=["src"],TM={class:"edit_btn_box"},CM=X_(()=>r("img",{src:"https://www.sunyuanling.com/assets/edit.svg",class:"icon"},null,-1)),EM=[CM],AM=X_(()=>r("img",{src:"https://www.sunyuanling.com/assets/delete.svg",class:"icon"},null,-1)),OM=[AM],IM={__name:"user_background",props:{user_back_img:{type:String,default:""},token:{type:String,default:""}},setup(t){const e=t;let s=y(!1);function n(){window.confirm("确定删除背景图片吗？")&&sM(e.token)}return(o,i)=>(v(),k("div",xM,[r("div",$M,[r("img",{src:t.user_back_img,class:"user_background_img"},null,8,SM),r("div",TM,[r("div",{class:"edit_btn btn",onClick:i[0]||(i[0]=a=>mt(s)?s.value=!0:s=!0)},EM),r("div",{class:"delete_btn btn",onClick:n},OM)])]),$(s)?(v(),lt(kM,{key:0,user_back_img:t.user_back_img,token:t.token,onClose_page:i[1]||(i[1]=a=>mt(s)?s.value=!1:s=!1)},null,8,["user_back_img","token"])):O("",!0)]))}},Z_=F(IM,[["__scopeId","data-v-4c57662b"]]),Hi=t=>(et("data-v-af69538f"),t=t(),st(),t),MM={class:"more_info_box"},PM={class:"content"},LM={class:"title"},DM=Hi(()=>r("span",null,null,-1)),RM=Hi(()=>r("span",null,"个人信息",-1)),NM=Hi(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg",alt:"关闭"},null,-1)),jM=[NM],FM={class:"user_avatar"},zM=["src"],UM={class:"address"},HM=Hi(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/location.svg",alt:"地址图标"},null,-1)),BM={class:"sex"},GM={class:"age"},WM={class:"birthday"},VM={__name:"more_info_box",props:{user_info:{type:Object,default:()=>({})}},emits:["close_page"],setup(t,{emit:e}){const s=t,n=e,o=y(""),i=y("");function a(){n("close_page",!1)}function l(u){const _=new Date,d=new Date(u);let h=_.getFullYear()-d.getFullYear();const g=_.getMonth()-d.getMonth();return(g<0||g===0&&_.getDate()<d.getDate())&&h--,h}function c(u){const _=[{regex:/^\d{4}年\d{1,2}月\d{1,2}日$/,format:"YYYY年MM月DD日"},{regex:/^\d{4}\/\d{1,2}\/\d{1,2}$/,format:"YYYY/MM/DD"},{regex:/^\d{4}-\d{1,2}-\d{1,2}$/,format:"YYYY-MM-DD"},{regex:/^\d{4}-\d{1,2}-\d{1,2}T\d{1,2}:\d{2}:\d{2}$/,format:"YYYY-MM-DDTHH:mm:ss"}];for(const{regex:d,format:h}of _)if(d.test(u))return u;return"未知格式"}return Q(()=>{s.user_info.birthday&&(i.value=c(s.user_info.birthday),o.value=l(s.user_info.birthday))}),(u,_)=>(v(),k("div",MM,[r("div",PM,[r("div",LM,[DM,RM,r("div",{class:"close_btn btn",onClick:_[0]||(_[0]=d=>a())},jM)]),r("div",FM,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.user_info.user_avatar,alt:"用户头像"},null,8,zM)]),r("div",UM,[HM,r("span",null,S(t.user_info.user_address),1)]),r("div",BM,[r("span",null,"性别: "+S(t.user_info.sex),1)]),r("div",GM,[r("span",null,"年龄: "+S(o.value),1)]),r("div",WM,[r("span",null,"生日: "+S(i.value),1)])])]))}},KM=F(VM,[["__scopeId","data-v-af69538f"]]),YM=["maxlength","rows","placeholder"],JM={__name:"auto_textarea",props:{modelValue:{type:String,default:""},maxlength:{type:Number,default:3e3},rows:{type:Number,default:4},placeholder:{type:String,default:"自动文本框"},initialWidth:{type:String,default:"100%"},initialHeight:{type:String,default:"auto"},allowResizeWidth:{type:Boolean,default:!1},allowResizeHeight:{type:Boolean,default:!0},fontsize:{type:Number,default:16},lineheight:{type:Number,default:1.5}},emits:["update:modelValue"],setup(t,{emit:e}){const s=e,n=t,o=y(null),i=y(n.modelValue),a=()=>{o.value&&(o.value.style.height="auto",o.value.style.height=`${o.value.scrollHeight}px`)};return K(()=>n.modelValue,l=>{i.value=l,a()}),K(()=>i.value,l=>{s("update:modelValue",l),a()}),Q(()=>{a()}),(l,c)=>gt((v(),k("textarea",{ref_key:"textarea",ref:o,maxlength:t.maxlength,rows:t.rows,placeholder:t.placeholder,style:pe({width:t.initialWidth,height:t.initialHeight,resize:t.allowResizeWidth&&t.allowResizeHeight?"both":t.allowResizeHeight?"vertical":"none",fontSize:t.fontsize+"px",lineHeight:t.lineheight}),"onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),onInput:a},null,44,YM)),[[Dt,i.value]])}},qM=F(JM,[["__scopeId","data-v-837771fc"]]),QM={class:"select_title"},XM=["src"],ZM=["src"],tP={key:0,class:"select_list"},eP=["onClick"],sP={class:"select_item_text"},nP=["src"],oP={__name:"select",props:{modelValue:{type:String,default:""},select_title:{type:String,default:"新建系列"},select_list:{type:Array,default:()=>["新建系列"]},drop_down_icon_path:{type:String,default:"https://www.sunyuanling.com/assets/drop_down.svg"},drop_up_icon_path:{type:String,default:"https://www.sunyuanling.com/assets/drop_up.svg"},select_item_check:{type:String,default:"https://www.sunyuanling.com/assets/correct.svg"}},emits:["update:modelValue","select-item"],setup(t,{emit:e}){const s=t,n=y(s.drop_down_icon_path),o=y(s.drop_up_icon_path),i=y(s.select_title),a=y(s.select_list),l=y(s.select_item_check),c=y(!1),u=y(s.modelValue),_=y(!1),d=e;K(u,b=>{b!==s.modelValue&&d("update:modelValue",b)}),K(()=>s.select_title,b=>{i.value=b}),K(()=>s.select_list,b=>{a.value=b}),K(()=>s.drop_down_icon_path,b=>{n.value=b}),K(()=>s.drop_up_icon_path,b=>{o.value=b}),K(()=>s.select_item_check,b=>{l.value=b});function h(){c.value=!c.value}function g(b,x){x.stopPropagation(),u.value=b,i.value=b,c.value=!1}function w(){_.value=!0}function f(b){_.value||(c.value=!1),_.value=!1}document.addEventListener("click",f),Le(()=>{document.removeEventListener("click",f)});function p(b){b.style.maxHeight="none",b.style.opacity="1"}function m(b){b.style.maxHeight="0",b.style.opacity="0"}return Q(()=>{n.value=s.drop_down_icon_path,o.value=s.drop_up_icon_path,i.value=s.select_title,a.value=s.select_list,l.value=s.select_item_check}),(b,x)=>(v(),k("div",{class:"select_box",onClick:w},[r("div",{class:"select",onClick:h},[r("span",QM,S(i.value),1),c.value?(v(),k("img",{key:1,class:"drop_down",src:o.value},null,8,ZM)):(v(),k("img",{key:0,class:"drop_down",src:n.value},null,8,XM))]),W(fo,{name:"select-list",onAfterEnter:p,onAfterLeave:m},{default:Ai(()=>[c.value?(v(),k("div",tP,[(v(!0),k(Z,null,rt(a.value,(A,I)=>(v(),k("div",{class:"select_item",key:I,onClick:T=>g(A,T)},[r("span",sP,S(A),1),u.value===A?(v(),k("img",{key:0,class:"select_item_check",src:l.value},null,8,nP)):O("",!0)],8,eP))),128))])):O("",!0)]),_:1})]))}},iP=F(oP,[["__scopeId","data-v-f302d91e"]]),ve=t=>(et("data-v-ab37d22a"),t=t(),st(),t),aP={class:"edit_info_box"},lP={class:"content"},rP=ve(()=>r("span",null,null,-1)),cP=ve(()=>r("span",{style:{"font-weight":"bold","font-size":"18px"}},"修改个人信息",-1)),uP=ve(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg",alt:"关闭"},null,-1)),_P=[uP],dP={class:"user_background"},hP=ve(()=>r("span",{class:"b"},"个人头像",-1)),fP={class:"avatar"},gP=["src"],pP=ve(()=>r("img",{src:"https://www.sunyuanling.com/assets/image.svg"},null,-1)),mP=[pP],vP=ve(()=>r("span",{class:"b"},"用户名",-1)),wP={class:"username"},yP=ve(()=>r("span",{class:"b"},"自我介绍",-1)),bP={class:"introduce focus"},kP=ve(()=>r("span",{class:"b"},"个人网站",-1)),xP={class:"person_website"},$P=ve(()=>r("span",{class:"b"},"性别",-1)),SP={class:"sex"},TP=ve(()=>r("span",{class:"b"},"地址",-1)),CP={class:"address"},EP=ve(()=>r("span",{class:"b"},"生日",-1)),AP={class:"birthday"},OP={class:"btn_box"},IP=ve(()=>r("span",null,"确定",-1)),MP=[IP],PP=ve(()=>r("span",null,"取消",-1)),LP=[PP],DP={__name:"edit_info_box",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},emits:["close_page"],setup(t,{emit:e}){const s=t,n=e,o=y({...s.user_info}),i=y(`https://www.sunyuanling.com/image/avatar_thumbnail/${o.value.user_avatar}`),a=y();K(()=>s.user_info,h=>{o.value={...h},i.value=`https://www.sunyuanling.com/image/avatar_thumbnail/${h.user_avatar}`});function l(h){o.value.birthday=h.target.value}function c(){const h=document.querySelector('input[type="file"]');h==null||h.click()}function u(h){const g=h.target.files[0];if(g){const w=URL.createObjectURL(g);i.value=w,o.value.avatar_file=g}a.value=g}async function _(){let h={};h.token=s.token,h.username=o.value.username,h.user_self_introduction=o.value.user_self_introduction,h.user_address=o.value.user_address,h.user_self_website=o.value.user_self_website,h.sex=o.value.sex,h.birthday=o.value.birthday,h=JSON.stringify(h),console.log(h),await nM(s.token,h,a.value)?d():alert("上传失败")}function d(){n("close_page")}return(h,g)=>(v(),k("div",aP,[r("div",lP,[r("div",{class:"title"},[rP,cP,r("div",{class:"close_btn btn",onClick:d},_P)]),r("div",dP,[W(Z_,{user_back_img:"https://www.sunyuanling.com/image/"+o.value.user_back_img},null,8,["user_back_img"])]),hP,r("div",fP,[r("img",{src:i.value,ref:"avatar_img",alt:"用户头像"},null,8,gP),r("div",{class:"upload_avatar",onClick:c},mP),r("input",{type:"file",accept:"image/*",ref:"upload_img",onChange:u,style:{display:"none"}},null,544)]),vP,r("div",wP,[gt(r("input",{type:"text",placeholder:"用户名","onUpdate:modelValue":g[0]||(g[0]=w=>o.value.username=w),class:"focus"},null,512),[[Dt,o.value.username]])]),yP,r("div",bP,[W(qM,{modelValue:o.value.user_self_introduction,"onUpdate:modelValue":g[1]||(g[1]=w=>o.value.user_self_introduction=w)},null,8,["modelValue"])]),kP,r("div",xP,[gt(r("input",{type:"text",placeholder:"个人网站","onUpdate:modelValue":g[2]||(g[2]=w=>o.value.user_self_website=w),class:"focus"},null,512),[[Dt,o.value.user_self_website]])]),$P,r("div",SP,[W(iP,{modelValue:o.value.sex,"onUpdate:modelValue":g[3]||(g[3]=w=>o.value.sex=w),select_title:o.value.sex,select_list:["男","女","任意"]},null,8,["modelValue","select_title"])]),TP,r("div",CP,[gt(r("input",{type:"text","onUpdate:modelValue":g[4]||(g[4]=w=>o.value.user_address=w),class:"focus"},null,512),[[Dt,o.value.user_address]])]),EP,r("div",AP,[gt(r("input",{type:"date","onUpdate:modelValue":g[5]||(g[5]=w=>o.value.birthday=w),onChange:l,class:"focus"},null,544),[[Dt,o.value.birthday]])]),r("div",OP,[r("div",{class:"sure_btn focus",onClick:g[6]||(g[6]=w=>_())},MP),r("div",{class:"cancel_btn focus",onClick:d},LP)])])]))}},RP=F(DP,[["__scopeId","data-v-ab37d22a"]]),Ol=t=>(et("data-v-afe195a6"),t=t(),st(),t),NP={key:0,class:"user_info"},jP={class:"content"},FP={class:"user_avatar"},zP=["src"],UP={class:"info_box"},HP={class:"username",style:{"font-weight":"bold","font-size":"20px"}},BP={class:"user_stats"},GP={class:"user_follow"},WP={class:"user_fans"},VP={class:"user_address"},KP=Ol(()=>r("img",{src:"https://www.sunyuanling.com/assets/location.svg",alt:"地址图标",class:"icon"},null,-1)),YP=Ol(()=>r("span",null,"查看个人资料",-1)),JP=[YP],qP=Ol(()=>r("span",null,"编辑个人资料",-1)),QP=[qP],XP={__name:"user_info",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},setup(t){let e=y(!1),s=y(!1);return(n,o)=>t.user_info?(v(),k("div",NP,[r("div",jP,[r("div",FP,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.user_info.user_avatar,alt:"用户头像"},null,8,zP)]),r("div",UP,[r("span",HP,S(t.user_info.username),1),r("div",BP,[r("span",GP,S(t.user_info.follow)+" 关注 ",1),r("span",WP,S(t.user_info.fans)+" 粉丝 ",1)]),r("div",VP,[KP,r("span",null,S(t.user_info.user_address),1)]),r("div",{class:"user_more_info_box",onClick:o[0]||(o[0]=i=>mt(e)?e.value=!0:e=!0)},JP)]),r("div",{class:"edit_info_btn btn",onClick:o[1]||(o[1]=i=>mt(s)?s.value=!0:s=!0)},QP)]),$(e)?(v(),lt(KM,{key:0,user_info:t.user_info,onClose_page:o[2]||(o[2]=i=>mt(e)?e.value=!1:e=!1)},null,8,["user_info"])):O("",!0),$(s)?(v(),lt(RP,{key:1,user_info:t.user_info,token:t.token,onClose_page:o[3]||(o[3]=i=>mt(s)?s.value=!1:s=!1)},null,8,["user_info","token"])):O("",!0)])):O("",!0)}},ZP=F(XP,[["__scopeId","data-v-afe195a6"]]),vo=t=>(et("data-v-58f64e0c"),t=t(),st(),t),t5={class:"scroll_box"},e5={class:"scroll_box_content"},s5={class:"btn_box"},n5=["src"],o5=["src"],i5=["onClick"],a5={key:0,class:"work_info_ill"},l5={class:"work_info_box"},r5=vo(()=>r("span",null,"插画作品",-1)),c5={class:"work_info"},u5=["src","onClick"],_5={class:"info_box"},d5={style:{"font-size":"18px","font-weight":"bold"}},h5={key:1,class:"work_info_comic"},f5={class:"work_info_box"},g5=vo(()=>r("span",null,"漫画作品",-1)),p5={class:"work_info"},m5=["src","onClick"],v5={class:"info_box"},w5={style:{"font-size":"18px","font-weight":"bold"}},y5={key:2,class:"work_info_novel"},b5={class:"work_info_box"},k5=vo(()=>r("span",null,"小说作品",-1)),x5={class:"work_info"},$5=["src","onClick"],S5={class:"info_box"},T5={style:{"font-size":"18px","font-weight":"bold"}},C5=vo(()=>r("img",{src:"https://www.sunyuanling.com/assets/add.svg"},null,-1)),E5=vo(()=>r("span",null,"新增精选",-1)),A5=[C5,E5],O5={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:[Array,Object],default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400},work_type:{type:String,default:"ill"}},emits:["chose_item","open_select_box"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null),a=()=>{o.value&&o.value.forEach((w,f)=>{w.style.backgroundColor=n.value[f%n.value.length]})},l=e,c=w=>{l("chose_item",w),console.log(w)};function u(){l("open_select_box",!0)}const _=w=>w<.5?2*w*w:-1+(4-2*w)*w,d=(w,f)=>{const p=i.value.scrollLeft,m=performance.now(),b=x=>{const A=x-m,I=Math.min(A/f,1),T=_(I);i.value.scrollLeft=p+w*T,I<1&&requestAnimationFrame(b)};requestAnimationFrame(b)},h=()=>{d(-s.scrollDistance,s.animationDuration)},g=()=>{d(s.scrollDistance,s.animationDuration)};return Q(()=>{a()}),(w,f)=>(v(),k("div",t5,[r("div",e5,[r("div",s5,[r("div",{class:"left_btn",onClick:h},[r("img",{src:s.left_btn,class:"icon"},null,8,n5)]),r("div",{class:"right_btn",onClick:g},[r("img",{src:s.right_btn,class:"icon"},null,8,o5)])]),r("div",{class:"list",ref_key:"list",ref:i},[(v(!0),k(Z,null,rt(s.msg_list,(p,m)=>(v(),k("div",{class:"item",key:m},[s.msg_type==="image"?(v(),k("div",{key:0,class:"image_item",onClick:b=>c(p)},[p.work_type=="ill"?(v(),k("div",a5,[r("div",l5,[r5,r("div",c5,[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+p.work_info[0].content_file_list.split(/[,，]/)[0],class:"image",onClick:b=>c({work_type:"ill",work_id:p.work_id})},null,8,u5),r("div",_5,[r("span",d5,S(p.work_info[0].name),1),r("span",null,S(p.work_info[0].brief_introduction),1)])])])])):O("",!0),p.work_type=="comic"?(v(),k("div",h5,[r("div",f5,[g5,r("div",p5,[r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+p.work_info[0].content_file_list.split(/[,，]/)[0],onClick:b=>c({work_type:"comic",work_id:p.work_id})},null,8,m5),r("div",v5,[r("span",w5,S(p.work_info[0].work_name),1),r("span",null,S(p.work_info[0].brief_introduction),1)])])])])):O("",!0),p.work_type=="novel"?(v(),k("div",y5,[r("div",b5,[k5,r("div",x5,[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+p.work_info[0].work_cover,onClick:b=>c({work_type:"novel",work_id:p.work_id})},null,8,$5),r("div",S5,[r("span",T5,S(p.work_info[0].work_name),1),r("span",null,S(p.work_info[0].brief_introduction),1),r("span",null,S(p.work_info[0].work_count)+"字  "+S(Math.ceil(p.work_info[0].work_count/500))+"分钟",1)])])])])):O("",!0)],8,i5)):O("",!0)]))),128)),r("div",{class:"add_select",onClick:f[0]||(f[0]=p=>u())},A5)],512)])]))}},I5=F(O5,[["__scopeId","data-v-58f64e0c"]]);async function td(t,e){const s="https://www.sunyuanling.com/api/get_work_info/";try{for(let n=0;n<e.length;n++){const o=e[n],i=o.work_type,a=o.work_id;try{const l={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,work_id:a})};let c;switch(i){case"ill":c="GetIllInfo/";break;case"comic":c="GetComicinfo/";break;case"novel":c="GetNovelInfo/";break;default:console.error(`未知的工作类型: ${i}`);continue}const u=await fetch(s+c,l);if(u.ok){const _=await u.json();_.status==="success"?o.work_info=_.data:console.error(`获取工作信息失败: ${_.message}`)}else console.error(`请求失败: ${u.status} ${u.statusText}`)}catch(l){console.error(`处理 ${i} 类型工作时出错:`,l)}}return e}catch(n){throw console.error("获取工作信息时发生错误:",n),n}}async function Il(t){try{const e=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{method:"POST",body:JSON.stringify({token:t})});if(e.ok){const s=await e.json();return s.status==="success"?s.data:s.message}else console.log("Error:",e.status)}catch(e){console.error("获取工作信息时发生错误:",e)}}async function ia(t){try{const e=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserCollect/",{method:"POST",body:JSON.stringify({token:t})});if(e.ok){const s=await e.json();return s.status==="success"?s.data:s.message}else console.log("Error:",e.status)}catch(e){console.log(e)}}const de=t=>(et("data-v-155d6c1b"),t=t(),st(),t),M5={key:0,class:"add_select_page"},P5={class:"content"},L5=de(()=>r("span",null,null,-1)),D5=de(()=>r("span",null,[r("b",null,"新增精选作品")],-1)),R5=de(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg"},null,-1)),N5=[R5],j5={class:"choose_item"},F5=de(()=>r("span",null,"插画",-1)),z5=[F5],U5=de(()=>r("span",null,"小说",-1)),H5=[U5],B5=de(()=>r("span",null,"漫画",-1)),G5=[B5],W5={key:0,class:"item_page_ill"},V5=de(()=>r("span",null,"选择插画作品",-1)),K5={class:"ill_item_list"},Y5=["onClick"],J5=["src"],q5=de(()=>r("img",{src:"https://www.sunyuanling.com/assets/correct.svg",alt:"",class:"icon"},null,-1)),Q5=[q5],X5={key:1,class:"item_page_novel"},Z5=de(()=>r("span",null,"选择小说作品",-1)),t6={class:"novel_item_list"},e6=["onClick"],s6=["src"],n6=de(()=>r("img",{src:"https://www.sunyuanling.com/assets/correct.svg",alt:"",class:"icon"},null,-1)),o6=[n6],i6={key:2,class:"item_page_comic"},a6=de(()=>r("span",null,"选择漫画作品",-1)),l6={class:"comic_item_list"},r6=["onClick"],c6=["src"],u6=de(()=>r("img",{src:"https://www.sunyuanling.com/assets/correct.svg",alt:"",class:"icon"},null,-1)),_6=[u6],d6={class:"tips"},h6={class:"btn_box"},f6=de(()=>r("span",null,"确定",-1)),g6=[f6],p6=de(()=>r("span",null,"取消",-1)),m6=[p6],v6={__name:"add_select_page",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},emits:["close_page"],setup(t,{emit:e}){const s=t,n=e;function o(){n("close_page",!1)}const i=y(),a=y(0),l=y({ill:[],novel:[],comic:[]}),c=y(JSON.parse(s.user_info.select_work)),u=kt(()=>5-(l.value.ill.length+l.value.novel.length+l.value.comic.length));function _(){c.value.ill!=null&&(l.value.ill=c.value.ill),c.value.novel!=null&&(l.value.novel=c.value.novel),c.value.comic!=null&&(l.value.comic=c.value.comic)}function d(w,f){return!Array.isArray(w)||w.length===0||f===void 0||f===null?!1:w.some(p=>p==f)}function h(w,f){let p;f==="ill"?p=w.Illustration_id:f==="novel"?p=w.work_id:f==="comic"&&(p=w.id);const m=l.value[f];d(m,p)?l.value[f]=m.filter(b=>b!==p):l.value.ill.length+l.value.novel.length+l.value.comic.length<5?m.length<5?l.value[f].push(p):alert("选择的作品数量已达单个类型上限（5个）"):alert("选择的作品数量已达总上限（5个）")}async function g(){await oM(s.token,l.value)?(alert("提交成功"),o()):alert("提交失败")}return Q(async()=>{i.value=await Il(s.token),_()}),(w,f)=>i.value?(v(),k("div",M5,[r("div",P5,[r("div",{class:"title"},[L5,D5,r("div",{class:"close_btn",onClick:o},N5)]),r("div",j5,[r("div",{class:yt(["item",a.value==0?"choose_status":""]),onClick:f[0]||(f[0]=p=>a.value=0)},z5,2),r("div",{class:yt(["item",a.value==1?"choose_status":""]),onClick:f[1]||(f[1]=p=>a.value=1)},H5,2),r("div",{class:yt(["item",a.value==2?"choose_status":""]),onClick:f[2]||(f[2]=p=>a.value=2)},G5,2)]),a.value==0?(v(),k("div",W5,[V5,r("div",K5,[(v(!0),k(Z,null,rt(i.value.ill,(p,m)=>(v(),k("div",{class:"ill_item",key:m},[r("div",{class:"item_page_img",onClick:b=>h(p,"ill")},[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+p.content_file_list.split(/[,，]/)[0]},null,8,J5),d(l.value.ill,p.Illustration_id)?(v(),k("div",{key:0,class:yt(["correct_box",d(l.value.ill,p.Illustration_id)?"correct_box_choose":""])},Q5,2)):O("",!0)],8,Y5)]))),128))])])):O("",!0),a.value==1?(v(),k("div",X5,[Z5,r("div",t6,[(v(!0),k(Z,null,rt(i.value.novel,(p,m)=>(v(),k("div",{class:"novel_item",key:m},[r("div",{class:"item_page_img",onClick:b=>h(p,"novel")},[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+p.work_cover},null,8,s6),d(l.value.novel,p.work_id)?(v(),k("div",{key:0,class:yt(["correct_box",d(l.value.novel,p.work_id)?"correct_box_choose":""])},o6,2)):O("",!0)],8,e6)]))),128))])])):O("",!0),a.value==2?(v(),k("div",i6,[a6,r("div",l6,[(v(!0),k(Z,null,rt(i.value.comic,(p,m)=>(v(),k("div",{class:"comic_item",key:m},[r("div",{class:"item_page_img",onClick:b=>h(p,"comic")},[r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+p.content_file_list.split(/[,，]/)[0]},null,8,c6),d(l.value.comic,p.id)?(v(),k("div",{key:0,class:yt(["correct_box",d(l.value.comic,p.id)?"correct_box_choose":""])},_6,2)):O("",!0)],8,r6)]))),128))])])):O("",!0),r("div",d6,[r("span",null,"一共可以选择5个作品 当前还可选择"+S(u.value),1)]),r("div",h6,[r("div",{class:"submit btn_choose",onClick:f[3]||(f[3]=p=>g())},g6),r("div",{class:"cancel btn_choose",onClick:o},m6)])])])):O("",!0)}},w6=F(v6,[["__scopeId","data-v-155d6c1b"]]),y6={key:0,class:"user_index_select"},b6=r("div",{class:"title"},[r("span",null,[r("b",null,"精选")])],-1),k6={class:"content"},x6={__name:"user_index_select",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},setup(t){const e=pt(),s=t;let n=y(JSON.parse(s.user_info.select_work)),o=y(!1);function i(){let l=[];for(let c in n.value)for(let u of n.value[c])l.push({work_type:c,work_id:u});return console.log(l),l}function a(l){console.log(l),l.work_type=="ill"?(e.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",l.work_id),e.commit("SET_WORK_TYPE",l.work_type)):l.work_type=="comic"?(e.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",l.work_id),e.commit("SET_WORK_TYPE",l.work_type)):l.work_type=="novel"&&(e.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",l.work_id),e.commit("SET_WORK_TYPE",l.work_type))}return Q(async()=>{i(),n.value=await td(s.token,i()),console.log(n.value)}),(l,c)=>$(n)?(v(),k("div",y6,[b6,r("div",k6,[W(I5,{msg_list:$(n),onOpen_select_box:c[0]||(c[0]=u=>mt(o)?o.value=!0:o=!0),onChose_item:a},null,8,["msg_list"])]),$(o)?(v(),lt(w6,{key:0,onClose_page:c[1]||(c[1]=u=>mt(o)?o.value=!1:o=!1),user_info:t.user_info,token:t.token},null,8,["user_info","token"])):O("",!0)])):O("",!0)}},$6={class:"scroll_box"},S6={class:"scroll_box_content"},T6={class:"btn_box"},C6=["src"],E6=["src"],A6=["onClick"],O6={__name:"scroll_box_copy",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:[Array,Object],default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y([]),a=()=>{i.value.forEach((g,w)=>{g.style.backgroundColor=n.value[w%n.value.length]})},l=e,c=g=>{l("chose_item",g)},u=g=>g<.5?2*g*g:-1+(4-2*g)*g,_=(g,w)=>{const f=o.value.scrollLeft,p=performance.now(),m=b=>{const x=b-p,A=Math.min(x/w,1),I=u(A);o.value.scrollLeft=f+g*I,A<1&&requestAnimationFrame(m)};requestAnimationFrame(m)},d=()=>{_(-s.scrollDistance,s.animationDuration)},h=()=>{_(s.scrollDistance,s.animationDuration)};return Q(()=>{i.value=document.querySelectorAll(".tags_item"),fe(()=>{a()}),a()}),(g,w)=>(v(),k("div",$6,[r("div",S6,[r("div",T6,[r("div",{class:"left_btn",onClick:d},[r("img",{src:s.left_btn,class:"icon"},null,8,C6)]),r("div",{class:"right_btn",onClick:h},[r("img",{src:s.right_btn,class:"icon"},null,8,E6)])]),r("div",{class:"list",ref_key:"list",ref:o},[(v(!0),k(Z,null,rt(s.msg_list,(f,p)=>(v(),k("div",{class:"item",key:p},[s.msg_type==="tags"&&f!=""&&f?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_items",ref:i,onClick:m=>c(f)},[r("span",null,S(f),1)],8,A6)):O("",!0)]))),128))],512)])]))}},ed=F(O6,[["__scopeId","data-v-647485f7"]]),I6={class:"ill_select"},M6={class:"header"},P6={class:"title"},L6={class:"work_count_box"},D6={class:"work_item_list"},R6=["src","onClick"],N6={class:"work_name"},j6={__name:"ill_select",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},emits:["choose_item"],setup(t,{emit:e}){const s=pt(),n=t;function o(d){s.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",d.work_id),s.commit("SET_WORK_TYPE",d.work_type)}const i=y(JSON.parse(n.user_info.select_work).ill||[]),a=y([]),l=y([]),c=y([]);async function u(d){const h=d.map(g=>({work_id:g,work_type:"ill"}));a.value=await td(n.token,h),console.log(a.value)}function _(){const d=new Set;c.value.forEach(h=>{h.work_tags.split(/[,，]/).forEach(w=>d.add(w.trim()))}),l.value=Array.from(d),console.log(l.value)}return Q(async()=>{await u(i.value),c.value=await Il(n.token),c.value=c.value.ill||[],console.log(c.value),_()}),(d,h)=>(v(),k("div",I6,[r("div",M6,[r("h2",P6,[$t("插画作品标签 "),r("div",L6,[r("span",null,S(c.value.length),1)])])]),l.value.length>0?(v(),lt(ed,{key:0,msg_list:l.value,msg_type:"tags"},null,8,["msg_list"])):O("",!0),r("div",D6,[(v(!0),k(Z,null,rt(c.value,(g,w)=>(v(),k("div",{class:"work_item",key:w},[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+g.content_file_list.split(/[，,]/)[0],alt:"Work Thumbnail",class:"thumbnail",onClick:f=>o({work_type:"ill",work_id:g.Illustration_id})},null,8,R6),r("span",N6,S(g.name),1)]))),128))])]))}},F6=F(j6,[["__scopeId","data-v-9bfcdf97"]]),z6={class:"ill_select"},U6={class:"header"},H6={class:"title"},B6={class:"work_count_box"},G6={class:"work_item_list"},W6=["src","onClick"],V6={class:"work_name"},K6={__name:"novel_select",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},emits:["choose_item"],setup(t,{emit:e}){const s=pt(),n=t;function o(c){s.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",c.work_id),s.commit("SET_WORK_TYPE",c.work_type)}const i=y([]),a=y([]);function l(){const c=new Set;console.log(a.value.work_tags),a.value.forEach(u=>{u.work_tags.split(/[,，]/).forEach(d=>c.add(d.trim()))}),i.value=Array.from(c),console.log(i.value)}return Q(async()=>{a.value=await Il(n.token),a.value=a.value.novel||[],console.log(a.value),l()}),(c,u)=>(v(),k("div",z6,[r("div",U6,[r("h2",H6,[$t("小说作品标签 "),r("div",B6,[r("span",null,S(a.value.length),1)])])]),i.value.length>0?(v(),lt(ed,{key:0,msg_list:i.value,msg_type:"tags"},null,8,["msg_list"])):O("",!0),r("div",G6,[(v(!0),k(Z,null,rt(a.value,(_,d)=>(v(),k("div",{class:"work_item",key:d},[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+_.work_cover,alt:"Work Thumbnail",class:"thumbnail",onClick:h=>o({work_type:"novel",work_id:_.work_id})},null,8,W6),r("span",V6,S(_.work_name),1)]))),128))])]))}},Y6=F(K6,[["__scopeId","data-v-ef97fac2"]]),Ts=t=>(et("data-v-2df3aaca"),t=t(),st(),t),J6={class:"collect_page"},q6={class:"content"},Q6={class:"is_open"},X6={class:"switch_work_type"},Z6={class:"switch_open_status"},t4={class:"title"},e4=Ts(()=>r("span",null,"作品",-1)),s4={key:0,class:"collect_control_box"},n4=Ts(()=>r("span",null,"全选",-1)),o4=[n4],i4=Ts(()=>r("span",null,"取消收藏",-1)),a4=[i4],l4=Ts(()=>r("span",null,"设置为不公开",-1)),r4=[l4],c4=Ts(()=>r("span",null,"设置为公开",-1)),u4=[c4],_4=Ts(()=>r("span",null,"结束",-1)),d4=[_4],h4={key:1,class:"collect_list"},f4={key:0,class:"item_box"},g4={class:"work_type"},p4={class:"work_item"},m4=["onClick"],v4=["src"],w4={key:0,class:"age_tag"},y4={class:"age_num"},b4={key:1,class:"work_count"},k4={class:"work_num"},x4=["onClick"],$4=Ts(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/correct.svg"},null,-1)),S4=[$4],T4={class:"work_name"},C4={class:"author_info"},E4={class:"author_avatar"},A4=["src"],O4={class:"author_name"},I4={key:2,class:"if_all_none"},M4=Ts(()=>r("span",null,"这里空空如也什么也没有",-1)),P4=[M4],L4={__name:"collect_page",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},setup(t){const e=pt();function s(m){console.log(m),m.work_type=="ill"?(e.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",m.item.workid),e.commit("SET_WORK_TYPE",m.work_type)):m.work_type=="comic"?(e.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",m.item.workid),e.commit("SET_WORK_TYPE",m.work_type)):m.work_type=="novel"&&(e.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",m.item.workid),e.commit("SET_WORK_TYPE",m.work_type))}const n=t,o=y([]),i=y(1),a=y("all"),l=y(!1),c=y([]);function u(m){const b=c.value.indexOf(m);b>-1?c.value.splice(b,1):c.value.push(m),console.log(c.value)}async function _(){let m=[];for(let b=0;b<c.value.length;b++)m.push(await Zr(n.token,c.value[b].id,c.value[b].type,"delete",null));m.includes(!1)?alert("删除失败"):(alert("删除成功"),o.value=await ia(n.token)),c.value=[]}async function d(m){let b=[];for(let x=0;x<c.value.length;x++)b.push(await Zr(n.token,c.value[x].id,c.value[x].type,"set_open",m));b.includes(!1)?alert("设置失败"):(alert("设置成功"),o.value=await ia(n.token)),c.value=[]}function h(){c.value=[...g.value]}K(l,()=>{l.value==!1&&(c.value=[])}),Q(async()=>{o.value=await ia(n.token),console.log(o.value)});const g=kt(()=>o.value.filter(m=>{const b=m.is_open==i.value,x=a.value==="all"||m.type===a.value;return b&&x}));function w(m){switch(m){case"novel":return"小说";case"ill":return"插画";case"comic":return"漫画";default:return"其他"}}function f(m){const{type:b,work_info:x}=m,A="https://www.sunyuanling.com/image/";return b==="novel"?`${A}novel/thumbnail/${x.work_cover}`:b==="ill"?`${A}thumbnail/${x.content_file_list.split(/[,，]/)[0]}`:b==="comic"?`${A}comic/thumbnail/${x.content_file_list.split(/[，,]/)[0]}`:""}function p(m){const{content_file_list:b}=m.work_info;return b?b.split(/[,，]/).length:0}return(m,b)=>(v(),k("div",J6,[r("div",q6,[r("div",Q6,[r("div",X6,[r("span",{onClick:b[0]||(b[0]=x=>a.value="all"),class:yt(a.value=="all"?"switch_work_type_choose":"")},"所有作品",2),r("span",{onClick:b[1]||(b[1]=x=>a.value="ill"),class:yt(a.value=="ill"?"switch_work_type_choose":"")},"插画",2),r("span",{onClick:b[2]||(b[2]=x=>a.value="comic"),class:yt(a.value=="comic"?"switch_work_type_choose":"")},"漫画",2),r("span",{onClick:b[3]||(b[3]=x=>a.value="novel"),class:yt(a.value=="novel"?"switch_work_type_choose":"")},"小说",2)]),r("div",Z6,[r("span",{onClick:b[4]||(b[4]=x=>i.value=1),class:yt(i.value==1?"switch_work_type_choose":"")},"公开",2),r("span",{onClick:b[5]||(b[5]=x=>i.value=0),class:yt(i.value==0?"switch_work_type_choose":"")},"不公开",2)])]),r("div",t4,[e4,r("span",{style:{cursor:"pointer"},onClick:b[6]||(b[6]=x=>l.value=!l.value)},"管理收藏")]),l.value?(v(),k("div",s4,[r("div",{class:"control_item",onClick:b[7]||(b[7]=x=>h())},o4),r("div",{class:"control_item",onClick:b[8]||(b[8]=x=>_())},a4),i.value==1?(v(),k("div",{key:0,class:"control_item",onClick:b[9]||(b[9]=x=>d(0))},r4)):O("",!0),i.value==0?(v(),k("div",{key:1,class:"control_item",onClick:b[10]||(b[10]=x=>d(1))},u4)):O("",!0),r("div",{class:"control_item",onClick:b[11]||(b[11]=x=>l.value=!1),style:{"align-self":"flex-end",position:"absolute",right:"10px"}},d4)])):O("",!0),g.value.length?(v(),k("div",h4,[(v(!0),k(Z,null,rt(g.value,(x,A)=>(v(),k("div",{class:"collect_item",key:A},[x.work_status==="normal"?(v(),k("div",f4,[r("div",g4,[r("span",null,S(w(x.type)),1)]),r("div",p4,[r("div",{class:"image_container",onClick:I=>s({work_id:x.id,work_type:x.type,item:x})},[r("img",{src:f(x),alt:"作品封面"},null,8,v4),x.work_info.age_classification&&x.work_info.age_classification>18?(v(),k("div",w4,[r("span",y4,S(x.work_info.age_classification),1)])):O("",!0),p(x)>1?(v(),k("div",b4,[r("span",k4,S(p(x)),1)])):O("",!0),l.value?(v(),k("div",{key:2,class:"choose_work_box",onClick:I=>u(x)},[r("div",{class:"choose_box",style:pe({backgroundColor:c.value.includes(x)?"rgba(0,150,250,1)":""})},S4,4)],8,x4)):O("",!0)],8,m4),r("div",T4,[r("span",null,S(x.type==="ill"?x.work_info.name:x.work_info.work_name),1)]),r("div",C4,[r("div",E4,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+x.authorinfo.user_avatar,alt:"作者头像"},null,8,A4)]),r("div",O4,[r("span",null,S(x.authorinfo.username),1)])])])])):O("",!0)]))),128))])):O("",!0),g.value.length<=1||!g.value?(v(),k("div",I4,P4)):O("",!0)])]))}},D4=F(L4,[["__scopeId","data-v-2df3aaca"]]),R4={key:0,class:"user_select_box"},N4={class:"content"},j4={class:"select_page"},F4={__name:"user_select_box",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},setup(t){y(JSON.parse(t.user_info.select_work));let s=y(0);return(n,o)=>t.user_info?(v(),k("div",R4,[r("div",N4,[r("div",j4,[r("div",{class:yt(["page_item",$(s)==0?"choose_item":""]),onClick:o[0]||(o[0]=i=>mt(s)?s.value=0:s=0)}," 主页 ",2),r("div",{class:yt(["page_item",$(s)==1?"choose_item":""]),onClick:o[1]||(o[1]=i=>mt(s)?s.value=1:s=1)}," 插画 ",2),r("div",{class:yt(["page_item",$(s)==2?"choose_item":""]),onClick:o[2]||(o[2]=i=>mt(s)?s.value=2:s=2)}," 小说 ",2),r("div",{class:yt(["page_item",$(s)==3?"choose_item":""]),onClick:o[3]||(o[3]=i=>mt(s)?s.value=3:s=3)}," 收藏 ",2)]),$(s)==0?(v(),lt(x6,{key:0,user_info:t.user_info,token:t.token},null,8,["user_info","token"])):O("",!0),$(s)==1?(v(),lt(F6,{key:1,user_info:t.user_info,token:t.token},null,8,["user_info","token"])):O("",!0),$(s)==2?(v(),lt(Y6,{key:2,user_info:t.user_info,token:t.token},null,8,["user_info","token"])):O("",!0),$(s)==3?(v(),lt(D4,{key:3,user_info:t.user_info,token:t.token},null,8,["user_info","token"])):O("",!0)])])):O("",!0)}},z4=F(F4,[["__scopeId","data-v-86c850a0"]]),U4=t=>(et("data-v-bb9d873f"),t=t(),st(),t),H4={class:"go_back"},B4=U4(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/left.svg"},null,-1)),G4=[B4],W4={__name:"go_back",setup(t){const e=pt(),s=y(null);function n(){e.dispatch("goBack").then(()=>{fe(()=>{s.value&&s.value.click()})})}return(o,i)=>(v(),k("div",H4,[r("div",{class:"btn_box",onClick:n,ref_key:"btn_box",ref:s},G4,512)]))}},V4=F(W4,[["__scopeId","data-v-bb9d873f"]]),K4={key:0,class:"user_center_page"},Y4={class:"content"},J4={__name:"user_center_page",props:{userid:{type:String,default:""},token:{type:String,default:"sunyuanling"}},setup(t){const e=t;let s=y();return Q(async()=>{s.value=await tM(e.token),s.value=s.value[0],console.log(s.value)}),(n,o)=>(v(),k(Z,null,[$(s)?(v(),k("div",K4,[r("div",Y4,[W(Z_,{user_back_img:"https://www.sunyuanling.com/image/content_thumbnail/"+$(s).user_back_img,token:t.token},null,8,["user_back_img","token"]),W(ZP,{user_info:$(s),token:t.token},null,8,["user_info","token"]),W(z4,{user_info:$(s),token:t.token},null,8,["user_info","token"])])])):O("",!0),W(V4)],64))}};async function q4(t=null,e=null){try{const s=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({token:t,userid:e})});if(s.ok){const n=await s.json();if(n.status=="success")return n.data;console.log(n.message)}else console.log(s.status)}catch(s){console.log(s)}}const Q4={class:"user_background"},X4={class:"content"},Z4=["src"],tL={__name:"user_background",props:{user_back_img:{type:String,default:""},token:{type:String,default:""}},setup(t){return(e,s)=>(v(),k("div",Q4,[r("div",X4,[t.user_back_img?(v(),k("img",{key:0,src:t.user_back_img,class:"user_background_img"},null,8,Z4)):O("",!0)])]))}},eL=F(tL,[["__scopeId","data-v-2e2ae019"]]),Bi=t=>(et("data-v-90dd34a6"),t=t(),st(),t),sL={class:"more_info_box"},nL={class:"content"},oL={class:"title"},iL=Bi(()=>r("span",null,null,-1)),aL=Bi(()=>r("span",null,"个人信息",-1)),lL=Bi(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/close.svg",alt:"关闭"},null,-1)),rL=[lL],cL={class:"user_avatar"},uL=["src"],_L={class:"address"},dL=Bi(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/location.svg",alt:"地址图标"},null,-1)),hL={class:"sex"},fL={class:"age"},gL={class:"birthday"},pL={__name:"more_info_box",props:{user_info:{type:Object,default:()=>({})}},emits:["close_page"],setup(t,{emit:e}){const s=t,n=e,o=y(""),i=y("");function a(){n("close_page",!1)}function l(u){const _=new Date,d=new Date(u);let h=_.getFullYear()-d.getFullYear();const g=_.getMonth()-d.getMonth();return(g<0||g===0&&_.getDate()<d.getDate())&&h--,h}function c(u){const _=[{regex:/^\d{4}年\d{1,2}月\d{1,2}日$/,format:"YYYY年MM月DD日"},{regex:/^\d{4}\/\d{1,2}\/\d{1,2}$/,format:"YYYY/MM/DD"},{regex:/^\d{4}-\d{1,2}-\d{1,2}$/,format:"YYYY-MM-DD"},{regex:/^\d{4}-\d{1,2}-\d{1,2}T\d{1,2}:\d{2}:\d{2}$/,format:"YYYY-MM-DDTHH:mm:ss"}];for(const{regex:d,format:h}of _)if(d.test(u))return u;return"未知格式"}return Q(()=>{s.user_info.birthday&&(i.value=c(s.user_info.birthday),o.value=l(s.user_info.birthday))}),(u,_)=>(v(),k("div",sL,[r("div",nL,[r("div",oL,[iL,aL,r("div",{class:"close_btn btn",onClick:_[0]||(_[0]=d=>a())},rL)]),r("div",cL,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.user_info.user_avatar,alt:"用户头像"},null,8,uL)]),r("div",_L,[dL,r("span",null,S(t.user_info.user_address),1)]),r("div",hL,[r("span",null,"性别: "+S(t.user_info.sex),1)]),r("div",fL,[r("span",null,"年龄: "+S(o.value),1)]),r("div",gL,[r("span",null,"生日: "+S(i.value),1)])])]))}},mL=F(pL,[["__scopeId","data-v-90dd34a6"]]),sd=t=>(et("data-v-e2d28d31"),t=t(),st(),t),vL={key:0,class:"user_info"},wL={class:"content"},yL={class:"user_avatar"},bL=["src"],kL={class:"info_box"},xL={class:"username",style:{"font-weight":"bold","font-size":"20px"}},$L={class:"user_stats"},SL={class:"user_follow"},TL={class:"user_fans"},CL={class:"user_address"},EL=sd(()=>r("img",{src:"https://www.sunyuanling.com/assets/location.svg",alt:"地址图标",class:"icon"},null,-1)),AL=sd(()=>r("span",null,"查看个人资料",-1)),OL=[AL],IL={__name:"user_info",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""}},setup(t){let e=y(!1);return(s,n)=>t.user_info?(v(),k("div",vL,[r("div",wL,[r("div",yL,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+t.user_info.user_avatar,alt:"用户头像"},null,8,bL)]),r("div",kL,[r("span",xL,S(t.user_info.username),1),r("div",$L,[r("span",SL,S(t.user_info.follow)+" 关注 ",1),r("span",TL,S(t.user_info.fans)+" 粉丝 ",1)]),r("div",CL,[EL,r("span",null,S(t.user_info.user_address),1)]),r("div",{class:"user_more_info_box",onClick:n[0]||(n[0]=o=>mt(e)?e.value=!0:e=!0)},OL)])]),$(e)?(v(),lt(mL,{key:0,user_info:t.user_info,onClose_page:n[1]||(n[1]=o=>mt(e)?e.value=!1:e=!1)},null,8,["user_info"])):O("",!0)])):O("",!0)}},ML=F(IL,[["__scopeId","data-v-e2d28d31"]]),Ml=t=>(et("data-v-5db97c57"),t=t(),st(),t),PL={class:"scroll_box"},LL={class:"scroll_box_content"},DL={class:"btn_box"},RL=["src"],NL=["src"],jL=["onClick"],FL={key:0,class:"work_info_ill"},zL={class:"work_info_box"},UL=Ml(()=>r("span",null,"插画作品",-1)),HL={class:"work_info"},BL=["src","onClick"],GL={class:"info_box"},WL={style:{"font-size":"18px","font-weight":"bold"}},VL={key:1,class:"work_info_comic"},KL={class:"work_info_box"},YL=Ml(()=>r("span",null,"漫画作品",-1)),JL={class:"work_info"},qL=["src","onClick"],QL={class:"info_box"},XL={style:{"font-size":"18px","font-weight":"bold"}},ZL={key:2,class:"work_info_novel"},t3={class:"work_info_box"},e3=Ml(()=>r("span",null,"小说作品",-1)),s3={class:"work_info"},n3=["src","onClick"],o3={class:"info_box"},i3={style:{"font-size":"18px","font-weight":"bold"}},a3={__name:"scroll_box",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:[Array,Object],default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400},work_type:{type:String,default:"ill"}},emits:["chose_item","open_select_box"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y(null),a=()=>{o.value&&o.value.forEach((g,w)=>{g.style.backgroundColor=n.value[w%n.value.length]})},l=e,c=g=>{l("chose_item",g),console.log(g)},u=g=>g<.5?2*g*g:-1+(4-2*g)*g,_=(g,w)=>{const f=i.value.scrollLeft,p=performance.now(),m=b=>{const x=b-p,A=Math.min(x/w,1),I=u(A);i.value.scrollLeft=f+g*I,A<1&&requestAnimationFrame(m)};requestAnimationFrame(m)},d=()=>{_(-s.scrollDistance,s.animationDuration)},h=()=>{_(s.scrollDistance,s.animationDuration)};return Q(()=>{a()}),(g,w)=>(v(),k("div",PL,[r("div",LL,[r("div",DL,[r("div",{class:"left_btn",onClick:d},[r("img",{src:s.left_btn,class:"icon"},null,8,RL)]),r("div",{class:"right_btn",onClick:h},[r("img",{src:s.right_btn,class:"icon"},null,8,NL)])]),r("div",{class:"list",ref_key:"list",ref:i},[(v(!0),k(Z,null,rt(s.msg_list,(f,p)=>(v(),k("div",{class:"item",key:p},[s.msg_type==="image"?(v(),k("div",{key:0,class:"image_item",onClick:m=>c(f)},[f.work_type=="ill"?(v(),k("div",FL,[r("div",zL,[UL,r("div",HL,[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+f.work_info[0].content_file_list.split(/[,，]/)[0],class:"image",onClick:m=>c({work_type:"ill",work_id:f.work_id})},null,8,BL),r("div",GL,[r("span",WL,S(f.work_info[0].name),1),r("span",null,S(f.work_info[0].brief_introduction),1)])])])])):O("",!0),f.work_type=="comic"?(v(),k("div",VL,[r("div",KL,[YL,r("div",JL,[r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+f.work_info[0].content_file_list.split(/[,，]/)[0],onClick:m=>c({work_type:"comic",work_id:f.work_id})},null,8,qL),r("div",QL,[r("span",XL,S(f.work_info[0].work_name),1),r("span",null,S(f.work_info[0].brief_introduction),1)])])])])):O("",!0),f.work_type=="novel"?(v(),k("div",ZL,[r("div",t3,[e3,r("div",s3,[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+f.work_info[0].work_cover,onClick:m=>c({work_type:"novel",work_id:f.work_id})},null,8,n3),r("div",o3,[r("span",i3,S(f.work_info[0].work_name),1),r("span",null,S(f.work_info[0].brief_introduction),1),r("span",null,S(f.work_info[0].work_count)+"字  "+S(Math.ceil(f.work_info[0].work_count/500))+"分钟",1)])])])])):O("",!0)],8,jL)):O("",!0)]))),128))],512)])]))}},l3=F(a3,[["__scopeId","data-v-5db97c57"]]);async function r3(t,e=null,s){const n="https://www.sunyuanling.com/api/get_work_info/";try{for(let o=0;o<s.length;o++){const i=s[o],a=i.work_type,l=i.work_id;try{const c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,work_id:l,userid:e})};let u;switch(a){case"ill":u="GetIllInfo/";break;case"comic":u="GetComicinfo/";break;case"novel":u="GetNovelInfo/";break;default:console.error(`未知的工作类型: ${a}`);continue}const _=await fetch(n+u,c);if(_.ok){const d=await _.json();d.status==="success"?i.work_info=d.data:console.error(`获取工作信息失败: ${d.message}`)}else console.error(`请求失败: ${_.status} ${_.statusText}`)}catch(c){console.error(`处理 ${a} 类型工作时出错:`,c)}}return s}catch(o){throw console.error("获取工作信息时发生错误:",o),o}}async function nd(t,e){try{const s=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{method:"POST",body:JSON.stringify({token:t,userid:e})});if(s.ok){const n=await s.json();return n.status==="success"?n.data:n.message}else console.log("Error:",s.status)}catch(s){console.error("获取工作信息时发生错误:",s)}}async function c3(t,e){try{const s=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserCollect/",{method:"POST",body:JSON.stringify({token:t,userid:e})});if(s.ok){const n=await s.json();return n.status==="success"?n.data:n.message}else console.log("Error:",s.status)}catch(s){console.log(s)}}const od=t=>(et("data-v-361c53b7"),t=t(),st(),t),u3={key:0,class:"user_index_select"},_3=od(()=>r("div",{class:"title"},[r("span",null,[r("b",null,"精选")])],-1)),d3={class:"content"},h3={key:1,class:"if_all_none"},f3=od(()=>r("span",null,"这里空空如也什么也没有",-1)),g3=[f3],p3={__name:"user_index_select",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""},userid:{type:String,default:""}},setup(t){const e=pt(),s=t;let n=y(JSON.parse(s.user_info.select_work)),o=y(!1);function i(){let l=[];for(let c in n.value)for(let u of n.value[c])l.push({work_type:c,work_id:u});return console.log(l),l}function a(l){console.log(l),l.work_type=="ill"?(e.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",l.work_id),e.commit("SET_WORK_TYPE",l.work_type)):l.work_type=="comic"?(e.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",l.work_id),e.commit("SET_WORK_TYPE",l.work_type)):l.work_type=="novel"&&(e.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",l.work_id),e.commit("SET_WORK_TYPE",l.work_type))}return Q(async()=>{i(),n.value=await r3(s.token,s.userid,i()),console.log(n.value)}),(l,c)=>$(n)&&$(n).length>0?(v(),k("div",u3,[_3,r("div",d3,[W(l3,{msg_list:$(n),onOpen_select_box:c[0]||(c[0]=u=>mt(o)?o.value=!0:o=!0),onChose_item:a},null,8,["msg_list"])])])):(v(),k("div",h3,g3))}},m3=F(p3,[["__scopeId","data-v-361c53b7"]]),v3={class:"scroll_box"},w3={class:"scroll_box_content"},y3={class:"btn_box"},b3=["src"],k3=["src"],x3=["onClick"],$3={__name:"scroll_box_copy",props:{left_btn:{type:String,default:"https://www.sunyuanling.com/assets/left.svg"},right_btn:{type:String,default:"https://www.sunyuanling.com/assets/right.svg"},msg_type:{type:String,default:"image"},msg_list:{type:[Array,Object],default:()=>[]},animationDuration:{type:Number,default:500},scrollDistance:{type:Number,default:400}},emits:["chose_item"],setup(t,{emit:e}){const s=t,n=y(["rgb(126, 183, 200)","rgb(126, 186, 200)","rgb(157, 200, 126)","rgb(200, 126, 170)","rgb(200, 126, 146)","rgb(126, 129, 200)","rgb(167, 126, 200)","rgb(200, 170, 126)","rgb(126, 200, 167)","rgb(126, 200, 129)"]),o=y(null),i=y([]),a=()=>{i.value.forEach((g,w)=>{g.style.backgroundColor=n.value[w%n.value.length]})},l=e,c=g=>{l("chose_item",g)},u=g=>g<.5?2*g*g:-1+(4-2*g)*g,_=(g,w)=>{const f=o.value.scrollLeft,p=performance.now(),m=b=>{const x=b-p,A=Math.min(x/w,1),I=u(A);o.value.scrollLeft=f+g*I,A<1&&requestAnimationFrame(m)};requestAnimationFrame(m)},d=()=>{_(-s.scrollDistance,s.animationDuration)},h=()=>{_(s.scrollDistance,s.animationDuration)};return Q(()=>{i.value=document.querySelectorAll(".tags_item"),fe(()=>{a()}),a()}),(g,w)=>(v(),k("div",v3,[r("div",w3,[r("div",y3,[r("div",{class:"left_btn",onClick:d},[r("img",{src:s.left_btn,class:"icon"},null,8,b3)]),r("div",{class:"right_btn",onClick:h},[r("img",{src:s.right_btn,class:"icon"},null,8,k3)])]),r("div",{class:"list",ref_key:"list",ref:o},[(v(!0),k(Z,null,rt(s.msg_list,(f,p)=>(v(),k("div",{class:"item",key:p},[s.msg_type==="tags"&&f!=""&&f?(v(),k("div",{key:0,class:"tags_item",ref_for:!0,ref_key:"tags_items",ref:i,onClick:m=>c(f)},[r("span",null,S(f),1)],8,x3)):O("",!0)]))),128))],512)])]))}},id=F($3,[["__scopeId","data-v-9f8cdb6f"]]),S3=t=>(et("data-v-ba5721b7"),t=t(),st(),t),T3={key:0,class:"ill_select"},C3={class:"header"},E3={class:"title"},A3={class:"work_count_box"},O3={class:"work_item_list"},I3=["src","onClick"],M3={class:"work_name"},P3={key:1,class:"if_all_none"},L3=S3(()=>r("span",null,"这里空空如也什么也没有",-1)),D3=[L3],R3={__name:"ill_select",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""},userid:{type:String,default:""}},emits:["choose_item"],setup(t,{emit:e}){const s=pt(),n=t;function o(c){s.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",c.work_id),s.commit("SET_WORK_TYPE",c.work_type)}y([]);const i=y([]),a=y([]);function l(){const c=new Set;a.value.forEach(u=>{u.work_tags.split(/[,，]/).forEach(d=>c.add(d.trim()))}),i.value=Array.from(c),console.log(i.value)}return Q(async()=>{a.value=await nd(n.token,n.userid),a.value=a.value.ill||[],console.log(a.value),l()}),(c,u)=>a.value?(v(),k("div",T3,[r("div",C3,[r("h2",E3,[$t("插画作品标签 "),r("div",A3,[r("span",null,S(a.value.length),1)])])]),i.value.length>0?(v(),lt(id,{key:0,msg_list:i.value,msg_type:"tags"},null,8,["msg_list"])):O("",!0),r("div",O3,[(v(!0),k(Z,null,rt(a.value,(_,d)=>(v(),k("div",{class:"work_item",key:d},[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+_.content_file_list.split(/[，,]/)[0],alt:"Work Thumbnail",class:"thumbnail",onClick:h=>o({work_type:"ill",work_id:_.Illustration_id})},null,8,I3),r("span",M3,S(_.name),1)]))),128))])])):(v(),k("div",P3,D3))}},N3=F(R3,[["__scopeId","data-v-ba5721b7"]]),j3=t=>(et("data-v-1d41760a"),t=t(),st(),t),F3={key:0,class:"ill_select"},z3={class:"header"},U3={class:"title"},H3={class:"work_count_box"},B3={class:"work_item_list"},G3=["src","onClick"],W3={class:"work_name"},V3={key:1,class:"if_all_none"},K3=j3(()=>r("span",null,"这里空空如也什么也没有",-1)),Y3=[K3],J3={__name:"novel_select",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""},userid:{type:String,default:""}},emits:["choose_item"],setup(t,{emit:e}){const s=pt(),n=t;function o(c){s.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),s.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),s.commit("SET_WORK_ID",c.work_id),s.commit("SET_WORK_TYPE",c.work_type)}const i=y([]),a=y([]);function l(){const c=new Set;console.log(a.value.work_tags),a.value.forEach(u=>{u.work_tags.split(/[,，]/).forEach(d=>c.add(d.trim()))}),i.value=Array.from(c),console.log(i.value)}return Q(async()=>{a.value=await nd(n.token,n.userid),a.value=a.value.novel||[],console.log(a.value),l()}),(c,u)=>a.value?(v(),k("div",F3,[r("div",z3,[r("h2",U3,[$t("小说作品标签 "),r("div",H3,[r("span",null,S(a.value.length),1)])])]),i.value.length>0?(v(),lt(id,{key:0,msg_list:i.value,msg_type:"tags"},null,8,["msg_list"])):O("",!0),r("div",B3,[(v(!0),k(Z,null,rt(a.value,(_,d)=>(v(),k("div",{class:"work_item",key:d},[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+_.work_cover,alt:"Work Thumbnail",class:"thumbnail",onClick:h=>o({work_type:"novel",work_id:_.work_id})},null,8,G3),r("span",W3,S(_.work_name),1)]))),128))])])):(v(),k("div",V3,Y3))}},q3=F(J3,[["__scopeId","data-v-1d41760a"]]),Pl=t=>(et("data-v-aa1282fb"),t=t(),st(),t),Q3={class:"collect_page"},X3={class:"content"},Z3={class:"is_open"},tD={class:"switch_work_type"},eD=Pl(()=>r("div",{class:"title"},[r("span",null,"作品")],-1)),sD={key:0,class:"collect_list"},nD={key:0,class:"item_box"},oD={class:"work_type"},iD={class:"work_item"},aD=["onClick"],lD=["src"],rD={key:0,class:"age_tag"},cD={class:"age_num"},uD={key:1,class:"work_count"},_D={class:"work_num"},dD=["onClick"],hD=Pl(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/correct.svg"},null,-1)),fD=[hD],gD={class:"work_name"},pD={class:"author_info"},mD={class:"author_avatar"},vD=["src"],wD={class:"author_name"},yD={key:1,class:"if_all_none"},bD=Pl(()=>r("span",null,"这里空空如也什么也没有",-1)),kD=[bD],xD={__name:"collect_page",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""},userid:{type:String,default:""}},setup(t){const e=pt();function s(w){console.log(w),w.work_type=="ill"?(e.commit("SET_CONTENT_PAGE",{key:"ill_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",w.item.workid),e.commit("SET_WORK_TYPE",w.work_type)):w.work_type=="comic"?(e.commit("SET_CONTENT_PAGE",{key:"comic_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",w.item.workid),e.commit("SET_WORK_TYPE",w.work_type)):w.work_type=="novel"&&(e.commit("SET_CONTENT_PAGE",{key:"novel_page",value:!0}),e.commit("SET_SINGLE_PAGE_STATUS",{key:"content_index_page",value:!0}),e.commit("SET_WORK_ID",w.item.workid),e.commit("SET_WORK_TYPE",w.work_type))}const n=t,o=y([]),i=y(1),a=y("all"),l=y(!1),c=y([]);function u(w){const f=c.value.indexOf(w);f>-1?c.value.splice(f,1):c.value.push(w),console.log(c.value)}K(l,()=>{l.value==!1&&(c.value=[])}),Q(async()=>{o.value=await c3(n.token,n.userid),console.log(o.value)});const _=kt(()=>o.value.filter(w=>{const f=w.is_open==i.value,p=a.value==="all"||w.type===a.value;return f&&p}));function d(w){switch(w){case"novel":return"小说";case"ill":return"插画";case"comic":return"漫画";default:return"其他"}}function h(w){const{type:f,work_info:p}=w,m="https://www.sunyuanling.com/image/";return f==="novel"?`${m}novel/thumbnail/${p.work_cover}`:f==="ill"?`${m}thumbnail/${p.content_file_list.split(/[,，]/)[0]}`:f==="comic"?`${m}comic/thumbnail/${p.content_file_list.split(/[，,]/)[0]}`:""}function g(w){const{content_file_list:f}=w.work_info;return f?f.split(/[,，]/).length:0}return(w,f)=>(v(),k("div",Q3,[r("div",X3,[r("div",Z3,[r("div",tD,[r("span",{onClick:f[0]||(f[0]=p=>a.value="all"),class:yt(a.value=="all"?"switch_work_type_choose":"")},"所有作品",2),r("span",{onClick:f[1]||(f[1]=p=>a.value="ill"),class:yt(a.value=="ill"?"switch_work_type_choose":"")},"插画",2),r("span",{onClick:f[2]||(f[2]=p=>a.value="comic"),class:yt(a.value=="comic"?"switch_work_type_choose":"")},"漫画",2),r("span",{onClick:f[3]||(f[3]=p=>a.value="novel"),class:yt(a.value=="novel"?"switch_work_type_choose":"")},"小说",2)])]),eD,_.value.length?(v(),k("div",sD,[(v(!0),k(Z,null,rt(_.value,(p,m)=>(v(),k("div",{class:"collect_item",key:m},[p.work_status==="normal"?(v(),k("div",nD,[r("div",oD,[r("span",null,S(d(p.type)),1)]),r("div",iD,[r("div",{class:"image_container",onClick:b=>s({work_id:p.id,work_type:p.type,item:p})},[r("img",{src:h(p),alt:"作品封面"},null,8,lD),p.work_info.age_classification&&p.work_info.age_classification>18?(v(),k("div",rD,[r("span",cD,S(p.work_info.age_classification),1)])):O("",!0),g(p)>1?(v(),k("div",uD,[r("span",_D,S(g(p)),1)])):O("",!0),l.value?(v(),k("div",{key:2,class:"choose_work_box",onClick:b=>u(p)},[r("div",{class:"choose_box",style:pe({backgroundColor:c.value.includes(p)?"rgba(0,150,250,1)":""})},fD,4)],8,dD)):O("",!0)],8,aD),r("div",gD,[r("span",null,S(p.type==="ill"?p.work_info.name:p.work_info.work_name),1)]),r("div",pD,[r("div",mD,[r("img",{src:"https://www.sunyuanling.com/image/avatar_thumbnail/"+p.authorinfo.user_avatar,alt:"作者头像"},null,8,vD)]),r("div",wD,[r("span",null,S(p.authorinfo.username),1)])])])])):O("",!0)]))),128))])):O("",!0),_.value.length<=1||!_.value?(v(),k("div",yD,kD)):O("",!0)])]))}},$D=F(xD,[["__scopeId","data-v-aa1282fb"]]),SD={key:0,class:"user_select_box"},TD={class:"content"},CD={class:"select_page"},ED={__name:"user_select_box",props:{user_info:{type:Object,default:()=>({})},token:{type:String,default:""},userid:{type:String,default:""}},setup(t){y(JSON.parse(t.user_info.select_work));let s=y(0);return(n,o)=>t.user_info?(v(),k("div",SD,[r("div",TD,[r("div",CD,[r("div",{class:yt(["page_item",$(s)==0?"choose_item":""]),onClick:o[0]||(o[0]=i=>mt(s)?s.value=0:s=0)}," 主页 ",2),r("div",{class:yt(["page_item",$(s)==1?"choose_item":""]),onClick:o[1]||(o[1]=i=>mt(s)?s.value=1:s=1)}," 插画 ",2),r("div",{class:yt(["page_item",$(s)==2?"choose_item":""]),onClick:o[2]||(o[2]=i=>mt(s)?s.value=2:s=2)}," 小说 ",2),r("div",{class:yt(["page_item",$(s)==3?"choose_item":""]),onClick:o[3]||(o[3]=i=>mt(s)?s.value=3:s=3)}," 收藏 ",2)]),$(s)==0?(v(),lt(m3,{key:0,user_info:t.user_info,token:t.token,userid:t.userid},null,8,["user_info","token","userid"])):O("",!0),$(s)==1?(v(),lt(N3,{key:1,user_info:t.user_info,token:t.token,userid:t.userid},null,8,["user_info","token","userid"])):O("",!0),$(s)==2?(v(),lt(q3,{key:2,user_info:t.user_info,token:t.token,userid:t.userid},null,8,["user_info","token","userid"])):O("",!0),$(s)==3?(v(),lt($D,{key:3,user_info:t.user_info,token:t.token,userid:t.userid},null,8,["user_info","token","userid"])):O("",!0)])])):O("",!0)}},AD=F(ED,[["__scopeId","data-v-4cd7936e"]]),OD=t=>(et("data-v-5d75093a"),t=t(),st(),t),ID={class:"go_back"},MD=OD(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/left.svg"},null,-1)),PD=[MD],LD={__name:"go_back",setup(t){const e=pt(),s=y(null);function n(){e.dispatch("goBack").then(()=>{fe(()=>{s.value&&s.value.click()})})}return(o,i)=>(v(),k("div",ID,[r("div",{class:"btn_box",onClick:n,ref_key:"btn_box",ref:s},PD,512)]))}},DD=F(LD,[["__scopeId","data-v-5d75093a"]]),RD={key:0,class:"user_center_page"},ND={class:"content"},jD={__name:"user_center_page",props:{userid:{type:String,default:"10086"},token:{type:String,default:""}},setup(t){const e=t;let s=y();return Q(async()=>{s.value=await q4(e.token,e.userid),s.value=s.value[0],console.log(s.value)}),(n,o)=>(v(),k(Z,null,[$(s)?(v(),k("div",RD,[r("div",ND,[W(eL,{user_back_img:"https://www.sunyuanling.com/image/content_thumbnail/"+($(s).user_back_img?$(s).user_back_img:"20240525174916_f4f4acc7280f4eabb9fc1712929c3ccc.png"),token:t.token},null,8,["user_back_img","token"]),W(ML,{user_info:$(s),token:t.token},null,8,["user_info","token"]),W(AD,{user_info:$(s),token:t.token,userid:t.userid},null,8,["user_info","token","userid"])])])):O("",!0),W(DD)],64))}};async function FD(t,e=null){try{const s=await fetch("https://www.sunyuanling.com/api/data_analysis/GetAllWorkData/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,ago_date:e})});if(s.ok){const n=await s.json();return n.status=="success"?n.data:n.message}else return"网络错误"}catch(s){console.log(s)}}async function zD(t,e=7,s,n){try{const o=await fetch("https://www.sunyuanling.com/api/data_analysis/GetAppointWorkData/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t,ago_date:e,work_id:s,work_type:n})});if(o.ok){const i=await o.json();return i.status=="success"?i.data:i.message}else return"网络错误"}catch(o){console.log(o)}}async function UD(t){try{const e=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/",{method:"post",headers:{Authorization:t,"Content-Type":"application/json"},body:JSON.stringify({token:t})});if(e.ok){const s=await e.json();return s.status=="success"?s.data:s.message}else return"网络错误"}catch(e){console.log(e)}}const Ll=t=>(et("data-v-01f4628c"),t=t(),st(),t),HD={class:"work_list"},BD={class:"content"},GD={class:"category"},WD=Ll(()=>r("h3",null,"插画",-1)),VD=["onClick"],KD=["src"],YD={class:"page_count"},JD={key:0,class:"age_tag"},qD={class:"work_info"},QD={class:"work_name"},XD={class:"category"},ZD=Ll(()=>r("h3",null,"漫画",-1)),tR=["onClick"],eR=["src"],sR={class:"page_count"},nR={key:0,class:"age_tag"},oR={class:"work_info"},iR={class:"work_name"},aR={class:"category"},lR=Ll(()=>r("h3",null,"小说",-1)),rR={class:"work_cover"},cR=["src","onClick"],uR={key:0,class:"age_tag"},_R={class:"work_status"},dR={class:"work_info"},hR={__name:"work_list",props:{work_list:{type:Object,default:()=>({})}},emits:["choose_item"],setup(t,{emit:e}){const s=t;let n=y(s.work_list.ill),o=y(s.work_list.comic),i=y(s.work_list.novel);const a=e;function l(c){a("choose_item",c),console.log(c)}return K(()=>s.work_list,()=>{n.value=s.work_list.ill,o.value=s.work_list.comic,i.value=s.work_list.novel}),(c,u)=>(v(),k("div",HD,[r("div",BD,[r("div",GD,[WD,(v(!0),k(Z,null,rt($(n),(_,d)=>(v(),k("div",{class:"item",key:d},[r("div",{class:"item_img",onClick:h=>l({work_id:_.Illustration_id,work_type:"ill"})},[r("img",{src:"https://www.sunyuanling.com/image/thumbnail/"+_.content_file_list.split(/[,，]/)[0]},null,8,KD),r("div",YD,[r("span",null,S(_.content_file_list.split(/[,，]/).length),1)]),_.age_classification>=18?(v(),k("div",JD,[r("span",null,"R-"+S(_.age_classification),1)])):O("",!0)],8,VD),r("div",qD,[r("div",QD,S(_.name),1)])]))),128))]),r("div",XD,[ZD,(v(!0),k(Z,null,rt($(o),(_,d)=>(v(),k("div",{class:"item",key:d},[r("div",{class:"item_img",onClick:h=>l({work_id:_.id,work_type:"comic"})},[r("img",{src:"https://www.sunyuanling.com/image/comic/thumbnail/"+_.content_file_list.split(/[,，]/)[0]},null,8,eR),r("div",sR,[r("span",null,S(_.content_file_list.split(/[,，]/).length),1)]),_.age_classification>=18?(v(),k("div",nR,[r("span",null,"R-"+S(_.age_classification),1)])):O("",!0)],8,tR),r("div",oR,[r("div",iR,S(_.work_name),1)])]))),128))]),r("div",aR,[lR,(v(!0),k(Z,null,rt($(i),(_,d)=>(v(),k("div",{class:"item",key:d},[r("div",rR,[r("img",{src:"https://www.sunyuanling.com/image/novel/thumbnail/"+_.work_cover,onClick:h=>l({work_id:_.work_id,work_type:"novel"})},null,8,cR),_.age_classification>=18?(v(),k("div",uR,S(_.age_classification),1)):O("",!0),r("div",_R,[r("span",null,S(_.work_status),1)])]),r("div",dR,[r("span",null,S(_.work_name),1)])]))),128))])])]))}},fR=F(hR,[["__scopeId","data-v-01f4628c"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function wo(t){return t+.5|0}const ds=(t,e,s)=>Math.max(Math.min(t,s),e);function Rn(t){return ds(wo(t*2.55),0,255)}function ps(t){return ds(wo(t*255),0,255)}function Ye(t){return ds(wo(t/2.55)/100,0,1)}function tc(t){return ds(wo(t*100),0,100)}const be={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fa=[..."0123456789ABCDEF"],gR=t=>Fa[t&15],pR=t=>Fa[(t&240)>>4]+Fa[t&15],Ao=t=>(t&240)>>4===(t&15),mR=t=>Ao(t.r)&&Ao(t.g)&&Ao(t.b)&&Ao(t.a);function vR(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&be[t[1]]*17,g:255&be[t[2]]*17,b:255&be[t[3]]*17,a:e===5?be[t[4]]*17:255}:(e===7||e===9)&&(s={r:be[t[1]]<<4|be[t[2]],g:be[t[3]]<<4|be[t[4]],b:be[t[5]]<<4|be[t[6]],a:e===9?be[t[7]]<<4|be[t[8]]:255})),s}const wR=(t,e)=>t<255?e(t):"";function yR(t){var e=mR(t)?gR:pR;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wR(t.a,e):void 0}const bR=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ad(t,e,s){const n=e*Math.min(s,1-s),o=(i,a=(i+t/30)%12)=>s-n*Math.max(Math.min(a-3,9-a,1),-1);return[o(0),o(8),o(4)]}function kR(t,e,s){const n=(o,i=(o+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function xR(t,e,s){const n=ad(t,1,.5);let o;for(e+s>1&&(o=1/(e+s),e*=o,s*=o),o=0;o<3;o++)n[o]*=1-e-s,n[o]+=e;return n}function $R(t,e,s,n,o){return t===o?(e-s)/n+(e<s?6:0):e===o?(s-t)/n+2:(t-e)/n+4}function Dl(t){const s=t.r/255,n=t.g/255,o=t.b/255,i=Math.max(s,n,o),a=Math.min(s,n,o),l=(i+a)/2;let c,u,_;return i!==a&&(_=i-a,u=l>.5?_/(2-i-a):_/(i+a),c=$R(s,n,o,_,i),c=c*60+.5),[c|0,u||0,l]}function Rl(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(ps)}function Nl(t,e,s){return Rl(ad,t,e,s)}function SR(t,e,s){return Rl(xR,t,e,s)}function TR(t,e,s){return Rl(kR,t,e,s)}function ld(t){return(t%360+360)%360}function CR(t){const e=bR.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Rn(+e[5]):ps(+e[5]));const o=ld(+e[2]),i=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=SR(o,i,a):e[1]==="hsv"?n=TR(o,i,a):n=Nl(o,i,a),{r:n[0],g:n[1],b:n[2],a:s}}function ER(t,e){var s=Dl(t);s[0]=ld(s[0]+e),s=Nl(s),t.r=s[0],t.g=s[1],t.b=s[2]}function AR(t){if(!t)return;const e=Dl(t),s=e[0],n=tc(e[1]),o=tc(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${o}%, ${Ye(t.a)})`:`hsl(${s}, ${n}%, ${o}%)`}const ec={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},sc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function OR(){const t={},e=Object.keys(sc),s=Object.keys(ec);let n,o,i,a,l;for(n=0;n<e.length;n++){for(a=l=e[n],o=0;o<s.length;o++)i=s[o],l=l.replace(i,ec[i]);i=parseInt(sc[a],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Oo;function IR(t){Oo||(Oo=OR(),Oo.transparent=[0,0,0,0]);const e=Oo[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const MR=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function PR(t){const e=MR.exec(t);let s=255,n,o,i;if(e){if(e[7]!==n){const a=+e[7];s=e[8]?Rn(a):ds(a*255,0,255)}return n=+e[1],o=+e[3],i=+e[5],n=255&(e[2]?Rn(n):ds(n,0,255)),o=255&(e[4]?Rn(o):ds(o,0,255)),i=255&(e[6]?Rn(i):ds(i,0,255)),{r:n,g:o,b:i,a:s}}}function LR(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ye(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const aa=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,nn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function DR(t,e,s){const n=nn(Ye(t.r)),o=nn(Ye(t.g)),i=nn(Ye(t.b));return{r:ps(aa(n+s*(nn(Ye(e.r))-n))),g:ps(aa(o+s*(nn(Ye(e.g))-o))),b:ps(aa(i+s*(nn(Ye(e.b))-i))),a:t.a+s*(e.a-t.a)}}function Io(t,e,s){if(t){let n=Dl(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Nl(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function rd(t,e){return t&&Object.assign(e||{},t)}function nc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ps(t[3]))):(e=rd(t,{r:0,g:0,b:0,a:1}),e.a=ps(e.a)),e}function RR(t){return t.charAt(0)==="r"?PR(t):CR(t)}class lo{constructor(e){if(e instanceof lo)return e;const s=typeof e;let n;s==="object"?n=nc(e):s==="string"&&(n=vR(e)||IR(e)||RR(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=rd(this._rgb);return e&&(e.a=Ye(e.a)),e}set rgb(e){this._rgb=nc(e)}rgbString(){return this._valid?LR(this._rgb):void 0}hexString(){return this._valid?yR(this._rgb):void 0}hslString(){return this._valid?AR(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,o=e.rgb;let i;const a=s===i?.5:s,l=2*a-1,c=n.a-o.a,u=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-u,n.r=255&u*n.r+i*o.r+.5,n.g=255&u*n.g+i*o.g+.5,n.b=255&u*n.b+i*o.b+.5,n.a=a*n.a+(1-a)*o.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=DR(this._rgb,e._rgb,s)),this}clone(){return new lo(this.rgb)}alpha(e){return this._rgb.a=ps(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=wo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Io(this._rgb,2,e),this}darken(e){return Io(this._rgb,2,-e),this}saturate(e){return Io(this._rgb,1,e),this}desaturate(e){return Io(this._rgb,1,-e),this}rotate(e){return ER(this._rgb,e),this}}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function We(){}const NR=(()=>{let t=0;return()=>t++})();function Ot(t){return t===null||typeof t>"u"}function Wt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ct(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Te(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function je(t,e){return Te(t)?t:e}function Et(t,e){return typeof t>"u"?e:t}const jR=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Mt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function At(t,e,s,n){let o,i,a;if(Wt(t))for(i=t.length,o=0;o<i;o++)e.call(s,t[o],o);else if(Ct(t))for(a=Object.keys(t),i=a.length,o=0;o<i;o++)e.call(s,t[a[o]],a[o])}function _i(t,e){let s,n,o,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(o=t[s],i=e[s],o.datasetIndex!==i.datasetIndex||o.index!==i.index)return!1;return!0}function di(t){if(Wt(t))return t.map(di);if(Ct(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let o=0;for(;o<n;++o)e[s[o]]=di(t[s[o]]);return e}return t}function cd(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function FR(t,e,s,n){if(!cd(t))return;const o=e[t],i=s[t];Ct(o)&&Ct(i)?Ge(o,i,n):e[t]=di(i)}function Ge(t,e,s){const n=Wt(e)?e:[e],o=n.length;if(!Ct(t))return t;s=s||{};const i=s.merger||FR;let a;for(let l=0;l<o;++l){if(a=n[l],!Ct(a))continue;const c=Object.keys(a);for(let u=0,_=c.length;u<_;++u)i(c[u],t,a,s)}return t}function Kn(t,e){return Ge(t,e,{merger:zR})}function zR(t,e,s){if(!cd(t))return;const n=e[t],o=s[t];Ct(n)&&Ct(o)?Kn(n,o):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=di(o))}const oc={"":t=>t,x:t=>t.x,y:t=>t.y};function UR(t){const e=t.split("."),s=[];let n="";for(const o of e)n+=o,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function HR(t){const e=UR(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function pn(t,e){return(oc[e]||(oc[e]=HR(e)))(t)}function jl(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ro=t=>typeof t<"u",bs=t=>typeof t=="function",ic=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function BR(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Yt=Math.PI,oe=2*Yt,hi=Number.POSITIVE_INFINITY,GR=Yt/180,qt=Yt/2,Ms=Yt/4,ac=Yt*2/3,za=Math.log10,ms=Math.sign;function Xo(t,e,s){return Math.abs(t-e)<s}function lc(t){const e=Math.round(t);t=Xo(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(za(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function WR(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((o,i)=>o-i).pop(),e}function fi(t){return!isNaN(parseFloat(t))&&isFinite(t)}function VR(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function KR(t,e,s){let n,o,i;for(n=0,o=t.length;n<o;n++)i=t[n][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function Us(t){return t*(Yt/180)}function YR(t){return t*(180/Yt)}function rc(t){if(!Te(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function ud(t,e){const s=e.x-t.x,n=e.y-t.y,o=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*Yt&&(i+=oe),{angle:i,distance:o}}function JR(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ps(t){return(t%oe+oe)%oe}function _d(t,e,s,n){const o=Ps(t),i=Ps(e),a=Ps(s),l=Ps(i-o),c=Ps(a-o),u=Ps(o-i),_=Ps(o-a);return o===i||o===a||n&&i===a||l>c&&u<_}function ce(t,e,s){return Math.max(e,Math.min(s,t))}function qR(t){return ce(t,-32768,32767)}function Hs(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Fl(t,e,s){s=s||(a=>t[a]<e);let n=t.length-1,o=0,i;for(;n-o>1;)i=o+n>>1,s(i)?o=i:n=i;return{lo:o,hi:n}}const Ua=(t,e,s,n)=>Fl(t,s,n?o=>{const i=t[o][e];return i<s||i===s&&t[o+1][e]===s}:o=>t[o][e]<s),QR=(t,e,s)=>Fl(t,s,n=>t[n][e]>=s);function XR(t,e,s){let n=0,o=t.length;for(;n<o&&t[n]<e;)n++;for(;o>n&&t[o-1]>s;)o--;return n>0||o<t.length?t.slice(n,o):t}const dd=["push","pop","shift","splice","unshift"];function ZR(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),dd.forEach(s=>{const n="_onData"+jl(s),o=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const a=o.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[n]=="function"&&l[n](...i)}),a}})})}function cc(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,o=n.indexOf(e);o!==-1&&n.splice(o,1),!(n.length>0)&&(dd.forEach(i=>{delete t[i]}),delete t._chartjs)}function hd(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const fd=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function gd(t,e){let s=[],n=!1;return function(...o){s=o,n||(n=!0,fd.call(window,()=>{n=!1,t.apply(e,s)}))}}function tN(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const zl=t=>t==="start"?"left":t==="end"?"right":"center",Zt=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,eN=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e,Mo=t=>t===0||t===1,uc=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*oe/s)),_c=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*oe/s)+1,Yn={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*qt)+1,easeOutSine:t=>Math.sin(t*qt),easeInOutSine:t=>-.5*(Math.cos(Yt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Mo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Mo(t)?t:uc(t,.075,.3),easeOutElastic:t=>Mo(t)?t:_c(t,.075,.3),easeInOutElastic(t){return Mo(t)?t:t<.5?.5*uc(t*2,.1125,.45):.5+.5*_c(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Yn.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Yn.easeInBounce(t*2)*.5:Yn.easeOutBounce(t*2-1)*.5+.5};function pd(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dc(t){return pd(t)?t:new lo(t)}function la(t){return pd(t)?t:new lo(t).saturate(.5).darken(.1).hexString()}const sN=["x","y","borderWidth","radius","tension"],nN=["color","borderColor","backgroundColor"];function oN(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nN},numbers:{type:"number",properties:sN}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function iN(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hc=new Map;function aN(t,e){e=e||{};const s=t+JSON.stringify(e);let n=hc.get(s);return n||(n=new Intl.NumberFormat(t,e),hc.set(s,n)),n}function md(t,e,s){return aN(e,s).format(t)}const vd={values(t){return Wt(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let o,i=t;if(s.length>1){const u=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(u<1e-4||u>1e15)&&(o="scientific"),i=lN(t,s)}const a=za(Math.abs(i)),l=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:o,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),md(t,n,c)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(za(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?vd.numeric.call(this,t,e,s):""}};function lN(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var wd={formatters:vd};function rN(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:wd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Vs=Object.create(null),Ha=Object.create(null);function Jn(t,e){if(!e)return t;const s=e.split(".");for(let n=0,o=s.length;n<o;++n){const i=s[n];t=t[i]||(t[i]=Object.create(null))}return t}function ra(t,e,s){return typeof e=="string"?Ge(Jn(t,e),s):Ge(Jn(t,""),e)}class cN{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,o)=>la(o.backgroundColor),this.hoverBorderColor=(n,o)=>la(o.borderColor),this.hoverColor=(n,o)=>la(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return ra(this,e,s)}get(e){return Jn(this,e)}describe(e,s){return ra(Ha,e,s)}override(e,s){return ra(Vs,e,s)}route(e,s,n,o){const i=Jn(this,e),a=Jn(this,n),l="_"+s;Object.defineProperties(i,{[l]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const c=this[l],u=a[o];return Ct(c)?Object.assign({},u,c):Et(c,u)},set(c){this[l]=c}}})}apply(e){e.forEach(s=>s(this))}}var zt=new cN({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oN,iN,rN]);function uN(t){return!t||Ot(t.size)||Ot(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function fc(t,e,s,n,o){let i=e[o];return i||(i=e[o]=t.measureText(o).width,s.push(o)),i>n&&(n=i),n}function Ls(t,e,s){const n=t.currentDevicePixelRatio,o=s!==0?Math.max(s/2,.5):0;return Math.round((e-o)*n)/n+o}function gc(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Ba(t,e,s,n){yd(t,e,s,n,null)}function yd(t,e,s,n,o){let i,a,l,c,u,_,d,h;const g=e.pointStyle,w=e.rotation,f=e.radius;let p=(w||0)*GR;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(p),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(f)||f<=0)){switch(t.beginPath(),g){default:o?t.ellipse(s,n,o/2,f,0,0,oe):t.arc(s,n,f,0,oe),t.closePath();break;case"triangle":_=o?o/2:f,t.moveTo(s+Math.sin(p)*_,n-Math.cos(p)*f),p+=ac,t.lineTo(s+Math.sin(p)*_,n-Math.cos(p)*f),p+=ac,t.lineTo(s+Math.sin(p)*_,n-Math.cos(p)*f),t.closePath();break;case"rectRounded":u=f*.516,c=f-u,a=Math.cos(p+Ms)*c,d=Math.cos(p+Ms)*(o?o/2-u:c),l=Math.sin(p+Ms)*c,h=Math.sin(p+Ms)*(o?o/2-u:c),t.arc(s-d,n-l,u,p-Yt,p-qt),t.arc(s+h,n-a,u,p-qt,p),t.arc(s+d,n+l,u,p,p+qt),t.arc(s-h,n+a,u,p+qt,p+Yt),t.closePath();break;case"rect":if(!w){c=Math.SQRT1_2*f,_=o?o/2:c,t.rect(s-_,n-c,2*_,2*c);break}p+=Ms;case"rectRot":d=Math.cos(p)*(o?o/2:f),a=Math.cos(p)*f,l=Math.sin(p)*f,h=Math.sin(p)*(o?o/2:f),t.moveTo(s-d,n-l),t.lineTo(s+h,n-a),t.lineTo(s+d,n+l),t.lineTo(s-h,n+a),t.closePath();break;case"crossRot":p+=Ms;case"cross":d=Math.cos(p)*(o?o/2:f),a=Math.cos(p)*f,l=Math.sin(p)*f,h=Math.sin(p)*(o?o/2:f),t.moveTo(s-d,n-l),t.lineTo(s+d,n+l),t.moveTo(s+h,n-a),t.lineTo(s-h,n+a);break;case"star":d=Math.cos(p)*(o?o/2:f),a=Math.cos(p)*f,l=Math.sin(p)*f,h=Math.sin(p)*(o?o/2:f),t.moveTo(s-d,n-l),t.lineTo(s+d,n+l),t.moveTo(s+h,n-a),t.lineTo(s-h,n+a),p+=Ms,d=Math.cos(p)*(o?o/2:f),a=Math.cos(p)*f,l=Math.sin(p)*f,h=Math.sin(p)*(o?o/2:f),t.moveTo(s-d,n-l),t.lineTo(s+d,n+l),t.moveTo(s+h,n-a),t.lineTo(s-h,n+a);break;case"line":a=o?o/2:Math.cos(p)*f,l=Math.sin(p)*f,t.moveTo(s-a,n-l),t.lineTo(s+a,n+l);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(p)*(o?o/2:f),n+Math.sin(p)*f);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ul(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function Hl(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Bl(t){t.restore()}function _N(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ot(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function dN(t,e,s,n,o){if(o.strikethrough||o.underline){const i=t.measureText(n),a=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=s-i.actualBoundingBoxAscent,u=s+i.actualBoundingBoxDescent,_=o.strikethrough?(c+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=o.decorationWidth||2,t.moveTo(a,_),t.lineTo(l,_),t.stroke()}}function hN(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function co(t,e,s,n,o,i={}){const a=Wt(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,u;for(t.save(),t.font=o.string,_N(t,i),c=0;c<a.length;++c)u=a[c],i.backdrop&&hN(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Ot(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(u,s,n,i.maxWidth)),t.fillText(u,s,n,i.maxWidth),dN(t,s,n,u,i),n+=Number(o.lineHeight);t.restore()}function gi(t,e){const{x:s,y:n,w:o,h:i,radius:a}=e;t.arc(s+a.topLeft,n+a.topLeft,a.topLeft,1.5*Yt,Yt,!0),t.lineTo(s,n+i-a.bottomLeft),t.arc(s+a.bottomLeft,n+i-a.bottomLeft,a.bottomLeft,Yt,qt,!0),t.lineTo(s+o-a.bottomRight,n+i),t.arc(s+o-a.bottomRight,n+i-a.bottomRight,a.bottomRight,qt,0,!0),t.lineTo(s+o,n+a.topRight),t.arc(s+o-a.topRight,n+a.topRight,a.topRight,0,-qt,!0),t.lineTo(s+a.topLeft,n)}const fN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function pN(t,e){const s=(""+t).match(fN);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const mN=t=>+t||0;function Gl(t,e){const s={},n=Ct(e),o=n?Object.keys(e):e,i=Ct(t)?n?a=>Et(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of o)s[a]=mN(i(a));return s}function bd(t){return Gl(t,{top:"y",right:"x",bottom:"y",left:"x"})}function un(t){return Gl(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ge(t){const e=bd(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qt(t,e){t=t||{},e=e||zt.font;let s=Et(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Et(t.style,e.style);n&&!(""+n).match(gN)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const o={family:Et(t.family,e.family),lineHeight:pN(Et(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Et(t.weight,e.weight),string:""};return o.string=uN(o),o}function Ft(t,e,s,n){let o,i,a;for(o=0,i=t.length;o<i;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e)),s!==void 0&&Wt(a)&&(a=a[s%a.length]),a!==void 0))return a}function vN(t,e,s){const{min:n,max:o}=t,i=jR(e,(o-n)/2),a=(l,c)=>s&&l===0?0:l+c;return{min:a(n,-Math.abs(i)),max:a(o,i)}}function kn(t,e){return Object.assign(Object.create(t),e)}function Wl(t,e=[""],s,n,o=()=>t[0]){const i=s||t;typeof n>"u"&&(n=Sd("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:o,override:l=>Wl([l,...t],e,i,n)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return xd(l,c,()=>TN(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return mc(l).includes(c)},ownKeys(l){return mc(l)},set(l,c,u){const _=l._storage||(l._storage=o());return l[c]=_[c]=u,delete l._keys,!0}})}function mn(t,e,s,n){const o={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:kd(t,n),setContext:i=>mn(t,i,s,n),override:i=>mn(t.override(i),e,s,n)};return new Proxy(o,{deleteProperty(i,a){return delete i[a],delete t[a],!0},get(i,a,l){return xd(i,a,()=>yN(i,a,l))},getOwnPropertyDescriptor(i,a){return i._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(i,a,l){return t[a]=l,delete i[a],!0}})}function kd(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:o=e.allKeys}=t;return{allKeys:o,scriptable:s,indexable:n,isScriptable:bs(s)?s:()=>s,isIndexable:bs(n)?n:()=>n}}const wN=(t,e)=>t?t+jl(e):e,Vl=(t,e)=>Ct(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xd(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function yN(t,e,s){const{_proxy:n,_context:o,_subProxy:i,_descriptors:a}=t;let l=n[e];return bs(l)&&a.isScriptable(e)&&(l=bN(e,l,t,s)),Wt(l)&&l.length&&(l=kN(e,l,t,a.isIndexable)),Vl(e,l)&&(l=mn(l,o,i&&i[e],a)),l}function bN(t,e,s,n){const{_proxy:o,_context:i,_subProxy:a,_stack:l}=s;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,a||n);return l.delete(t),Vl(t,c)&&(c=Kl(o._scopes,o,t,c)),c}function kN(t,e,s,n){const{_proxy:o,_context:i,_subProxy:a,_descriptors:l}=s;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(Ct(e[0])){const c=e,u=o._scopes.filter(_=>_!==c);e=[];for(const _ of c){const d=Kl(u,o,t,_);e.push(mn(d,i,a&&a[t],l))}}return e}function $d(t,e,s){return bs(t)?t(e,s):t}const xN=(t,e)=>t===!0?e:typeof t=="string"?pn(e,t):void 0;function $N(t,e,s,n,o){for(const i of e){const a=xN(s,i);if(a){t.add(a);const l=$d(a._fallback,s,o);if(typeof l<"u"&&l!==s&&l!==n)return l}else if(a===!1&&typeof n<"u"&&s!==n)return null}return!1}function Kl(t,e,s,n){const o=e._rootScopes,i=$d(e._fallback,s,n),a=[...t,...o],l=new Set;l.add(n);let c=pc(l,a,s,i||s,n);return c===null||typeof i<"u"&&i!==s&&(c=pc(l,a,i,c,n),c===null)?!1:Wl(Array.from(l),[""],o,i,()=>SN(e,s,n))}function pc(t,e,s,n,o){for(;s;)s=$N(t,e,s,n,o);return s}function SN(t,e,s){const n=t._getTarget();e in n||(n[e]={});const o=n[e];return Wt(o)&&Ct(s)?s:o||{}}function TN(t,e,s,n){let o;for(const i of e)if(o=Sd(wN(i,t),s),typeof o<"u")return Vl(t,o)?Kl(s,n,t,o):o}function Sd(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function mc(t){let e=t._keys;return e||(e=t._keys=CN(t._scopes)),e}function CN(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(o=>!o.startsWith("_")))e.add(n);return Array.from(e)}function Yl(){return typeof window<"u"&&typeof document<"u"}function Jl(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pi(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Gi=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function EN(t,e){return Gi(t).getPropertyValue(e)}const AN=["top","right","bottom","left"];function Ws(t,e,s){const n={};s=s?"-"+s:"";for(let o=0;o<4;o++){const i=AN[o];n[i]=parseFloat(t[e+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const ON=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function IN(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:o,offsetY:i}=n;let a=!1,l,c;if(ON(o,i,t.target))l=o,c=i;else{const u=e.getBoundingClientRect();l=n.clientX-u.left,c=n.clientY-u.top,a=!0}return{x:l,y:c,box:a}}function Ns(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,o=Gi(s),i=o.boxSizing==="border-box",a=Ws(o,"padding"),l=Ws(o,"border","width"),{x:c,y:u,box:_}=IN(t,s),d=a.left+(_&&l.left),h=a.top+(_&&l.top);let{width:g,height:w}=e;return i&&(g-=a.width+l.width,w-=a.height+l.height),{x:Math.round((c-d)/g*s.width/n),y:Math.round((u-h)/w*s.height/n)}}function MN(t,e,s){let n,o;if(e===void 0||s===void 0){const i=t&&Jl(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const a=i.getBoundingClientRect(),l=Gi(i),c=Ws(l,"border","width"),u=Ws(l,"padding");e=a.width-u.width-c.width,s=a.height-u.height-c.height,n=pi(l.maxWidth,i,"clientWidth"),o=pi(l.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:n||hi,maxHeight:o||hi}}const Po=t=>Math.round(t*10)/10;function PN(t,e,s,n){const o=Gi(t),i=Ws(o,"margin"),a=pi(o.maxWidth,t,"clientWidth")||hi,l=pi(o.maxHeight,t,"clientHeight")||hi,c=MN(t,e,s);let{width:u,height:_}=c;if(o.boxSizing==="content-box"){const h=Ws(o,"border","width"),g=Ws(o,"padding");u-=g.width+h.width,_-=g.height+h.height}return u=Math.max(0,u-i.width),_=Math.max(0,n?u/n:_-i.height),u=Po(Math.min(u,a,c.maxWidth)),_=Po(Math.min(_,l,c.maxHeight)),u&&!_&&(_=Po(u/2)),(e!==void 0||s!==void 0)&&n&&c.height&&_>c.height&&(_=c.height,u=Po(Math.floor(_*n))),{width:u,height:_}}function vc(t,e,s){const n=e||1,o=Math.floor(t.height*n),i=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(s||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==o||a.width!==i?(t.currentDevicePixelRatio=n,a.height=o,a.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const LN=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Yl()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function wc(t,e){const s=EN(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const DN=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},RN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function _n(t,e,s){return t?DN(e,s):RN()}function Td(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Cd(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.3
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class NN{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,o){const i=s.listeners[o],a=s.duration;i.forEach(l=>l({chart:e,initial:s.initial,numSteps:a,currentStep:Math.min(n-s.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=fd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,o)=>{if(!n.running||!n.items.length)return;const i=n.items;let a=i.length-1,l=!1,c;for(;a>=0;--a)c=i[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(e),l=!0):(i[a]=i[i.length-1],i.pop());l&&(o.draw(),this._notify(o,n,e,"progress")),i.length||(n.running=!1,this._notify(o,n,e,"complete"),n.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,o)=>Math.max(n,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let o=n.length-1;for(;o>=0;--o)n[o].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ve=new NN;const yc="transparent",jN={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=dc(t||yc),o=n.valid&&dc(e||yc);return o&&o.valid?o.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class FN{constructor(e,s,n,o){const i=s[n];o=Ft([e.to,o,i,e.from]);const a=Ft([e.from,i,o]);this._active=!0,this._fn=e.fn||jN[e.type||typeof a],this._easing=Yn[e.easing]||Yn.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=a,this._to=o,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const o=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ft([e.to,s,o,e.from]),this._from=Ft([e.from,o,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,o=this._prop,i=this._from,a=this._loop,l=this._to;let c;if(this._active=i!==l&&(a||s<n),!this._active){this._target[o]=l,this._notify(!0);return}if(s<0){this._target[o]=i;return}c=s/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[o]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let o=0;o<n.length;o++)n[o][s]()}}class Ed{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!Ct(e))return;const s=Object.keys(zt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const i=e[o];if(!Ct(i))return;const a={};for(const l of s)a[l]=i[l];(Wt(i.properties)&&i.properties||[o]).forEach(l=>{(l===o||!n.has(l))&&n.set(l,a)})})}_animateOptions(e,s){const n=s.options,o=UN(e,n);if(!o)return[];const i=this._createAnimations(o,n);return n.$shared&&zN(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,s){const n=this._properties,o=[],i=e.$animations||(e.$animations={}),a=Object.keys(s),l=Date.now();let c;for(c=a.length-1;c>=0;--c){const u=a[c];if(u.charAt(0)==="$")continue;if(u==="options"){o.push(...this._animateOptions(e,s));continue}const _=s[u];let d=i[u];const h=n.get(u);if(d)if(h&&d.active()){d.update(h,_,l);continue}else d.cancel();if(!h||!h.duration){e[u]=_;continue}i[u]=d=new FN(h,e,u,_),o.push(d)}return o}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Ve.add(this._chart,n),!0}}function zN(t,e){const s=[],n=Object.keys(e);for(let o=0;o<n.length;o++){const i=t[n[o]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function UN(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function bc(t,e){const s=t&&t.options||{},n=s.reverse,o=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:n?i:o,end:n?o:i}}function HN(t,e,s){if(s===!1)return!1;const n=bc(t,s),o=bc(e,s);return{top:o.end,right:n.end,bottom:o.start,left:n.start}}function BN(t){let e,s,n,o;return Ct(t)?(e=t.top,s=t.right,n=t.bottom,o=t.left):e=s=n=o=t,{top:e,right:s,bottom:n,left:o,disabled:t===!1}}function Ad(t,e){const s=[],n=t._getSortedDatasetMetas(e);let o,i;for(o=0,i=n.length;o<i;++o)s.push(n[o].index);return s}function kc(t,e,s,n={}){const o=t.keys,i=n.mode==="single";let a,l,c,u;if(e!==null){for(a=0,l=o.length;a<l;++a){if(c=+o[a],c===s){if(n.all)continue;break}u=t.values[c],Te(u)&&(i||e===0||ms(e)===ms(u))&&(e+=u)}return e}}function GN(t,e){const{iScale:s,vScale:n}=e,o=s.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",a=Object.keys(t),l=new Array(a.length);let c,u,_;for(c=0,u=a.length;c<u;++c)_=a[c],l[c]={[o]:_,[i]:t[_]};return l}function xc(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function WN(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function VN(t){const{min:e,max:s,minDefined:n,maxDefined:o}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:o?s:Number.POSITIVE_INFINITY}}function KN(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function $c(t,e,s,n){for(const o of e.getMatchingVisibleMetas(n).reverse()){const i=t[o.index];if(s&&i>0||!s&&i<0)return o.index}return null}function Sc(t,e){const{chart:s,_cachedMeta:n}=t,o=s._stacks||(s._stacks={}),{iScale:i,vScale:a,index:l}=n,c=i.axis,u=a.axis,_=WN(i,a,n),d=e.length;let h;for(let g=0;g<d;++g){const w=e[g],{[c]:f,[u]:p}=w,m=w._stacks||(w._stacks={});h=m[u]=KN(o,_,f),h[l]=p,h._top=$c(h,a,!0,n.type),h._bottom=$c(h,a,!1,n.type);const b=h._visualValues||(h._visualValues={});b[l]=p}}function ca(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function YN(t,e){return kn(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function JN(t,e,s){return kn(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function An(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const o of e){const i=o._stacks;if(!i||i[n]===void 0||i[n][s]===void 0)return;delete i[n][s],i[n]._visualValues!==void 0&&i[n]._visualValues[s]!==void 0&&delete i[n]._visualValues[s]}}}const ua=t=>t==="reset"||t==="none",Tc=(t,e)=>e?t:Object.assign({},t),qN=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Ad(s,!0),values:null};class qn{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&An(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),o=(d,h,g,w)=>d==="x"?h:d==="r"?w:g,i=s.xAxisID=Et(n.xAxisID,ca(e,"x")),a=s.yAxisID=Et(n.yAxisID,ca(e,"y")),l=s.rAxisID=Et(n.rAxisID,ca(e,"r")),c=s.indexAxis,u=s.iAxisID=o(c,i,a,l),_=s.vAxisID=o(c,a,i,l);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(a),s.rScale=this.getScaleForId(l),s.iScale=this.getScaleForId(u),s.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&cc(this._data,this),e._stacked&&An(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(Ct(s)){const o=this._cachedMeta;this._data=GN(s,o)}else if(n!==s){if(n){cc(n,this);const o=this._cachedMeta;An(o),o._parsed=[]}s&&Object.isExtensible(s)&&ZR(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let o=!1;this._dataCheck();const i=s._stacked;s._stacked=xc(s.vScale,s),s.stack!==n.stack&&(o=!0,An(s),s.stack=n.stack),this._resyncElements(e),(o||i!==s._stacked)&&Sc(this,s._parsed)}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:o}=this,{iScale:i,_stacked:a}=n,l=i.axis;let c=e===0&&s===o.length?!0:n._sorted,u=e>0&&n._parsed[e-1],_,d,h;if(this._parsing===!1)n._parsed=o,n._sorted=!0,h=o;else{Wt(o[e])?h=this.parseArrayData(n,o,e,s):Ct(o[e])?h=this.parseObjectData(n,o,e,s):h=this.parsePrimitiveData(n,o,e,s);const g=()=>d[l]===null||u&&d[l]<u[l];for(_=0;_<s;++_)n._parsed[_+e]=d=h[_],c&&(g()&&(c=!1),u=d);n._sorted=c}a&&Sc(this,h)}parsePrimitiveData(e,s,n,o){const{iScale:i,vScale:a}=e,l=i.axis,c=a.axis,u=i.getLabels(),_=i===a,d=new Array(o);let h,g,w;for(h=0,g=o;h<g;++h)w=h+n,d[h]={[l]:_||i.parse(u[w],w),[c]:a.parse(s[w],w)};return d}parseArrayData(e,s,n,o){const{xScale:i,yScale:a}=e,l=new Array(o);let c,u,_,d;for(c=0,u=o;c<u;++c)_=c+n,d=s[_],l[c]={x:i.parse(d[0],_),y:a.parse(d[1],_)};return l}parseObjectData(e,s,n,o){const{xScale:i,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o);let _,d,h,g;for(_=0,d=o;_<d;++_)h=_+n,g=s[h],u[_]={x:i.parse(pn(g,l),h),y:a.parse(pn(g,c),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const o=this.chart,i=this._cachedMeta,a=s[e.axis],l={keys:Ad(o,!0),values:s._stacks[e.axis]._visualValues};return kc(l,a,i.index,{mode:n})}updateRangeFromParsed(e,s,n,o){const i=n[s.axis];let a=i===null?NaN:i;const l=o&&n._stacks[s.axis];o&&l&&(o.values=l,a=kc(o,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,s){const n=this._cachedMeta,o=n._parsed,i=n._sorted&&e===n.iScale,a=o.length,l=this._getOtherScale(e),c=qN(s,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:d}=VN(l);let h,g;function w(){g=o[h];const f=g[l.axis];return!Te(g[e.axis])||_>f||d<f}for(h=0;h<a&&!(!w()&&(this.updateRangeFromParsed(u,e,g,c),i));++h);if(i){for(h=a-1;h>=0;--h)if(!w()){this.updateRangeFromParsed(u,e,g,c);break}}return u}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let o,i,a;for(o=0,i=s.length;o<i;++o)a=s[o][e.axis],Te(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,o=s.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:o?""+o.getLabelForValue(i[o.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=BN(Et(this.options.clip,HN(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,o=n.data||[],i=s.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop;let _;for(n.dataset&&n.dataset.draw(e,i,l,c),_=l;_<l+c;++_){const d=o[_];d.hidden||(d.active&&u?a.push(d):d.draw(e,i))}for(_=0;_<a.length;++_)a[_].draw(e,i)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const o=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];i=a.$context||(a.$context=JN(this.getContext(),e,a)),i.parsed=this.getParsed(e),i.raw=o.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=YN(this.chart.getContext(),this.index)),i.dataset=o,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const o=s==="active",i=this._cachedDataOpts,a=e+"-"+s,l=i[a],c=this.enableOptionSharing&&ro(n);if(l)return Tc(l,c);const u=this.chart.config,_=u.datasetElementScopeKeys(this._type,e),d=o?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),_),g=Object.keys(zt.elements[e]),w=()=>this.getContext(n,o,s),f=u.resolveNamedOptions(h,g,w,d);return f.$shared&&(f.$shared=c,i[a]=Object.freeze(Tc(f,c))),f}_resolveAnimations(e,s,n){const o=this.chart,i=this._cachedDataOpts,a=`animation-${s}`,l=i[a];if(l)return l;let c;if(o.options.animation!==!1){const _=this.chart.config,d=_.datasetAnimationScopeKeys(this._type,s),h=_.getOptionScopes(this.getDataset(),d);c=_.createResolver(h,this.getContext(e,n,s))}const u=new Ed(o,c&&c.animations);return c&&c._cacheable&&(i[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||ua(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),o=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(s,i)||i!==o;return this.updateSharedOptions(i,s,n),{sharedOptions:i,includeOptions:a}}updateElement(e,s,n,o){ua(o)?Object.assign(e,n):this._resolveAnimations(s,o).update(e,n)}updateSharedOptions(e,s,n){e&&!ua(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,o){e.active=o;const i=this.getStyle(s,o);this._resolveAnimations(s,n,o).update(e,{options:!o&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const o=n.length,i=s.length,a=Math.min(i,o);a&&this.parse(0,a),i>o?this._insertElements(o,i-o,e):i<o&&this._removeElements(i,o-i)}_insertElements(e,s,n=!0){const o=this._cachedMeta,i=o.data,a=e+s;let l;const c=u=>{for(u.length+=s,l=u.length-1;l>=a;l--)u[l]=u[l-s]};for(c(i),l=e;l<a;++l)i[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(e,s),n&&this.updateElements(i,e,s,"reset")}updateElements(e,s,n,o){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const o=n._parsed.splice(e,s);n._stacked&&An(n,o)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,o]=e;this[s](n,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ft(qn,"defaults",{}),ft(qn,"datasetElementType",null),ft(qn,"dataElementType",null);function QN(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let o=0,i=s.length;o<i;o++)n=n.concat(s[o].controller.getAllParsedValues(t));t._cache.$bar=hd(n.sort((o,i)=>o-i))}return t._cache.$bar}function XN(t){const e=t.iScale,s=QN(e,t.type);let n=e._length,o,i,a,l;const c=()=>{a===32767||a===-32768||(ro(l)&&(n=Math.min(n,Math.abs(a-l)||n)),l=a)};for(o=0,i=s.length;o<i;++o)a=e.getPixelForValue(s[o]),c();for(l=void 0,o=0,i=e.ticks.length;o<i;++o)a=e.getPixelForTick(o),c();return n}function ZN(t,e,s,n){const o=s.barThickness;let i,a;return Ot(o)?(i=e.min*s.categoryPercentage,a=s.barPercentage):(i=o*n,a=1),{chunk:i/n,ratio:a,start:e.pixels[t]-i/2}}function t7(t,e,s,n){const o=e.pixels,i=o[t];let a=t>0?o[t-1]:null,l=t<o.length-1?o[t+1]:null;const c=s.categoryPercentage;a===null&&(a=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-a);const u=i-(i-Math.min(a,l))/2*c;return{chunk:Math.abs(l-a)/2*c/n,ratio:s.barPercentage,start:u}}function e7(t,e,s,n){const o=s.parse(t[0],n),i=s.parse(t[1],n),a=Math.min(o,i),l=Math.max(o,i);let c=a,u=l;Math.abs(a)>Math.abs(l)&&(c=l,u=a),e[s.axis]=u,e._custom={barStart:c,barEnd:u,start:o,end:i,min:a,max:l}}function Od(t,e,s,n){return Wt(t)?e7(t,e,s,n):e[s.axis]=s.parse(t,n),e}function Cc(t,e,s,n){const o=t.iScale,i=t.vScale,a=o.getLabels(),l=o===i,c=[];let u,_,d,h;for(u=s,_=s+n;u<_;++u)h=e[u],d={},d[o.axis]=l||o.parse(a[u],u),c.push(Od(h,d,i,u));return c}function _a(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function s7(t,e,s){return t!==0?ms(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function n7(t){let e,s,n,o,i;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(o="end",i="start"):(o="start",i="end"),{start:s,end:n,reverse:e,top:o,bottom:i}}function o7(t,e,s,n){let o=e.borderSkipped;const i={};if(!o){t.borderSkipped=i;return}if(o===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:c,top:u,bottom:_}=n7(t);o==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?o=u:(s._bottom||0)===n?o=_:(i[Ec(_,a,l,c)]=!0,o=u)),i[Ec(o,a,l,c)]=!0,t.borderSkipped=i}function Ec(t,e,s,n){return n?(t=i7(t,e,s),t=Ac(t,s,e)):t=Ac(t,e,s),t}function i7(t,e,s){return t===e?s:t===s?e:t}function Ac(t,e,s){return t==="start"?e:t==="end"?s:t}function a7(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class Zo extends qn{parsePrimitiveData(e,s,n,o){return Cc(e,s,n,o)}parseArrayData(e,s,n,o){return Cc(e,s,n,o)}parseObjectData(e,s,n,o){const{iScale:i,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=i.axis==="x"?l:c,_=a.axis==="x"?l:c,d=[];let h,g,w,f;for(h=n,g=n+o;h<g;++h)f=s[h],w={},w[i.axis]=i.parse(pn(f,u),h),d.push(Od(pn(f,_),w,a,h));return d}updateRangeFromParsed(e,s,n,o){super.updateRangeFromParsed(e,s,n,o);const i=n._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:o}=s,i=this.getParsed(e),a=i._custom,l=_a(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(i[o.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,o){const i=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),_=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,o);for(let g=s;g<s+n;g++){const w=this.getParsed(g),f=i||Ot(w[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(g),p=this._calculateBarIndexPixels(g,_),m=(w._stacks||{})[l.axis],b={horizontal:u,base:f.base,enableBorderRadius:!m||_a(w._custom)||a===m._top||a===m._bottom,x:u?f.head:p.center,y:u?p.center:f.head,height:u?p.size:Math.abs(f.size),width:u?Math.abs(f.size):p.size};h&&(b.options=d||this.resolveDataElementOptions(g,e[g].active?"active":o));const x=b.options||e[g].options;o7(b,x,m,a),a7(b,x,_.ratio),this.updateElement(e[g],g,b,o)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,o=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),i=n.options.stacked,a=[],l=c=>{const u=c.controller.getParsed(s),_=u&&u[c.vScale.axis];if(Ot(_)||isNaN(_))return!0};for(const c of o)if(!(s!==void 0&&l(c))&&((i===!1||a.indexOf(c.stack)===-1||i===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,n){const o=this._getStacks(e,n),i=s!==void 0?o.indexOf(s):-1;return i===-1?o.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,o=[];let i,a;for(i=0,a=s.data.length;i<a;++i)o.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const l=e.barThickness;return{min:l||XN(s),pixels:o,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:o},options:{base:i,minBarLength:a}}=this,l=i||0,c=this.getParsed(e),u=c._custom,_=_a(u);let d=c[s.axis],h=0,g=n?this.applyStack(s,c,n):d,w,f;g!==d&&(h=g-d,g=d),_&&(d=u.barStart,g=u.barEnd-u.barStart,d!==0&&ms(d)!==ms(u.barEnd)&&(h=0),h+=d);const p=!Ot(i)&&!_?i:h;let m=s.getPixelForValue(p);if(this.chart.getDataVisibility(e)?w=s.getPixelForValue(h+g):w=m,f=w-m,Math.abs(f)<a){f=s7(f,s,l)*a,d===l&&(m-=f/2);const b=s.getPixelForDecimal(0),x=s.getPixelForDecimal(1),A=Math.min(b,x),I=Math.max(b,x);m=Math.max(Math.min(m,I),A),w=m+f,n&&!_&&(c._stacks[s.axis]._visualValues[o]=s.getValueForPixel(w)-s.getValueForPixel(m))}if(m===s.getPixelForValue(l)){const b=ms(f)*s.getLineWidthForValue(l)/2;m+=b,f-=b}return{size:f,base:m,head:w,center:w+f/2}}_calculateBarIndexPixels(e,s){const n=s.scale,o=this.options,i=o.skipNull,a=Et(o.maxBarThickness,1/0);let l,c;if(s.grouped){const u=i?this._getStackCount(e):s.stackCount,_=o.barThickness==="flex"?t7(e,s,o,u):ZN(e,s,o,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);l=_.start+_.chunk*d+_.chunk/2,c=Math.min(a,_.chunk*_.ratio)}else l=n.getPixelForValue(this.getParsed(e)[n.axis],e),c=Math.min(a,s.min*s.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,o=n.length;let i=0;for(;i<o;++i)this.getParsed(i)[s.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}ft(Zo,"id","bar"),ft(Zo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ft(Zo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ql{constructor(e){ft(this,"options");this.options=e||{}}static override(e){Object.assign(ql.prototype,e)}init(){}formats(){return Ds()}parse(){return Ds()}format(){return Ds()}add(){return Ds()}diff(){return Ds()}startOf(){return Ds()}endOf(){return Ds()}}var l7={_date:ql};function r7(t,e,s,n){const{controller:o,data:i,_sorted:a}=t,l=o._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&a&&i.length){const c=l._reversePixels?QR:Ua;if(n){if(o._sharedOptions){const u=i[0],_=typeof u.getRange=="function"&&u.getRange(e);if(_){const d=c(i,e,s-_),h=c(i,e,s+_);return{lo:d.lo,hi:h.hi}}}}else return c(i,e,s)}return{lo:0,hi:i.length-1}}function yo(t,e,s,n,o){const i=t.getSortedVisibleDatasetMetas(),a=s[e];for(let l=0,c=i.length;l<c;++l){const{index:u,data:_}=i[l],{lo:d,hi:h}=r7(i[l],e,a,o);for(let g=d;g<=h;++g){const w=_[g];w.skip||n(w,u,g)}}}function c7(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,o){const i=e?Math.abs(n.x-o.x):0,a=s?Math.abs(n.y-o.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}function da(t,e,s,n,o){const i=[];return!o&&!t.isPointInArea(e)||yo(t,s,e,function(l,c,u){!o&&!Ul(l,t.chartArea,0)||l.inRange(e.x,e.y,n)&&i.push({element:l,datasetIndex:c,index:u})},!0),i}function u7(t,e,s,n){let o=[];function i(a,l,c){const{startAngle:u,endAngle:_}=a.getProps(["startAngle","endAngle"],n),{angle:d}=ud(a,{x:e.x,y:e.y});_d(d,u,_)&&o.push({element:a,datasetIndex:l,index:c})}return yo(t,s,e,i),o}function _7(t,e,s,n,o,i){let a=[];const l=c7(s);let c=Number.POSITIVE_INFINITY;function u(_,d,h){const g=_.inRange(e.x,e.y,o);if(n&&!g)return;const w=_.getCenterPoint(o);if(!(!!i||t.isPointInArea(w))&&!g)return;const p=l(e,w);p<c?(a=[{element:_,datasetIndex:d,index:h}],c=p):p===c&&a.push({element:_,datasetIndex:d,index:h})}return yo(t,s,e,u),a}function ha(t,e,s,n,o,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!n?u7(t,e,s,o):_7(t,e,s,n,o,i)}function Oc(t,e,s,n,o){const i=[],a=s==="x"?"inXRange":"inYRange";let l=!1;return yo(t,s,e,(c,u,_)=>{c[a](e[s],o)&&(i.push({element:c,datasetIndex:u,index:_}),l=l||c.inRange(e.x,e.y,o))}),n&&!l?[]:i}var d7={evaluateInteractionItems:yo,modes:{index(t,e,s,n){const o=Ns(e,t),i=s.axis||"x",a=s.includeInvisible||!1,l=s.intersect?da(t,o,i,n,a):ha(t,o,i,!1,n,a),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const _=l[0].index,d=u.data[_];d&&!d.skip&&c.push({element:d,datasetIndex:u.index,index:_})}),c):[]},dataset(t,e,s,n){const o=Ns(e,t),i=s.axis||"xy",a=s.includeInvisible||!1;let l=s.intersect?da(t,o,i,n,a):ha(t,o,i,!1,n,a);if(l.length>0){const c=l[0].datasetIndex,u=t.getDatasetMeta(c).data;l=[];for(let _=0;_<u.length;++_)l.push({element:u[_],datasetIndex:c,index:_})}return l},point(t,e,s,n){const o=Ns(e,t),i=s.axis||"xy",a=s.includeInvisible||!1;return da(t,o,i,n,a)},nearest(t,e,s,n){const o=Ns(e,t),i=s.axis||"xy",a=s.includeInvisible||!1;return ha(t,o,i,s.intersect,n,a)},x(t,e,s,n){const o=Ns(e,t);return Oc(t,o,"x",s.intersect,n)},y(t,e,s,n){const o=Ns(e,t);return Oc(t,o,"y",s.intersect,n)}}};const Id=["left","top","right","bottom"];function On(t,e){return t.filter(s=>s.pos===e)}function Ic(t,e){return t.filter(s=>Id.indexOf(s.pos)===-1&&s.box.axis===e)}function In(t,e){return t.sort((s,n)=>{const o=e?n:s,i=e?s:n;return o.weight===i.weight?o.index-i.index:o.weight-i.weight})}function h7(t){const e=[];let s,n,o,i,a,l;for(s=0,n=(t||[]).length;s<n;++s)o=t[s],{position:i,options:{stack:a,stackWeight:l=1}}=o,e.push({index:s,box:o,pos:i,horizontal:o.isHorizontal(),weight:o.weight,stack:a&&i+a,stackWeight:l});return e}function f7(t){const e={};for(const s of t){const{stack:n,pos:o,stackWeight:i}=s;if(!n||!Id.includes(o))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return e}function g7(t,e){const s=f7(t),{vBoxMaxWidth:n,hBoxMaxHeight:o}=e;let i,a,l;for(i=0,a=t.length;i<a;++i){l=t[i];const{fullSize:c}=l.box,u=s[l.stack],_=u&&l.stackWeight/u.weight;l.horizontal?(l.width=_?_*n:c&&e.availableWidth,l.height=o):(l.width=n,l.height=_?_*o:c&&e.availableHeight)}return s}function p7(t){const e=h7(t),s=In(e.filter(u=>u.box.fullSize),!0),n=In(On(e,"left"),!0),o=In(On(e,"right")),i=In(On(e,"top"),!0),a=In(On(e,"bottom")),l=Ic(e,"x"),c=Ic(e,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:o.concat(c).concat(a).concat(l),chartArea:On(e,"chartArea"),vertical:n.concat(o).concat(c),horizontal:i.concat(a).concat(l)}}function Mc(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function Md(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function m7(t,e,s,n){const{pos:o,box:i}=s,a=t.maxPadding;if(!Ct(o)){s.size&&(t[o]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?i.height:i.width),s.size=d.size/d.count,t[o]+=s.size}i.getPadding&&Md(a,i.getPadding());const l=Math.max(0,e.outerWidth-Mc(a,t,"left","right")),c=Math.max(0,e.outerHeight-Mc(a,t,"top","bottom")),u=l!==t.w,_=c!==t.h;return t.w=l,t.h=c,s.horizontal?{same:u,other:_}:{same:_,other:u}}function v7(t){const e=t.maxPadding;function s(n){const o=Math.max(e[n]-t[n],0);return t[n]+=o,o}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function w7(t,e){const s=e.maxPadding;function n(o){const i={left:0,top:0,right:0,bottom:0};return o.forEach(a=>{i[a]=Math.max(e[a],s[a])}),i}return n(t?["left","right"]:["top","bottom"])}function Nn(t,e,s,n){const o=[];let i,a,l,c,u,_;for(i=0,a=t.length,u=0;i<a;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,w7(l.horizontal,e));const{same:d,other:h}=m7(e,s,l,n);u|=d&&o.length,_=_||h,c.fullSize||o.push(l)}return u&&Nn(o,e,s,n)||_}function Lo(t,e,s,n,o){t.top=s,t.left=e,t.right=e+n,t.bottom=s+o,t.width=n,t.height=o}function Pc(t,e,s,n){const o=s.padding;let{x:i,y:a}=e;for(const l of t){const c=l.box,u=n[l.stack]||{count:1,placed:0,weight:1},_=l.stackWeight/u.weight||1;if(l.horizontal){const d=e.w*_,h=u.size||c.height;ro(u.start)&&(a=u.start),c.fullSize?Lo(c,o.left,a,s.outerWidth-o.right-o.left,h):Lo(c,e.left+u.placed,a,d,h),u.start=a,u.placed+=d,a=c.bottom}else{const d=e.h*_,h=u.size||c.width;ro(u.start)&&(i=u.start),c.fullSize?Lo(c,i,o.top,h,s.outerHeight-o.bottom-o.top):Lo(c,i,e.top+u.placed,h,d),u.start=i,u.placed+=d,i=c.right}}e.x=i,e.y=a}var $e={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const o=ge(t.options.layout.padding),i=Math.max(e-o.width,0),a=Math.max(s-o.height,0),l=p7(t.boxes),c=l.vertical,u=l.horizontal;At(t.boxes,f=>{typeof f.beforeLayout=="function"&&f.beforeLayout()});const _=c.reduce((f,p)=>p.box.options&&p.box.options.display===!1?f:f+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:s,padding:o,availableWidth:i,availableHeight:a,vBoxMaxWidth:i/2/_,hBoxMaxHeight:a/2}),h=Object.assign({},o);Md(h,ge(n));const g=Object.assign({maxPadding:h,w:i,h:a,x:o.left,y:o.top},o),w=g7(c.concat(u),d);Nn(l.fullSize,g,d,w),Nn(c,g,d,w),Nn(u,g,d,w)&&Nn(c,g,d,w),v7(g),Pc(l.leftAndTop,g,d,w),g.x+=g.w,g.y+=g.h,Pc(l.rightAndBottom,g,d,w),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},At(l.chartArea,f=>{const p=f.box;Object.assign(p,t.chartArea),p.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class Pd{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,o){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,o?Math.floor(s/o):n)}}isAttached(e){return!0}updateConfig(e){}}class y7 extends Pd{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ti="$chartjs",b7={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Lc=t=>t===null||t==="";function k7(t,e){const s=t.style,n=t.getAttribute("height"),o=t.getAttribute("width");if(t[ti]={initial:{height:n,width:o,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Lc(o)){const i=wc(t,"width");i!==void 0&&(t.width=i)}if(Lc(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=wc(t,"height");i!==void 0&&(t.height=i)}return t}const Ld=LN?{passive:!0}:!1;function x7(t,e,s){t&&t.addEventListener(e,s,Ld)}function $7(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Ld)}function S7(t,e){const s=b7[t.type]||t.type,{x:n,y:o}=Ns(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:o!==void 0?o:null}}function mi(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function T7(t,e,s){const n=t.canvas,o=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||mi(l.addedNodes,n),a=a&&!mi(l.removedNodes,n);a&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}function C7(t,e,s){const n=t.canvas,o=new MutationObserver(i=>{let a=!1;for(const l of i)a=a||mi(l.removedNodes,n),a=a&&!mi(l.addedNodes,n);a&&s()});return o.observe(document,{childList:!0,subtree:!0}),o}const uo=new Map;let Dc=0;function Dd(){const t=window.devicePixelRatio;t!==Dc&&(Dc=t,uo.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function E7(t,e){uo.size||window.addEventListener("resize",Dd),uo.set(t,e)}function A7(t){uo.delete(t),uo.size||window.removeEventListener("resize",Dd)}function O7(t,e,s){const n=t.canvas,o=n&&Jl(n);if(!o)return;const i=gd((l,c)=>{const u=o.clientWidth;s(l,c),u<o.clientWidth&&s()},window),a=new ResizeObserver(l=>{const c=l[0],u=c.contentRect.width,_=c.contentRect.height;u===0&&_===0||i(u,_)});return a.observe(o),E7(t,i),a}function fa(t,e,s){s&&s.disconnect(),e==="resize"&&A7(t)}function I7(t,e,s){const n=t.canvas,o=gd(i=>{t.ctx!==null&&s(S7(i,t))},t);return x7(n,e,o),o}class M7 extends Pd{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(k7(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[ti])return!1;const n=s[ti].initial;["height","width"].forEach(i=>{const a=n[i];Ot(a)?s.removeAttribute(i):s.setAttribute(i,a)});const o=n.style||{};return Object.keys(o).forEach(i=>{s.style[i]=o[i]}),s.width=s.width,delete s[ti],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const o=e.$proxies||(e.$proxies={}),a={attach:T7,detach:C7,resize:O7}[s]||I7;o[s]=a(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),o=n[s];if(!o)return;({attach:fa,detach:fa,resize:fa}[s]||$7)(e,s,o),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,o){return PN(e,s,n,o)}isAttached(e){const s=e&&Jl(e);return!!(s&&s.isConnected)}}function P7(t){return!Yl()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?y7:M7}var Wo;let Cs=(Wo=class{constructor(){ft(this,"x");ft(this,"y");ft(this,"active",!1);ft(this,"options");ft(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return fi(this.x)&&fi(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const o={};return e.forEach(i=>{o[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),o}},ft(Wo,"defaults",{}),ft(Wo,"defaultRoutes"),Wo);function L7(t,e){const s=t.options.ticks,n=D7(t),o=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?N7(e):[],a=i.length,l=i[0],c=i[a-1],u=[];if(a>o)return j7(e,u,i,a/o),u;const _=R7(i,e,o);if(a>0){let d,h;const g=a>1?Math.round((c-l)/(a-1)):null;for(Do(e,u,_,Ot(g)?0:l-g,l),d=0,h=a-1;d<h;d++)Do(e,u,_,i[d],i[d+1]);return Do(e,u,_,c,Ot(g)?e.length:c+g),u}return Do(e,u,_),u}function D7(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),o=t._maxLength/s;return Math.floor(Math.min(n,o))}function R7(t,e,s){const n=F7(t),o=e.length/s;if(!n)return Math.max(o,1);const i=WR(n);for(let a=0,l=i.length-1;a<l;a++){const c=i[a];if(c>o)return c}return Math.max(o,1)}function N7(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function j7(t,e,s,n){let o=0,i=s[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===i&&(e.push(t[a]),o++,i=s[o*n])}function Do(t,e,s,n,o){const i=Et(n,0),a=Math.min(Et(o,t.length),t.length);let l=0,c,u,_;for(s=Math.ceil(s),o&&(c=o-n,s=c/Math.floor(c/s)),_=i;_<0;)l++,_=Math.round(i+l*s);for(u=Math.max(i,0);u<a;u++)u===_&&(e.push(t[u]),l++,_=Math.round(i+l*s))}function F7(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const z7=t=>t==="left"?"right":t==="right"?"left":t,Rc=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,Nc=(t,e)=>Math.min(e||t,t);function jc(t,e){const s=[],n=t.length/e,o=t.length;let i=0;for(;i<o;i+=n)s.push(t[Math.floor(i)]);return s}function U7(t,e,s){const n=t.ticks.length,o=Math.min(e,n-1),i=t._startPixel,a=t._endPixel,l=1e-6;let c=t.getPixelForTick(o),u;if(!(s&&(n===1?u=Math.max(c-i,a-c):e===0?u=(t.getPixelForTick(1)-c)/2:u=(c-t.getPixelForTick(o-1))/2,c+=o<e?u:-u,c<i-l||c>a+l)))return c}function H7(t,e){At(t,s=>{const n=s.gc,o=n.length/2;let i;if(o>e){for(i=0;i<o;++i)delete s.data[n[i]];n.splice(0,o)}})}function Mn(t){return t.drawTicks?t.tickLength:0}function Fc(t,e){if(!t.display)return 0;const s=Qt(t.font,e),n=ge(t.padding);return(Wt(t.text)?t.text.length:1)*s.lineHeight+n.height}function B7(t,e){return kn(t,{scale:e,type:"scale"})}function G7(t,e,s){return kn(t,{tick:s,index:e,type:"tick"})}function W7(t,e,s){let n=zl(t);return(s&&e!=="right"||!s&&e==="right")&&(n=z7(n)),n}function V7(t,e,s,n){const{top:o,left:i,bottom:a,right:l,chart:c}=t,{chartArea:u,scales:_}=c;let d=0,h,g,w;const f=a-o,p=l-i;if(t.isHorizontal()){if(g=Zt(n,i,l),Ct(s)){const m=Object.keys(s)[0],b=s[m];w=_[m].getPixelForValue(b)+f-e}else s==="center"?w=(u.bottom+u.top)/2+f-e:w=Rc(t,s,e);h=l-i}else{if(Ct(s)){const m=Object.keys(s)[0],b=s[m];g=_[m].getPixelForValue(b)-p+e}else s==="center"?g=(u.left+u.right)/2-p+e:g=Rc(t,s,e);w=Zt(n,a,o),d=s==="left"?-qt:qt}return{titleX:g,titleY:w,maxWidth:h,rotation:d}}class xn extends Cs{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:o}=this;return e=je(e,Number.POSITIVE_INFINITY),s=je(s,Number.NEGATIVE_INFINITY),n=je(n,Number.POSITIVE_INFINITY),o=je(o,Number.NEGATIVE_INFINITY),{min:je(e,n),max:je(s,o),minDefined:Te(e),maxDefined:Te(s)}}getMinMax(e){let{min:s,max:n,minDefined:o,maxDefined:i}=this.getUserBounds(),a;if(o&&i)return{min:s,max:n};const l=this.getMatchingVisibleMetas();for(let c=0,u=l.length;c<u;++c)a=l[c].controller.getMinMax(this,e),o||(s=Math.min(s,a.min)),i||(n=Math.max(n,a.max));return s=i&&s>n?n:s,n=o&&s>n?s:n,{min:je(s,je(n,s)),max:je(n,je(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:o,grace:i,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vN(this,i,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?jc(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=L7(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Mt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,o,i;for(n=0,o=e.length;n<o;n++)i=e[n],i.label=Mt(s.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=Nc(this.ticks.length,e.ticks.maxTicksLimit),o=s.minRotation||0,i=s.maxRotation;let a=o,l,c,u;if(!this._isVisible()||!s.display||o>=i||n<=1||!this.isHorizontal()){this.labelRotation=o;return}const _=this._getLabelSizes(),d=_.widest.width,h=_.highest.height,g=ce(this.chart.width-d,0,this.maxWidth);l=e.offset?this.maxWidth/n:g/(n-1),d+6>l&&(l=g/(n-(e.offset?.5:1)),c=this.maxHeight-Mn(e.grid)-s.padding-Fc(e.title,this.chart.options.font),u=Math.sqrt(d*d+h*h),a=YR(Math.min(Math.asin(ce((_.highest.height+6)/l,-1,1)),Math.asin(ce(c/u,-1,1))-Math.asin(ce(h/u,-1,1)))),a=Math.max(o,Math.min(i,a))),this.labelRotation=a}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:o,grid:i}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const c=Fc(o,s.options.font);if(l?(e.width=this.maxWidth,e.height=Mn(i)+c):(e.height=this.maxHeight,e.width=Mn(i)+c),n.display&&this.ticks.length){const{first:u,last:_,widest:d,highest:h}=this._getLabelSizes(),g=n.padding*2,w=Us(this.labelRotation),f=Math.cos(w),p=Math.sin(w);if(l){const m=n.mirror?0:p*d.width+f*h.height;e.height=Math.min(this.maxHeight,e.height+m+g)}else{const m=n.mirror?0:f*d.width+p*h.height;e.width=Math.min(this.maxWidth,e.width+m+g)}this._calculatePadding(u,_,p,f)}}this._handleMargins(),l?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,o){const{ticks:{align:i,padding:a},position:l}=this.options,c=this.labelRotation!==0,u=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,g=0;c?u?(h=o*e.width,g=n*s.height):(h=n*e.height,g=o*s.width):i==="start"?g=s.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,g=s.width/2),this.paddingLeft=Math.max((h-_+a)*this.width/(this.width-_),0),this.paddingRight=Math.max((g-d+a)*this.width/(this.width-d),0)}else{let _=s.height/2,d=e.height/2;i==="start"?(_=0,d=e.height):i==="end"&&(_=s.height,d=0),this.paddingTop=_+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)Ot(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=jc(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:o,_longestTextCache:i}=this,a=[],l=[],c=Math.floor(s/Nc(s,n));let u=0,_=0,d,h,g,w,f,p,m,b,x,A,I;for(d=0;d<s;d+=c){if(w=e[d].label,f=this._resolveTickFontOptions(d),o.font=p=f.string,m=i[p]=i[p]||{data:{},gc:[]},b=f.lineHeight,x=A=0,!Ot(w)&&!Wt(w))x=fc(o,m.data,m.gc,x,w),A=b;else if(Wt(w))for(h=0,g=w.length;h<g;++h)I=w[h],!Ot(I)&&!Wt(I)&&(x=fc(o,m.data,m.gc,x,I),A+=b);a.push(x),l.push(A),u=Math.max(x,u),_=Math.max(A,_)}H7(i,s);const T=a.indexOf(u),D=l.indexOf(_),C=P=>({width:a[P]||0,height:l[P]||0});return{first:C(0),last:C(s-1),widest:C(T),highest:C(D),widths:a,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return qR(this._alignToPixels?Ls(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=G7(this.getContext(),e,n))}return this.$context||(this.$context=B7(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Us(this.labelRotation),n=Math.abs(Math.cos(s)),o=Math.abs(Math.sin(s)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,l=i?i.widest.width+a:0,c=i?i.highest.height+a:0;return this.isHorizontal()?c*n>l*o?l/n:c/o:c*o<l*n?c/n:l/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,o=this.options,{grid:i,position:a,border:l}=o,c=i.offset,u=this.isHorizontal(),d=this.ticks.length+(c?1:0),h=Mn(i),g=[],w=l.setContext(this.getContext()),f=w.display?w.width:0,p=f/2,m=function(L){return Ls(n,L,f)};let b,x,A,I,T,D,C,P,j,G,R,ot;if(a==="top")b=m(this.bottom),D=this.bottom-h,P=b-p,G=m(e.top)+p,ot=e.bottom;else if(a==="bottom")b=m(this.top),G=e.top,ot=m(e.bottom)-p,D=b+p,P=this.top+h;else if(a==="left")b=m(this.right),T=this.right-h,C=b-p,j=m(e.left)+p,R=e.right;else if(a==="right")b=m(this.left),j=e.left,R=m(e.right)-p,T=b+p,C=this.left+h;else if(s==="x"){if(a==="center")b=m((e.top+e.bottom)/2+.5);else if(Ct(a)){const L=Object.keys(a)[0],Y=a[L];b=m(this.chart.scales[L].getPixelForValue(Y))}G=e.top,ot=e.bottom,D=b+p,P=D+h}else if(s==="y"){if(a==="center")b=m((e.left+e.right)/2);else if(Ct(a)){const L=Object.keys(a)[0],Y=a[L];b=m(this.chart.scales[L].getPixelForValue(Y))}T=b-p,C=T-h,j=e.left,R=e.right}const ct=Et(o.ticks.maxTicksLimit,d),H=Math.max(1,Math.ceil(d/ct));for(x=0;x<d;x+=H){const L=this.getContext(x),Y=i.setContext(L),z=l.setContext(L),tt=Y.lineWidth,bt=Y.color,at=z.dash||[],dt=z.dashOffset,Lt=Y.tickWidth,Ut=Y.tickColor,Xt=Y.tickBorderDash||[],Ht=Y.tickBorderDashOffset;A=U7(this,x,c),A!==void 0&&(I=Ls(n,A,tt),u?T=C=j=R=I:D=P=G=ot=I,g.push({tx1:T,ty1:D,tx2:C,ty2:P,x1:j,y1:G,x2:R,y2:ot,width:tt,color:bt,borderDash:at,borderDashOffset:dt,tickWidth:Lt,tickColor:Ut,tickBorderDash:Xt,tickBorderDashOffset:Ht}))}return this._ticksLength=d,this._borderValue=b,g}_computeLabelItems(e){const s=this.axis,n=this.options,{position:o,ticks:i}=n,a=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:u,padding:_,mirror:d}=i,h=Mn(n.grid),g=h+_,w=d?-_:g,f=-Us(this.labelRotation),p=[];let m,b,x,A,I,T,D,C,P,j,G,R,ot="middle";if(o==="top")T=this.bottom-w,D=this._getXAxisLabelAlignment();else if(o==="bottom")T=this.top+w,D=this._getXAxisLabelAlignment();else if(o==="left"){const H=this._getYAxisLabelAlignment(h);D=H.textAlign,I=H.x}else if(o==="right"){const H=this._getYAxisLabelAlignment(h);D=H.textAlign,I=H.x}else if(s==="x"){if(o==="center")T=(e.top+e.bottom)/2+g;else if(Ct(o)){const H=Object.keys(o)[0],L=o[H];T=this.chart.scales[H].getPixelForValue(L)+g}D=this._getXAxisLabelAlignment()}else if(s==="y"){if(o==="center")I=(e.left+e.right)/2-g;else if(Ct(o)){const H=Object.keys(o)[0],L=o[H];I=this.chart.scales[H].getPixelForValue(L)}D=this._getYAxisLabelAlignment(h).textAlign}s==="y"&&(c==="start"?ot="top":c==="end"&&(ot="bottom"));const ct=this._getLabelSizes();for(m=0,b=l.length;m<b;++m){x=l[m],A=x.label;const H=i.setContext(this.getContext(m));C=this.getPixelForTick(m)+i.labelOffset,P=this._resolveTickFontOptions(m),j=P.lineHeight,G=Wt(A)?A.length:1;const L=G/2,Y=H.color,z=H.textStrokeColor,tt=H.textStrokeWidth;let bt=D;a?(I=C,D==="inner"&&(m===b-1?bt=this.options.reverse?"left":"right":m===0?bt=this.options.reverse?"right":"left":bt="center"),o==="top"?u==="near"||f!==0?R=-G*j+j/2:u==="center"?R=-ct.highest.height/2-L*j+j:R=-ct.highest.height+j/2:u==="near"||f!==0?R=j/2:u==="center"?R=ct.highest.height/2-L*j:R=ct.highest.height-G*j,d&&(R*=-1),f!==0&&!H.showLabelBackdrop&&(I+=j/2*Math.sin(f))):(T=C,R=(1-G)*j/2);let at;if(H.showLabelBackdrop){const dt=ge(H.backdropPadding),Lt=ct.heights[m],Ut=ct.widths[m];let Xt=R-dt.top,Ht=0-dt.left;switch(ot){case"middle":Xt-=Lt/2;break;case"bottom":Xt-=Lt;break}switch(D){case"center":Ht-=Ut/2;break;case"right":Ht-=Ut;break;case"inner":m===b-1?Ht-=Ut:m>0&&(Ht-=Ut/2);break}at={left:Ht,top:Xt,width:Ut+dt.width,height:Lt+dt.height,color:H.backdropColor}}p.push({label:A,font:P,textOffset:R,options:{rotation:f,color:Y,strokeColor:z,strokeWidth:tt,textAlign:bt,textBaseline:ot,translation:[I,T],backdrop:at}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Us(this.labelRotation))return e==="top"?"left":"right";let o="center";return s.align==="start"?o="left":s.align==="end"?o="right":s.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:o,padding:i}}=this.options,a=this._getLabelSizes(),l=e+i,c=a.widest.width;let u,_;return s==="left"?o?(_=this.right+i,n==="near"?u="left":n==="center"?(u="center",_+=c/2):(u="right",_+=c)):(_=this.right-l,n==="near"?u="right":n==="center"?(u="center",_-=c/2):(u="left",_=this.left)):s==="right"?o?(_=this.left+i,n==="near"?u="right":n==="center"?(u="center",_-=c/2):(u="left",_-=c)):(_=this.left+l,n==="near"?u="left":n==="center"?(u="center",_+=c/2):(u="right",_=this.right)):u="right",{textAlign:u,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:o,width:i,height:a}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,o,i,a),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const o=this.ticks.findIndex(i=>i.value===e);return o>=0?s.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const l=(c,u,_)=>{!_.width||!_.color||(n.save(),n.lineWidth=_.width,n.strokeStyle=_.color,n.setLineDash(_.borderDash||[]),n.lineDashOffset=_.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(s.display)for(i=0,a=o.length;i<a;++i){const c=o[i];s.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),s.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:o}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const l=o.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let u,_,d,h;this.isHorizontal()?(u=Ls(e,this.left,a)-a/2,_=Ls(e,this.right,l)+l/2,d=h=c):(d=Ls(e,this.top,a)-a/2,h=Ls(e,this.bottom,l)+l/2,u=_=c),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(u,d),s.lineTo(_,h),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,o=this._computeLabelArea();o&&Hl(n,o);const i=this.getLabelItems(e);for(const a of i){const l=a.options,c=a.font,u=a.label,_=a.textOffset;co(n,u,0,_,c,l)}o&&Bl(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:o}}=this;if(!n.display)return;const i=Qt(n.font),a=ge(n.padding),l=n.align;let c=i.lineHeight/2;s==="bottom"||s==="center"||Ct(s)?(c+=a.bottom,Wt(n.text)&&(c+=i.lineHeight*(n.text.length-1))):c+=a.top;const{titleX:u,titleY:_,maxWidth:d,rotation:h}=V7(this,c,s,l);co(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:h,textAlign:W7(l,s,o),textBaseline:"middle",translation:[u,_]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Et(e.grid&&e.grid.z,-1),o=Et(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==xn.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",o=[];let i,a;for(i=0,a=s.length;i<a;++i){const l=s[i];l[n]===this.id&&(!e||l.type===e)&&o.push(l)}return o}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Qt(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ro{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;J7(s)&&(n=this.register(s));const o=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in o||(o[i]=e,K7(e,a,n),this.override&&zt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,o=this.scope;n in s&&delete s[n],o&&n in zt[o]&&(delete zt[o][n],this.override&&delete Vs[n])}}function K7(t,e,s){const n=Ge(Object.create(null),[s?zt.get(s):{},zt.get(e),t.defaults]);zt.set(e,n),t.defaultRoutes&&Y7(e,t.defaultRoutes),t.descriptors&&zt.describe(e,t.descriptors)}function Y7(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),o=n.pop(),i=[t].concat(n).join("."),a=e[s].split("."),l=a.pop(),c=a.join(".");zt.route(i,o,c,l)})}function J7(t){return"id"in t&&"defaults"in t}class q7{constructor(){this.controllers=new Ro(qn,"datasets",!0),this.elements=new Ro(Cs,"elements"),this.plugins=new Ro(Object,"plugins"),this.scales=new Ro(xn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(o=>{const i=n||this._getRegistryForType(o);n||i.isForType(o)||i===this.plugins&&o.id?this._exec(e,i,o):At(o,a=>{const l=n||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,s,n){const o=jl(e);Mt(n["before"+o],[],n),s[e](n),Mt(n["after"+o],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const o=s.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return o}}var ze=new q7;class Q7{constructor(){this._init=[]}notify(e,s,n,o){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=o?this._descriptors(e).filter(o):this._descriptors(e),a=this._notify(i,e,s,n);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,s,n,o){o=o||{};for(const i of e){const a=i.plugin,l=a[n],c=[s,o,i.options];if(Mt(l,c,a)===!1&&o.cancelable)return!1}return!0}invalidate(){Ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,o=Et(n.options&&n.options.plugins,{}),i=X7(n);return o===!1&&!s?[]:tj(e,i,o,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,o=(i,a)=>i.filter(l=>!a.some(c=>l.plugin.id===c.plugin.id));this._notify(o(s,n),e,"stop"),this._notify(o(n,s),e,"start")}}function X7(t){const e={},s=[],n=Object.keys(ze.plugins.items);for(let i=0;i<n.length;i++)s.push(ze.getPlugin(n[i]));const o=t.plugins||[];for(let i=0;i<o.length;i++){const a=o[i];s.indexOf(a)===-1&&(s.push(a),e[a.id]=!0)}return{plugins:s,localIds:e}}function Z7(t,e){return!e&&t===!1?null:t===!0?{}:t}function tj(t,{plugins:e,localIds:s},n,o){const i=[],a=t.getContext();for(const l of e){const c=l.id,u=Z7(n[c],o);u!==null&&i.push({plugin:l,options:ej(t.config,{plugin:l,local:s[c]},u,a)})}return i}function ej(t,{plugin:e,local:s},n,o){const i=t.pluginScopeKeys(e),a=t.getOptionScopes(n,i);return s&&e.defaults&&a.push(e.defaults),t.createResolver(a,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ga(t,e){const s=zt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function sj(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function nj(t,e){return t===e?"_index_":"_value_"}function zc(t){if(t==="x"||t==="y"||t==="r")return t}function oj(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wa(t,...e){if(zc(t))return t;for(const s of e){const n=s.axis||oj(s.position)||t.length>1&&zc(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Uc(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function ij(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return Uc(t,"x",s[0])||Uc(t,"y",s[0])}return{}}function aj(t,e){const s=Vs[t.type]||{scales:{}},n=e.scales||{},o=Ga(t.type,e),i=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!Ct(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Wa(a,l,ij(a,t),zt.scales[l.type]),u=nj(c,o),_=s.scales||{};i[a]=Kn(Object.create(null),[{axis:c},l,_[c],_[u]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,c=a.indexAxis||Ga(l,e),_=(Vs[l]||{}).scales||{};Object.keys(_).forEach(d=>{const h=sj(d,c),g=a[h+"AxisID"]||h;i[g]=i[g]||Object.create(null),Kn(i[g],[{axis:h},n[g],_[d]])})}),Object.keys(i).forEach(a=>{const l=i[a];Kn(l,[zt.scales[l.type],zt.scale])}),i}function Rd(t){const e=t.options||(t.options={});e.plugins=Et(e.plugins,{}),e.scales=aj(t,e)}function Nd(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function lj(t){return t=t||{},t.data=Nd(t.data),Rd(t),t}const Hc=new Map,jd=new Set;function No(t,e){let s=Hc.get(t);return s||(s=e(),Hc.set(t,s),jd.add(s)),s}const Pn=(t,e,s)=>{const n=pn(e,s);n!==void 0&&t.add(n)};class rj{constructor(e){this._config=lj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Nd(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Rd(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return No(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return No(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return No(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return No(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let o=n.get(e);return(!o||s)&&(o=new Map,n.set(e,o)),o}getOptionScopes(e,s,n){const{options:o,type:i}=this,a=this._cachedScopes(e,n),l=a.get(s);if(l)return l;const c=new Set;s.forEach(_=>{e&&(c.add(e),_.forEach(d=>Pn(c,e,d))),_.forEach(d=>Pn(c,o,d)),_.forEach(d=>Pn(c,Vs[i]||{},d)),_.forEach(d=>Pn(c,zt,d)),_.forEach(d=>Pn(c,Ha,d))});const u=Array.from(c);return u.length===0&&u.push(Object.create(null)),jd.has(s)&&a.set(s,u),u}chartOptionScopes(){const{options:e,type:s}=this;return[e,Vs[s]||{},zt.datasets[s]||{},{type:s},zt,Ha]}resolveNamedOptions(e,s,n,o=[""]){const i={$shared:!0},{resolver:a,subPrefixes:l}=Bc(this._resolverCache,e,o);let c=a;if(uj(a,s)){i.$shared=!1,n=bs(n)?n():n;const u=this.createResolver(e,n,l);c=mn(a,n,u)}for(const u of s)i[u]=c[u];return i}createResolver(e,s,n=[""],o){const{resolver:i}=Bc(this._resolverCache,e,n);return Ct(s)?mn(i,s,void 0,o):i}}function Bc(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const o=s.join();let i=n.get(o);return i||(i={resolver:Wl(e,s),subPrefixes:s.filter(l=>!l.toLowerCase().includes("hover"))},n.set(o,i)),i}const cj=t=>Ct(t)&&Object.getOwnPropertyNames(t).some(e=>bs(t[e]));function uj(t,e){const{isScriptable:s,isIndexable:n}=kd(t);for(const o of e){const i=s(o),a=n(o),l=(a||i)&&t[o];if(i&&(bs(l)||cj(l))||a&&Wt(l))return!0}return!1}var _j="4.4.3";const dj=["top","bottom","left","right","chartArea"];function Gc(t,e){return t==="top"||t==="bottom"||dj.indexOf(t)===-1&&e==="x"}function Wc(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function Vc(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Mt(s&&s.onComplete,[t],e)}function hj(t){const e=t.chart,s=e.options.animation;Mt(s&&s.onProgress,[t],e)}function Fd(t){return Yl()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const ei={},Kc=t=>{const e=Fd(t);return Object.values(ei).filter(s=>s.canvas===e).pop()};function fj(t,e,s){const n=Object.keys(t);for(const o of n){const i=+o;if(i>=e){const a=t[o];delete t[o],(s>0||i>e)&&(t[i+s]=a)}}}function gj(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}function jo(t,e,s){return t.options.clip?t[s]:e[s]}function pj(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:jo(s,e,"left"),right:jo(s,e,"right"),top:jo(n,e,"top"),bottom:jo(n,e,"bottom")}:e}var is;let Wi=(is=class{static register(...e){ze.add(...e),Yc()}static unregister(...e){ze.remove(...e),Yc()}constructor(e,s){const n=this.config=new rj(s),o=Fd(e),i=Kc(o);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||P7(o)),this.platform.updateConfig(n);const l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,_=c&&c.width;if(this.id=NR(),this.ctx=l,this.canvas=c,this.width=_,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Q7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tN(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],ei[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ve.listen(this,"complete",Vc),Ve.listen(this,"progress",hj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:o,_aspectRatio:i}=this;return Ot(e)?s&&i?i:o?n/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ze}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return gc(this.canvas,this.ctx),this}stop(){return Ve.stop(this),this}resize(e,s){Ve.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,o=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,e,s,i),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,vc(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Mt(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};At(s,(n,o)=>{n.id=o})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,o=Object.keys(n).reduce((a,l)=>(a[l]=!1,a),{});let i=[];s&&(i=i.concat(Object.keys(s).map(a=>{const l=s[a],c=Wa(a,l),u=c==="r",_=c==="x";return{options:l,dposition:u?"chartArea":_?"bottom":"left",dtype:u?"radialLinear":_?"category":"linear"}}))),At(i,a=>{const l=a.options,c=l.id,u=Wa(c,l),_=Et(l.type,a.dtype);(l.position===void 0||Gc(l.position,u)!==Gc(a.dposition))&&(l.position=a.dposition),o[c]=!0;let d=null;if(c in n&&n[c].type===_)d=n[c];else{const h=ze.getScale(_);d=new h({id:c,type:_,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(l,e)}),At(o,(a,l)=>{a||delete n[l]}),At(n,a=>{$e.configure(this,a,a.options),$e.addBox(this,a)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((o,i)=>o.index-i.index),n>s){for(let o=s;o<n;++o)this._destroyDatasetMeta(o);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(Wc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,o)=>{s.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,o;for(this._removeUnreferencedMetasets(),n=0,o=s.length;n<o;n++){const i=s[n];let a=this.getDatasetMeta(n);const l=i.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=l,a.indexAxis=i.indexAxis||Ga(l,this.options),a.order=i.order||0,a.index=n,a.label=""+i.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const c=ze.getController(l),{datasetElementType:u,dataElementType:_}=zt.datasets[l];Object.assign(c,{dataElementType:ze.getElement(_),datasetElementType:u&&ze.getElement(u)}),a.controller=new c(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){At(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,_=this.data.datasets.length;u<_;u++){const{controller:d}=this.getDatasetMeta(u),h=!o&&i.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),o||At(i,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Wc("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){At(this.scales,e=>{$e.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!ic(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:o,count:i}of s){const a=n==="_removeElements"?-i:i;fj(e,o,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=i=>new Set(e.filter(a=>a[0]===i).map((a,l)=>l+","+a.splice(1).join(","))),o=n(0);for(let i=1;i<s;i++)if(!ic(o,n(i)))return;return Array.from(o).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$e.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],At(this.boxes,o=>{n&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,i)=>{o._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,bs(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),o={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(n.controller._update(s),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ve.has(this)?this.attached&&!Ve.running(this)&&Ve.start(this):(this.draw(),Vc({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:o}=this._resizeBeforeDraw;this._resize(n,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let o,i;for(o=0,i=s.length;o<i;++o){const a=s[o];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n=e._clip,o=!n.disabled,i=pj(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Hl(s,{left:n.left===!1?0:i.left-n.left,right:n.right===!1?this.width:i.right+n.right,top:n.top===!1?0:i.top-n.top,bottom:n.bottom===!1?this.height:i.bottom+n.bottom}),e.controller.draw(),o&&Bl(s),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Ul(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,o){const i=d7.modes[s];return typeof i=="function"?i(this,e,n,o):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let o=n.filter(i=>i&&i._dataset===s).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(o)),o}getContext(){return this.$context||(this.$context=kn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const o=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,o);ro(s)?(i.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update(l=>l.datasetIndex===e?o:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Ve.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),gc(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete ei[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(i,a)=>{s.addEventListener(this,i,a),e[i]=a},o=(i,a,l)=>{i.offsetX=a,i.offsetY=l,this._eventHandler(i)};At(this.options.events,i=>n(i,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(c,u)=>{s.addEventListener(this,c,u),e[c]=u},o=(c,u)=>{e[c]&&(s.removeEventListener(this,c,u),delete e[c])},i=(c,u)=>{this.canvas&&this.resize(c,u)};let a;const l=()=>{o("attach",l),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,o("resize",i),this._stop(),this._resize(0,0),n("attach",l)},s.isAttached(this.canvas)?l():a()}unbindEvents(){At(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},At(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const o=n?"set":"remove";let i,a,l,c;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){a=e[l];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:i,index:a})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[a],index:a}});!_i(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const o=this.options.hover,i=(c,u)=>c.filter(_=>!u.some(d=>_.datasetIndex===d.datasetIndex&&_.index===d.index)),a=i(s,e),l=n?e:i(e,s);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},o=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,o)===!1)return;const i=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,o),(i||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:o=[],options:i}=this,a=s,l=this._getActiveElements(e,o,n,a),c=BR(e),u=gj(e,this._lastEvent,n,c);n&&(this._lastEvent=null,Mt(i.onHover,[e,l,this],this),c&&Mt(i.onClick,[e,l,this],this));const _=!_i(l,o);return(_||s)&&(this._active=l,this._updateHoverStyles(l,o,s)),this._lastEvent=u,_}_getActiveElements(e,s,n,o){if(e.type==="mouseout")return[];if(!n)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,o)}},ft(is,"defaults",zt),ft(is,"instances",ei),ft(is,"overrides",Vs),ft(is,"registry",ze),ft(is,"version",_j),ft(is,"getChart",Kc),is);function Yc(){return At(Wi.instances,t=>t._plugins.invalidate())}function mj(t,e,s){const{startAngle:n,pixelMargin:o,x:i,y:a,outerRadius:l,innerRadius:c}=e;let u=o/l;t.beginPath(),t.arc(i,a,l,n-u,s+u),c>o?(u=o/c,t.arc(i,a,c,s+u,n-u,!0)):t.arc(i,a,o,s+qt,n-qt),t.closePath(),t.clip()}function vj(t){return Gl(t,["outerStart","outerEnd","innerStart","innerEnd"])}function wj(t,e,s,n){const o=vj(t.options.borderRadius),i=(s-e)/2,a=Math.min(i,n*e/2),l=c=>{const u=(s-Math.min(i,c))*n/2;return ce(c,0,Math.min(i,u))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:ce(o.innerStart,0,a),innerEnd:ce(o.innerEnd,0,a)}}function on(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function vi(t,e,s,n,o,i){const{x:a,y:l,startAngle:c,pixelMargin:u,innerRadius:_}=e,d=Math.max(e.outerRadius+n+s-u,0),h=_>0?_+n+s+u:0;let g=0;const w=o-c;if(n){const H=_>0?_-n:0,L=d>0?d-n:0,Y=(H+L)/2,z=Y!==0?w*Y/(Y+n):w;g=(w-z)/2}const f=Math.max(.001,w*d-s/Yt)/d,p=(w-f)/2,m=c+p+g,b=o-p-g,{outerStart:x,outerEnd:A,innerStart:I,innerEnd:T}=wj(e,h,d,b-m),D=d-x,C=d-A,P=m+x/D,j=b-A/C,G=h+I,R=h+T,ot=m+I/G,ct=b-T/R;if(t.beginPath(),i){const H=(P+j)/2;if(t.arc(a,l,d,P,H),t.arc(a,l,d,H,j),A>0){const tt=on(C,j,a,l);t.arc(tt.x,tt.y,A,j,b+qt)}const L=on(R,b,a,l);if(t.lineTo(L.x,L.y),T>0){const tt=on(R,ct,a,l);t.arc(tt.x,tt.y,T,b+qt,ct+Math.PI)}const Y=(b-T/h+(m+I/h))/2;if(t.arc(a,l,h,b-T/h,Y,!0),t.arc(a,l,h,Y,m+I/h,!0),I>0){const tt=on(G,ot,a,l);t.arc(tt.x,tt.y,I,ot+Math.PI,m-qt)}const z=on(D,m,a,l);if(t.lineTo(z.x,z.y),x>0){const tt=on(D,P,a,l);t.arc(tt.x,tt.y,x,m-qt,P)}}else{t.moveTo(a,l);const H=Math.cos(P)*d+a,L=Math.sin(P)*d+l;t.lineTo(H,L);const Y=Math.cos(j)*d+a,z=Math.sin(j)*d+l;t.lineTo(Y,z)}t.closePath()}function yj(t,e,s,n,o){const{fullCircles:i,startAngle:a,circumference:l}=e;let c=e.endAngle;if(i){vi(t,e,s,n,c,o);for(let u=0;u<i;++u)t.fill();isNaN(l)||(c=a+(l%oe||oe))}return vi(t,e,s,n,c,o),t.fill(),c}function bj(t,e,s,n,o){const{fullCircles:i,startAngle:a,circumference:l,options:c}=e,{borderWidth:u,borderJoinStyle:_,borderDash:d,borderDashOffset:h}=c,g=c.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=h,g?(t.lineWidth=u*2,t.lineJoin=_||"round"):(t.lineWidth=u,t.lineJoin=_||"bevel");let w=e.endAngle;if(i){vi(t,e,s,n,w,o);for(let f=0;f<i;++f)t.stroke();isNaN(l)||(w=a+(l%oe||oe))}g&&mj(t,e,w),i||(vi(t,e,s,n,w,o),t.stroke())}class jn extends Cs{constructor(s){super();ft(this,"circumference");ft(this,"endAngle");ft(this,"fullCircles");ft(this,"innerRadius");ft(this,"outerRadius");ft(this,"pixelMargin");ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,o){const i=this.getProps(["x","y"],o),{angle:a,distance:l}=ud(i,{x:s,y:n}),{startAngle:c,endAngle:u,innerRadius:_,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),g=(this.options.spacing+this.options.borderWidth)/2,f=Et(h,u-c)>=oe||_d(a,c,u),p=Hs(l,_+g,d+g);return f&&p}getCenterPoint(s){const{x:n,y:o,startAngle:i,endAngle:a,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:u,spacing:_}=this.options,d=(i+a)/2,h=(l+c+_+u)/2;return{x:n+Math.cos(d)*h,y:o+Math.sin(d)*h}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:o}=this,i=(n.offset||0)/4,a=(n.spacing||0)/2,l=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=o>oe?Math.floor(o/oe):0,o===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const c=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(c)*i,Math.sin(c)*i);const u=1-Math.sin(Math.min(Yt,o||0)),_=i*u;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,yj(s,this,_,a,l),bj(s,this,_,a,l),s.restore()}}ft(jn,"id","arc"),ft(jn,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ft(jn,"defaultRoutes",{backgroundColor:"backgroundColor"}),ft(jn,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Jc(t,e,s,n){const o=t.options,{[s]:i}=t.getProps([s],n);return Math.abs(e-i)<o.radius+o.hitRadius}class si extends Cs{constructor(s){super();ft(this,"parsed");ft(this,"skip");ft(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,o){const i=this.options,{x:a,y:l}=this.getProps(["x","y"],o);return Math.pow(s-a,2)+Math.pow(n-l,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(s,n){return Jc(this,s,"x",n)}inYRange(s,n){return Jc(this,s,"y",n)}getCenterPoint(s){const{x:n,y:o}=this.getProps(["x","y"],s);return{x:n,y:o}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const o=n&&s.borderWidth||0;return(n+o)*2}draw(s,n){const o=this.options;this.skip||o.radius<.1||!Ul(this,n,this.size(o)/2)||(s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.fillStyle=o.backgroundColor,Ba(s,o,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}ft(si,"id","point"),ft(si,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ft(si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function zd(t,e){const{x:s,y:n,base:o,width:i,height:a}=t.getProps(["x","y","base","width","height"],e);let l,c,u,_,d;return t.horizontal?(d=a/2,l=Math.min(s,o),c=Math.max(s,o),u=n-d,_=n+d):(d=i/2,l=s-d,c=s+d,u=Math.min(n,o),_=Math.max(n,o)),{left:l,top:u,right:c,bottom:_}}function hs(t,e,s,n){return t?0:ce(e,s,n)}function kj(t,e,s){const n=t.options.borderWidth,o=t.borderSkipped,i=bd(n);return{t:hs(o.top,i.top,0,s),r:hs(o.right,i.right,0,e),b:hs(o.bottom,i.bottom,0,s),l:hs(o.left,i.left,0,e)}}function xj(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),o=t.options.borderRadius,i=un(o),a=Math.min(e,s),l=t.borderSkipped,c=n||Ct(o);return{topLeft:hs(!c||l.top||l.left,i.topLeft,0,a),topRight:hs(!c||l.top||l.right,i.topRight,0,a),bottomLeft:hs(!c||l.bottom||l.left,i.bottomLeft,0,a),bottomRight:hs(!c||l.bottom||l.right,i.bottomRight,0,a)}}function $j(t){const e=zd(t),s=e.right-e.left,n=e.bottom-e.top,o=kj(t,s/2,n/2),i=xj(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:i},inner:{x:e.left+o.l,y:e.top+o.t,w:s-o.l-o.r,h:n-o.t-o.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,i.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(o.b,o.r))}}}}function ga(t,e,s,n){const o=e===null,i=s===null,l=t&&!(o&&i)&&zd(t,n);return l&&(o||Hs(e,l.left,l.right))&&(i||Hs(s,l.top,l.bottom))}function Sj(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Tj(t,e){t.rect(e.x,e.y,e.w,e.h)}function pa(t,e,s={}){const n=t.x!==s.x?-e:0,o=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-n,a=(t.y+t.h!==s.y+s.h?e:0)-o;return{x:t.x+n,y:t.y+o,w:t.w+i,h:t.h+a,radius:t.radius}}class Qn extends Cs{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:o}}=this,{inner:i,outer:a}=$j(this),l=Sj(a.radius)?gi:Tj;e.save(),(a.w!==i.w||a.h!==i.h)&&(e.beginPath(),l(e,pa(a,s,i)),e.clip(),l(e,pa(i,-s,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),l(e,pa(i,s)),e.fillStyle=o,e.fill(),e.restore()}inRange(e,s,n){return ga(this,e,s,n)}inXRange(e,s){return ga(this,e,null,s)}inYRange(e,s){return ga(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:o,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+o)/2:s,y:i?n:(n+o)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ft(Qn,"id","bar"),ft(Qn,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ft(Qn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const qc=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},Cj=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Qc extends Cs{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Mt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,o)=>e.sort(n,o,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,o=Qt(n.font),i=o.size,a=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=qc(n,i);let u,_;s.font=o.string,this.isHorizontal()?(u=this.maxWidth,_=this._fitRows(a,i,l,c)+10):(_=this.maxHeight,u=this._fitCols(a,o,l,c)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(_,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,o){const{ctx:i,maxWidth:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.lineWidths=[0],_=o+l;let d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,g=-_;return this.legendItems.forEach((w,f)=>{const p=n+s/2+i.measureText(w.text).width;(f===0||u[u.length-1]+p+2*l>a)&&(d+=_,u[u.length-(f>0?0:1)]=0,g+=_,h++),c[f]={left:0,top:g,row:h,width:p,height:o},u[u.length-1]+=p+l}),d}_fitCols(e,s,n,o){const{ctx:i,maxHeight:a,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],u=this.columnSizes=[],_=a-e;let d=l,h=0,g=0,w=0,f=0;return this.legendItems.forEach((p,m)=>{const{itemWidth:b,itemHeight:x}=Ej(n,s,i,p,o);m>0&&g+x+2*l>_&&(d+=h+l,u.push({width:h,height:g}),w+=h+l,f++,h=g=0),c[m]={left:w,top:g,col:f,width:b,height:x},h=Math.max(h,b),g+=x+l}),d+=h,u.push({width:h,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:o},rtl:i}}=this,a=_n(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=Zt(n,this.left+o,this.right-this.lineWidths[l]);for(const u of s)l!==u.row&&(l=u.row,c=Zt(n,this.left+o,this.right-this.lineWidths[l])),u.top+=this.top+e+o,u.left=a.leftForLtr(a.x(c),u.width),c+=u.width+o}else{let l=0,c=Zt(n,this.top+e+o,this.bottom-this.columnSizes[l].height);for(const u of s)u.col!==l&&(l=u.col,c=Zt(n,this.top+e+o,this.bottom-this.columnSizes[l].height)),u.top=c,u.left+=this.left+o,u.left=a.leftForLtr(a.x(u.left),u.width),c+=u.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Hl(e,this),this._draw(),Bl(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:o}=this,{align:i,labels:a}=e,l=zt.color,c=_n(e.rtl,this.left,this.width),u=Qt(a.font),{padding:_}=a,d=u.size,h=d/2;let g;this.drawTitle(),o.textAlign=c.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=u.string;const{boxWidth:w,boxHeight:f,itemHeight:p}=qc(a,d),m=function(T,D,C){if(isNaN(w)||w<=0||isNaN(f)||f<0)return;o.save();const P=Et(C.lineWidth,1);if(o.fillStyle=Et(C.fillStyle,l),o.lineCap=Et(C.lineCap,"butt"),o.lineDashOffset=Et(C.lineDashOffset,0),o.lineJoin=Et(C.lineJoin,"miter"),o.lineWidth=P,o.strokeStyle=Et(C.strokeStyle,l),o.setLineDash(Et(C.lineDash,[])),a.usePointStyle){const j={radius:f*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:P},G=c.xPlus(T,w/2),R=D+h;yd(o,j,G,R,a.pointStyleWidth&&w)}else{const j=D+Math.max((d-f)/2,0),G=c.leftForLtr(T,w),R=un(C.borderRadius);o.beginPath(),Object.values(R).some(ot=>ot!==0)?gi(o,{x:G,y:j,w,h:f,radius:R}):o.rect(G,j,w,f),o.fill(),P!==0&&o.stroke()}o.restore()},b=function(T,D,C){co(o,C.text,T,D+p/2,u,{strikethrough:C.hidden,textAlign:c.textAlign(C.textAlign)})},x=this.isHorizontal(),A=this._computeTitleHeight();x?g={x:Zt(i,this.left+_,this.right-n[0]),y:this.top+_+A,line:0}:g={x:this.left+_,y:Zt(i,this.top+A+_,this.bottom-s[0].height),line:0},Td(this.ctx,e.textDirection);const I=p+_;this.legendItems.forEach((T,D)=>{o.strokeStyle=T.fontColor,o.fillStyle=T.fontColor;const C=o.measureText(T.text).width,P=c.textAlign(T.textAlign||(T.textAlign=a.textAlign)),j=w+h+C;let G=g.x,R=g.y;c.setWidth(this.width),x?D>0&&G+j+_>this.right&&(R=g.y+=I,g.line++,G=g.x=Zt(i,this.left+_,this.right-n[g.line])):D>0&&R+I>this.bottom&&(G=g.x=G+s[g.line].width+_,g.line++,R=g.y=Zt(i,this.top+A+_,this.bottom-s[g.line].height));const ot=c.x(G);if(m(ot,R,T),G=eN(P,G+w+h,x?G+j:this.right,e.rtl),b(c.x(G),R,T),x)g.x+=j+_;else if(typeof T.text!="string"){const ct=u.lineHeight;g.y+=Ud(T,ct)+_}else g.y+=I}),Cd(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=Qt(s.font),o=ge(s.padding);if(!s.display)return;const i=_n(e.rtl,this.left,this.width),a=this.ctx,l=s.position,c=n.size/2,u=o.top+c;let _,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),_=this.top+u,d=Zt(e.align,d,this.right-h);else{const w=this.columnSizes.reduce((f,p)=>Math.max(f,p.height),0);_=u+Zt(e.align,this.top,this.bottom-w-e.labels.padding-this._computeTitleHeight())}const g=Zt(l,d,d+h);a.textAlign=i.textAlign(zl(l)),a.textBaseline="middle",a.strokeStyle=s.color,a.fillStyle=s.color,a.font=n.string,co(a,s.text,g,_,n)}_computeTitleHeight(){const e=this.options.title,s=Qt(e.font),n=ge(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,o,i;if(Hs(e,this.left,this.right)&&Hs(s,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(o=i[n],Hs(e,o.left,o.left+o.width)&&Hs(s,o.top,o.top+o.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!Ij(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,i=Cj(o,n);o&&!i&&Mt(s.onLeave,[e,o,this],this),this._hoveredItem=n,n&&!i&&Mt(s.onHover,[e,n,this],this)}else n&&Mt(s.onClick,[e,n,this],this)}}function Ej(t,e,s,n,o){const i=Aj(n,t,e,s),a=Oj(o,n,e.lineHeight);return{itemWidth:i,itemHeight:a}}function Aj(t,e,s,n){let o=t.text;return o&&typeof o!="string"&&(o=o.reduce((i,a)=>i.length>a.length?i:a)),e+s.size/2+n.measureText(o).width}function Oj(t,e,s){let n=t;return typeof e.text!="string"&&(n=Ud(e,s)),n}function Ud(t,e){const s=t.text?t.text.length:0;return e*s}function Ij(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Mj={id:"legend",_element:Qc,start(t,e,s){const n=t.legend=new Qc({ctx:t.ctx,options:s,chart:t});$e.configure(t,n,s),$e.addBox(t,n)},stop(t){$e.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;$e.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,o=s.chart;o.isDatasetVisible(n)?(o.hide(n),e.hidden=!0):(o.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:o,color:i,useBorderRadius:a,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const u=c.controller.getStyle(s?0:void 0),_=ge(u.borderWidth);return{text:e[c.index].label,fillStyle:u.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:o||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Hd extends Cs{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const o=Wt(n.text)?n.text.length:1;this._padding=ge(n.padding);const i=o*Qt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:o,right:i,options:a}=this,l=a.align;let c=0,u,_,d;return this.isHorizontal()?(_=Zt(l,n,i),d=s+e,u=i-n):(a.position==="left"?(_=n+e,d=Zt(l,o,s),c=Yt*-.5):(_=i-e,d=Zt(l,s,o),c=Yt*.5),u=o-s),{titleX:_,titleY:d,maxWidth:u,rotation:c}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=Qt(s.font),i=n.lineHeight/2+this._padding.top,{titleX:a,titleY:l,maxWidth:c,rotation:u}=this._drawArgs(i);co(e,s.text,0,0,n,{color:s.color,maxWidth:c,rotation:u,textAlign:zl(s.align),textBaseline:"middle",translation:[a,l]})}}function Pj(t,e){const s=new Hd({ctx:t.ctx,options:e,chart:t});$e.configure(t,s,e),$e.addBox(t,s),t.titleBlock=s}var Lj={id:"title",_element:Hd,start(t,e,s){Pj(t,s)},stop(t){const e=t.titleBlock;$e.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;$e.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fn={average(t){if(!t.length)return!1;let e,s,n=new Set,o=0,i=0;for(e=0,s=t.length;e<s;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();n.add(c.x),o+=c.y,++i}}return{x:[...n].reduce((l,c)=>l+c)/n.size,y:o/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,o=Number.POSITIVE_INFINITY,i,a,l;for(i=0,a=t.length;i<a;++i){const c=t[i].element;if(c&&c.hasValue()){const u=c.getCenterPoint(),_=JR(e,u);_<o&&(o=_,l=c)}}if(l){const c=l.tooltipPosition();s=c.x,n=c.y}return{x:s,y:n}}};function Fe(t,e){return e&&(Wt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ke(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Dj(t,e){const{element:s,datasetIndex:n,index:o}=e,i=t.getDatasetMeta(n).controller,{label:a,value:l}=i.getLabelAndValue(o);return{chart:t,label:a,parsed:i.getParsed(o),raw:t.data.datasets[n].data[o],formattedValue:l,dataset:i.getDataset(),dataIndex:o,datasetIndex:n,element:s}}function Xc(t,e){const s=t.chart.ctx,{body:n,footer:o,title:i}=t,{boxWidth:a,boxHeight:l}=e,c=Qt(e.bodyFont),u=Qt(e.titleFont),_=Qt(e.footerFont),d=i.length,h=o.length,g=n.length,w=ge(e.padding);let f=w.height,p=0,m=n.reduce((A,I)=>A+I.before.length+I.lines.length+I.after.length,0);if(m+=t.beforeBody.length+t.afterBody.length,d&&(f+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),m){const A=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;f+=g*A+(m-g)*c.lineHeight+(m-1)*e.bodySpacing}h&&(f+=e.footerMarginTop+h*_.lineHeight+(h-1)*e.footerSpacing);let b=0;const x=function(A){p=Math.max(p,s.measureText(A).width+b)};return s.save(),s.font=u.string,At(t.title,x),s.font=c.string,At(t.beforeBody.concat(t.afterBody),x),b=e.displayColors?a+2+e.boxPadding:0,At(n,A=>{At(A.before,x),At(A.lines,x),At(A.after,x)}),b=0,s.font=_.string,At(t.footer,x),s.restore(),p+=w.width,{width:p,height:f}}function Rj(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function Nj(t,e,s,n){const{x:o,width:i}=n,a=s.caretSize+s.caretPadding;if(t==="left"&&o+i+a>e.width||t==="right"&&o-i-a<0)return!0}function jj(t,e,s,n){const{x:o,width:i}=s,{width:a,chartArea:{left:l,right:c}}=t;let u="center";return n==="center"?u=o<=(l+c)/2?"left":"right":o<=i/2?u="left":o>=a-i/2&&(u="right"),Nj(u,t,e,s)&&(u="center"),u}function Zc(t,e,s){const n=s.yAlign||e.yAlign||Rj(t,s);return{xAlign:s.xAlign||e.xAlign||jj(t,e,s,n),yAlign:n}}function Fj(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function zj(t,e,s){let{y:n,height:o}=t;return e==="top"?n+=s:e==="bottom"?n-=o+s:n-=o/2,n}function tu(t,e,s,n){const{caretSize:o,caretPadding:i,cornerRadius:a}=t,{xAlign:l,yAlign:c}=s,u=o+i,{topLeft:_,topRight:d,bottomLeft:h,bottomRight:g}=un(a);let w=Fj(e,l);const f=zj(e,c,u);return c==="center"?l==="left"?w+=u:l==="right"&&(w-=u):l==="left"?w-=Math.max(_,h)+o:l==="right"&&(w+=Math.max(d,g)+o),{x:ce(w,0,n.width-e.width),y:ce(f,0,n.height-e.height)}}function Fo(t,e,s){const n=ge(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function eu(t){return Fe([],Ke(t))}function Uj(t,e,s){return kn(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function su(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const Bd={beforeTitle:We,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:We,beforeBody:We,beforeLabel:We,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return Ot(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:We,afterBody:We,beforeFooter:We,footer:We,afterFooter:We};function ie(t,e,s,n){const o=t[e].call(s,n);return typeof o>"u"?Bd[e].call(s,n):o}class Va extends Cs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),o=n.enabled&&s.options.animation&&n.animations,i=new Ed(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Uj(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,o=ie(n,"beforeTitle",this,e),i=ie(n,"title",this,e),a=ie(n,"afterTitle",this,e);let l=[];return l=Fe(l,Ke(o)),l=Fe(l,Ke(i)),l=Fe(l,Ke(a)),l}getBeforeBody(e,s){return eu(ie(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,o=[];return At(e,i=>{const a={before:[],lines:[],after:[]},l=su(n,i);Fe(a.before,Ke(ie(l,"beforeLabel",this,i))),Fe(a.lines,ie(l,"label",this,i)),Fe(a.after,Ke(ie(l,"afterLabel",this,i))),o.push(a)}),o}getAfterBody(e,s){return eu(ie(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,o=ie(n,"beforeFooter",this,e),i=ie(n,"footer",this,e),a=ie(n,"afterFooter",this,e);let l=[];return l=Fe(l,Ke(o)),l=Fe(l,Ke(i)),l=Fe(l,Ke(a)),l}_createItems(e){const s=this._active,n=this.chart.data,o=[],i=[],a=[];let l=[],c,u;for(c=0,u=s.length;c<u;++c)l.push(Dj(this.chart,s[c]));return e.filter&&(l=l.filter((_,d,h)=>e.filter(_,d,h,n))),e.itemSort&&(l=l.sort((_,d)=>e.itemSort(_,d,n))),At(l,_=>{const d=su(e.callbacks,_);o.push(ie(d,"labelColor",this,_)),i.push(ie(d,"labelPointStyle",this,_)),a.push(ie(d,"labelTextColor",this,_))}),this.labelColors=o,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,s){const n=this.options.setContext(this.getContext()),o=this._active;let i,a=[];if(!o.length)this.opacity!==0&&(i={opacity:0});else{const l=Fn[n.position].call(this,o,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const c=this._size=Xc(this,n),u=Object.assign({},l,c),_=Zc(this.chart,n,u),d=tu(n,u,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,i={opacity:1,x:d.x,y:d.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,o){const i=this.getCaretPosition(e,n,o);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,n){const{xAlign:o,yAlign:i}=this,{caretSize:a,cornerRadius:l}=n,{topLeft:c,topRight:u,bottomLeft:_,bottomRight:d}=un(l),{x:h,y:g}=e,{width:w,height:f}=s;let p,m,b,x,A,I;return i==="center"?(A=g+f/2,o==="left"?(p=h,m=p-a,x=A+a,I=A-a):(p=h+w,m=p+a,x=A-a,I=A+a),b=p):(o==="left"?m=h+Math.max(c,_)+a:o==="right"?m=h+w-Math.max(u,d)-a:m=this.caretX,i==="top"?(x=g,A=x-a,p=m-a,b=m+a):(x=g+f,A=x+a,p=m+a,b=m-a),I=x),{x1:p,x2:m,x3:b,y1:x,y2:A,y3:I}}drawTitle(e,s,n){const o=this.title,i=o.length;let a,l,c;if(i){const u=_n(n.rtl,this.x,this.width);for(e.x=Fo(this,n.titleAlign,n),s.textAlign=u.textAlign(n.titleAlign),s.textBaseline="middle",a=Qt(n.titleFont),l=n.titleSpacing,s.fillStyle=n.titleColor,s.font=a.string,c=0;c<i;++c)s.fillText(o[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,s,n,o,i){const a=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:c,boxWidth:u}=i,_=Qt(i.bodyFont),d=Fo(this,"left",i),h=o.x(d),g=c<_.lineHeight?(_.lineHeight-c)/2:0,w=s.y+g;if(i.usePointStyle){const f={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},p=o.leftForLtr(h,u)+u/2,m=w+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Ba(e,f,p,m),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Ba(e,f,p,m)}else{e.lineWidth=Ct(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const f=o.leftForLtr(h,u),p=o.leftForLtr(o.xPlus(h,1),u-2),m=un(a.borderRadius);Object.values(m).some(b=>b!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,gi(e,{x:f,y:w,w:u,h:c,radius:m}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),gi(e,{x:p,y:w+1,w:u-2,h:c-2,radius:m}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(f,w,u,c),e.strokeRect(f,w,u,c),e.fillStyle=a.backgroundColor,e.fillRect(p,w+1,u-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:o}=this,{bodySpacing:i,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:_}=n,d=Qt(n.bodyFont);let h=d.lineHeight,g=0;const w=_n(n.rtl,this.x,this.width),f=function(C){s.fillText(C,w.x(e.x+g),e.y+h/2),e.y+=h+i},p=w.textAlign(a);let m,b,x,A,I,T,D;for(s.textAlign=a,s.textBaseline="middle",s.font=d.string,e.x=Fo(this,p,n),s.fillStyle=n.bodyColor,At(this.beforeBody,f),g=l&&p!=="right"?a==="center"?u/2+_:u+2+_:0,A=0,T=o.length;A<T;++A){for(m=o[A],b=this.labelTextColors[A],s.fillStyle=b,At(m.before,f),x=m.lines,l&&x.length&&(this._drawColorBox(s,e,A,w,n),h=Math.max(d.lineHeight,c)),I=0,D=x.length;I<D;++I)f(x[I]),h=d.lineHeight;At(m.after,f)}g=0,h=d.lineHeight,At(this.afterBody,f),e.y-=i}drawFooter(e,s,n){const o=this.footer,i=o.length;let a,l;if(i){const c=_n(n.rtl,this.x,this.width);for(e.x=Fo(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=c.textAlign(n.footerAlign),s.textBaseline="middle",a=Qt(n.footerFont),s.fillStyle=n.footerColor,s.font=a.string,l=0;l<i;++l)s.fillText(o[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,s,n,o){const{xAlign:i,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:_}=n,{topLeft:d,topRight:h,bottomLeft:g,bottomRight:w}=un(o.cornerRadius);s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor,s.lineWidth=o.borderWidth,s.beginPath(),s.moveTo(l+d,c),a==="top"&&this.drawCaret(e,s,n,o),s.lineTo(l+u-h,c),s.quadraticCurveTo(l+u,c,l+u,c+h),a==="center"&&i==="right"&&this.drawCaret(e,s,n,o),s.lineTo(l+u,c+_-w),s.quadraticCurveTo(l+u,c+_,l+u-w,c+_),a==="bottom"&&this.drawCaret(e,s,n,o),s.lineTo(l+g,c+_),s.quadraticCurveTo(l,c+_,l,c+_-g),a==="center"&&i==="left"&&this.drawCaret(e,s,n,o),s.lineTo(l,c+d),s.quadraticCurveTo(l,c,l+d,c),s.closePath(),s.fill(),o.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,o=n&&n.x,i=n&&n.y;if(o||i){const a=Fn[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Xc(this,e),c=Object.assign({},a,this._size),u=Zc(s,e,c),_=tu(e,c,u,s);(o._to!==_.x||i._to!==_.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const o={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=ge(s.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&l&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,o,s),Td(e,s.textDirection),i.y+=a.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),Cd(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,o=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),i=!_i(n,o),a=this._positionChanged(o,s);(i||a)&&(this._active=o,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,i=this._active||[],a=this._getActiveElements(e,i,s,n),l=this._positionChanged(a,e),c=s||!_i(a,i)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),c}_getActiveElements(e,s,n,o){const i=this.options;if(e.type==="mouseout")return[];if(!o)return s.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,s){const{caretX:n,caretY:o,options:i}=this,a=Fn[i.position].call(this,e,s);return a!==!1&&(n!==a.x||o!==a.y)}}ft(Va,"positioners",Fn);var Hj={id:"tooltip",_element:Va,positioners:Fn,afterInit(t,e,s){s&&(t.tooltip=new Va({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Bd},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Bj=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function Gj(t,e,s,n){const o=t.indexOf(e);if(o===-1)return Bj(t,e,s,n);const i=t.lastIndexOf(e);return o!==i?s:o}const Wj=(t,e)=>t===null?null:ce(Math.round(t),0,e);function nu(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ka extends xn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:o,label:i}of s)n[o]===i&&n.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(Ot(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:Gj(n,e,Et(s,e),this._addedLabels),Wj(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(o=this.getLabels().length-1)),this.min=n,this.max=o}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,o=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=s;a++)o.push({value:a});return o}getLabelForValue(e){return nu.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ft(Ka,"id","category"),ft(Ka,"defaults",{ticks:{callback:nu}});function Vj(t,e){const s=[],{bounds:o,step:i,min:a,max:l,precision:c,count:u,maxTicks:_,maxDigits:d,includeBounds:h}=t,g=i||1,w=_-1,{min:f,max:p}=e,m=!Ot(a),b=!Ot(l),x=!Ot(u),A=(p-f)/(d+1);let I=lc((p-f)/w/g)*g,T,D,C,P;if(I<1e-14&&!m&&!b)return[{value:f},{value:p}];P=Math.ceil(p/I)-Math.floor(f/I),P>w&&(I=lc(P*I/w/g)*g),Ot(c)||(T=Math.pow(10,c),I=Math.ceil(I*T)/T),o==="ticks"?(D=Math.floor(f/I)*I,C=Math.ceil(p/I)*I):(D=f,C=p),m&&b&&i&&VR((l-a)/i,I/1e3)?(P=Math.round(Math.min((l-a)/I,_)),I=(l-a)/P,D=a,C=l):x?(D=m?a:D,C=b?l:C,P=u-1,I=(C-D)/P):(P=(C-D)/I,Xo(P,Math.round(P),I/1e3)?P=Math.round(P):P=Math.ceil(P));const j=Math.max(rc(I),rc(D));T=Math.pow(10,Ot(c)?j:c),D=Math.round(D*T)/T,C=Math.round(C*T)/T;let G=0;for(m&&(h&&D!==a?(s.push({value:a}),D<a&&G++,Xo(Math.round((D+G*I)*T)/T,a,ou(a,A,t))&&G++):D<a&&G++);G<P;++G){const R=Math.round((D+G*I)*T)/T;if(b&&R>l)break;s.push({value:R})}return b&&h&&C!==l?s.length&&Xo(s[s.length-1].value,l,ou(l,A,t))?s[s.length-1].value=l:s.push({value:l}):(!b||C===l)&&s.push({value:C}),s}function ou(t,e,{horizontal:s,minRotation:n}){const o=Us(n),i=(s?Math.sin(o):Math.cos(o))||.001,a=.75*e*(""+t).length;return Math.min(e/i,a)}class Kj extends xn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return Ot(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:o,max:i}=this;const a=c=>o=s?o:c,l=c=>i=n?i:c;if(e){const c=ms(o),u=ms(i);c<0&&u<0?l(0):c>0&&u>0&&a(0)}if(o===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||a(o-c)}this.min=o,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,o;return n?(o=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),s=s||11),s&&(o=Math.min(s,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,a=Vj(o,i);return e.bounds==="ticks"&&KR(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const o=(n-s)/Math.max(e.length-1,1)/2;s-=o,n+=o}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return md(e,this.chart.options.locale,this.options.ticks.format)}}class Ya extends Kj{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=Te(e)?e:0,this.max=Te(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=Us(this.options.ticks.minRotation),o=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ft(Ya,"id","linear"),ft(Ya,"defaults",{ticks:{callback:wd.formatters.numeric}});const Vi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},re=Object.keys(Vi);function iu(t,e){return t-e}function au(t,e){if(Ot(e))return null;const s=t._adapter,{parser:n,round:o,isoWeekday:i}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Te(a)||(a=typeof n=="string"?s.parse(a,n):s.parse(a)),a===null?null:(o&&(a=o==="week"&&(fi(i)||i===!0)?s.startOf(a,"isoWeek",i):s.startOf(a,o)),+a)}function lu(t,e,s,n){const o=re.length;for(let i=re.indexOf(t);i<o-1;++i){const a=Vi[re[i]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((s-e)/(l*a.size))<=n)return re[i]}return re[o-1]}function Yj(t,e,s,n,o){for(let i=re.length-1;i>=re.indexOf(s);i--){const a=re[i];if(Vi[a].common&&t._adapter.diff(o,n,a)>=e-1)return a}return re[s?re.indexOf(s):0]}function Jj(t){for(let e=re.indexOf(t)+1,s=re.length;e<s;++e)if(Vi[re[e]].common)return re[e]}function ru(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:o}=Fl(s,e),i=s[n]>=e?s[n]:s[o];t[i]=!0}}function qj(t,e,s,n){const o=t._adapter,i=+o.startOf(e[0].value,n),a=e[e.length-1].value;let l,c;for(l=i;l<=a;l=+o.add(l,1,n))c=s[l],c>=0&&(e[c].major=!0);return e}function cu(t,e,s){const n=[],o={},i=e.length;let a,l;for(a=0;a<i;++a)l=e[a],o[l]=a,n.push({value:l,major:!1});return i===0||!s?n:qj(t,n,o,s)}class wi extends xn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),o=this._adapter=new l7._date(e.adapters.date);o.init(s),Kn(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:au(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:o,max:i,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(i=Math.max(i,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=Te(o)&&!isNaN(o)?o:+s.startOf(Date.now(),n),i=Te(i)&&!isNaN(i)?i:+s.endOf(Date.now(),n)+1,this.min=Math.min(o,i-1),this.max=Math.max(o+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,o=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const i=this.min,a=this.max,l=XR(o,i,a);return this._unit=s.unit||(n.autoSkip?lu(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):Yj(this,l.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Jj(this._unit),this.initOffsets(o),e.reverse&&l.reverse(),cu(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,o,i;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?s=1-o:s=(this.getDecimalForValue(e[1])-o)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;s=ce(s,0,a),n=ce(n,0,a),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,o=this.options,i=o.time,a=i.unit||lu(i.minUnit,s,n,this._getLabelCapacity(s)),l=Et(o.ticks.stepSize,1),c=a==="week"?i.isoWeekday:!1,u=fi(c)||c===!0,_={};let d=s,h,g;if(u&&(d=+e.startOf(d,"isoWeek",c)),d=+e.startOf(d,u?"day":a),e.diff(n,s,a)>1e5*l)throw new Error(s+" and "+n+" are too far apart with stepSize of "+l+" "+a);const w=o.ticks.source==="data"&&this.getDataTimestamps();for(h=d,g=0;h<n;h=+e.add(h,l,a),g++)ru(_,h,w);return(h===n||o.bounds==="ticks"||g===1)&&ru(_,h,w),Object.keys(_).sort(iu).map(f=>+f)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const o=this.options.time.displayFormats,i=this._unit,a=s||o[i];return this._adapter.format(e,a)}_tickFormatFunction(e,s,n,o){const i=this.options,a=i.ticks.callback;if(a)return Mt(a,[e,s,n],this);const l=i.time.displayFormats,c=this._unit,u=this._majorUnit,_=c&&l[c],d=u&&l[u],h=n[s],g=u&&d&&h&&h.major;return this._adapter.format(e,o||(g?d:_))}generateTickLabels(e){let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],o.label=this._tickFormatFunction(o.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,o=Us(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:n*i+l*a,h:n*a+l*i}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,o=n[s.unit]||n.millisecond,i=this._tickFormatFunction(e,0,cu(this,[e],this._majorUnit),o),a=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(s=0,n=o.length;s<n;++s)e=e.concat(o[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const o=this.getLabels();for(s=0,n=o.length;s<n;++s)e.push(au(this,o[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hd(e.sort(iu))}}ft(wi,"id","time"),ft(wi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function zo(t,e,s){let n=0,o=t.length-1,i,a,l,c;s?(e>=t[n].pos&&e<=t[o].pos&&({lo:n,hi:o}=Ua(t,"pos",e)),{pos:i,time:l}=t[n],{pos:a,time:c}=t[o]):(e>=t[n].time&&e<=t[o].time&&({lo:n,hi:o}=Ua(t,"time",e)),{time:i,pos:l}=t[n],{time:a,pos:c}=t[o]);const u=a-i;return u?l+(c-l)*(e-i)/u:l}class uu extends wi{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=zo(s,this.min),this._tableRange=zo(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,o=[],i=[];let a,l,c,u,_;for(a=0,l=e.length;a<l;++a)u=e[a],u>=s&&u<=n&&o.push(u);if(o.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(a=0,l=o.length;a<l;++a)_=o[a+1],c=o[a-1],u=o[a],Math.round((_+c)/2)!==u&&i.push({time:u,pos:a/(l-1)});return i}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((o,i)=>o-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(zo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return zo(this._table,n*this._tableRange+this._minPos,!0)}}ft(uu,"id","timeseries"),ft(uu,"defaults",wi.defaults);const Gd={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},Qj={ariaLabel:{type:String},ariaDescribedby:{type:String}},Xj={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Gd,...Qj},Zj=v_[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function an(t){return Si(t)?St(t):t}function tF(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return Si(e)?new Proxy(t,{}):t}function eF(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function Wd(t,e){t.labels=e}function Vd(t,e,s){const n=[];t.datasets=e.map(o=>{const i=t.datasets.find(a=>a[s]===o[s]);return!i||!o.data||n.includes(i)?{...o}:(n.push(i),Object.assign(i,o),i)})}function sF(t,e){const s={labels:[],datasets:[]};return Wd(s,t.labels),Vd(s,t.datasets,e),s}const nF=Oi({props:Xj,setup(t,e){let{expose:s,slots:n}=e;const o=y(null),i=Fu(null);s({chart:i});const a=()=>{if(!o.value)return;const{type:u,data:_,options:d,plugins:h,datasetIdKey:g}=t,w=sF(_,g),f=tF(w,_);i.value=new Wi(o.value,{type:u,data:f,options:{...d},plugins:h})},l=()=>{const u=St(i.value);u&&(t.destroyDelay>0?setTimeout(()=>{u.destroy(),i.value=null},t.destroyDelay):(u.destroy(),i.value=null))},c=u=>{u.update(t.updateMode)};return Q(a),Le(l),K([()=>t.options,()=>t.data],(u,_)=>{let[d,h]=u,[g,w]=_;const f=St(i.value);if(!f)return;let p=!1;if(d){const m=an(d),b=an(g);m&&m!==b&&(eF(f,m),p=!0)}if(h){const m=an(h.labels),b=an(w.labels),x=an(h.datasets),A=an(w.datasets);m!==b&&(Wd(f.config.data,m),p=!0),x&&x!==A&&(Vd(f.config.data,x,t.datasetIdKey),p=!0)}p&&fe(()=>{c(f)})},{deep:!0}),()=>ri("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:o},[ri("p",{},[n.default?n.default():""])])}});function oF(t,e){return Wi.register(e),Oi({props:Gd,setup(s,n){let{expose:o}=n;const i=Fu(null),a=l=>{i.value=l==null?void 0:l.chart};return o({chart:i}),()=>ri(nF,Zj({ref:a},{type:t,...s}))}})}const iF=oF("bar",Zo);/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var _u=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),Xn={toTextLines:function(t){var e=[],s;for(t=[].concat(t);t.length;)s=t.pop(),typeof s=="string"?e.unshift.apply(e,s.split(`
`)):Array.isArray(s)?t.push.apply(t,s):Ot(t)||e.unshift(""+s);return e},textSize:function(t,e,s){var n=[].concat(e),o=n.length,i=t.font,a=0,l;for(t.font=s.string,l=0;l<o;++l)a=Math.max(t.measureText(n[l]).width,a);return t.font=i,{height:o*s.lineHeight,width:a}},bound:function(t,e,s){return Math.max(t,Math.min(e,s))},arrayDiff:function(t,e){var s=t.slice(),n=[],o,i,a,l;for(o=0,a=e.length;o<a;++o)l=e[o],i=s.indexOf(l),i===-1?n.push([l,1]):s.splice(i,1);for(o=0,a=s.length;o<a;++o)n.push([s[o],-1]);return n},rasterize:function(t){return Math.round(t*_u)/_u}};function ma(t,e){var s=e.x,n=e.y;if(s===null)return{x:0,y:-1};if(n===null)return{x:1,y:0};var o=t.x-s,i=t.y-n,a=Math.sqrt(o*o+i*i);return{x:a?o/a:0,y:a?i/a:-1}}function aF(t,e,s,n,o){switch(o){case"center":s=n=0;break;case"bottom":s=0,n=1;break;case"right":s=1,n=0;break;case"left":s=-1,n=0;break;case"top":s=0,n=-1;break;case"start":s=-s,n=-n;break;case"end":break;default:o*=Math.PI/180,s=Math.cos(o),n=Math.sin(o);break}return{x:t,y:e,vx:s,vy:n}}var lF=0,Kd=1,Yd=2,Jd=4,qd=8;function Uo(t,e,s){var n=lF;return t<s.left?n|=Kd:t>s.right&&(n|=Yd),e<s.top?n|=qd:e>s.bottom&&(n|=Jd),n}function rF(t,e){for(var s=t.x0,n=t.y0,o=t.x1,i=t.y1,a=Uo(s,n,e),l=Uo(o,i,e),c,u,_;!(!(a|l)||a&l);)c=a||l,c&qd?(u=s+(o-s)*(e.top-n)/(i-n),_=e.top):c&Jd?(u=s+(o-s)*(e.bottom-n)/(i-n),_=e.bottom):c&Yd?(_=n+(i-n)*(e.right-s)/(o-s),u=e.right):c&Kd&&(_=n+(i-n)*(e.left-s)/(o-s),u=e.left),c===a?(s=u,n=_,a=Uo(s,n,e)):(o=u,i=_,l=Uo(o,i,e));return{x0:s,x1:o,y0:n,y1:i}}function Ho(t,e){var s=e.anchor,n=t,o,i;return e.clamp&&(n=rF(n,e.area)),s==="start"?(o=n.x0,i=n.y0):s==="end"?(o=n.x1,i=n.y1):(o=(n.x0+n.x1)/2,i=(n.y0+n.y1)/2),aF(o,i,t.vx,t.vy,e.align)}var Bo={arc:function(t,e){var s=(t.startAngle+t.endAngle)/2,n=Math.cos(s),o=Math.sin(s),i=t.innerRadius,a=t.outerRadius;return Ho({x0:t.x+n*i,y0:t.y+o*i,x1:t.x+n*a,y1:t.y+o*a,vx:n,vy:o},e)},point:function(t,e){var s=ma(t,e.origin),n=s.x*t.options.radius,o=s.y*t.options.radius;return Ho({x0:t.x-n,y0:t.y-o,x1:t.x+n,y1:t.y+o,vx:s.x,vy:s.y},e)},bar:function(t,e){var s=ma(t,e.origin),n=t.x,o=t.y,i=0,a=0;return t.horizontal?(n=Math.min(t.x,t.base),i=Math.abs(t.base-t.x)):(o=Math.min(t.y,t.base),a=Math.abs(t.base-t.y)),Ho({x0:n,y0:o+a,x1:n+i,y1:o,vx:s.x,vy:s.y},e)},fallback:function(t,e){var s=ma(t,e.origin);return Ho({x0:t.x,y0:t.y,x1:t.x+(t.width||0),y1:t.y+(t.height||0),vx:s.x,vy:s.y},e)}},Je=Xn.rasterize;function cF(t){var e=t.borderWidth||0,s=t.padding,n=t.size.height,o=t.size.width,i=-o/2,a=-n/2;return{frame:{x:i-s.left-e,y:a-s.top-e,w:o+s.width+e*2,h:n+s.height+e*2},text:{x:i,y:a,w:o,h:n}}}function uF(t,e){var s=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!s)return null;if(s.xCenter!==void 0&&s.yCenter!==void 0)return{x:s.xCenter,y:s.yCenter};var n=s.getBasePixel();return t.horizontal?{x:n,y:null}:{x:null,y:n}}function _F(t){return t instanceof jn?Bo.arc:t instanceof si?Bo.point:t instanceof Qn?Bo.bar:Bo.fallback}function dF(t,e,s,n,o,i){var a=Math.PI/2;if(i){var l=Math.min(i,o/2,n/2),c=e+l,u=s+l,_=e+n-l,d=s+o-l;t.moveTo(e,u),c<_&&u<d?(t.arc(c,u,l,-Math.PI,-a),t.arc(_,u,l,-a,0),t.arc(_,d,l,0,a),t.arc(c,d,l,a,Math.PI)):c<_?(t.moveTo(c,s),t.arc(_,u,l,-a,a),t.arc(c,u,l,a,Math.PI+a)):u<d?(t.arc(c,u,l,-Math.PI,0),t.arc(c,d,l,0,Math.PI)):t.arc(c,u,l,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,s)}else t.rect(e,s,n,o)}function hF(t,e,s){var n=s.backgroundColor,o=s.borderColor,i=s.borderWidth;!n&&(!o||!i)||(t.beginPath(),dF(t,Je(e.x)+i/2,Je(e.y)+i/2,Je(e.w)-i,Je(e.h)-i,s.borderRadius),t.closePath(),n&&(t.fillStyle=n,t.fill()),o&&i&&(t.strokeStyle=o,t.lineWidth=i,t.lineJoin="miter",t.stroke()))}function fF(t,e,s){var n=s.lineHeight,o=t.w,i=t.x,a=t.y+n/2;return e==="center"?i+=o/2:(e==="end"||e==="right")&&(i+=o),{h:n,w:o,x:i,y:a}}function gF(t,e,s){var n=t.shadowBlur,o=s.stroked,i=Je(s.x),a=Je(s.y),l=Je(s.w);o&&t.strokeText(e,i,a,l),s.filled&&(n&&o&&(t.shadowBlur=0),t.fillText(e,i,a,l),n&&o&&(t.shadowBlur=n))}function pF(t,e,s,n){var o=n.textAlign,i=n.color,a=!!i,l=n.font,c=e.length,u=n.textStrokeColor,_=n.textStrokeWidth,d=u&&_,h;if(!(!c||!a&&!d))for(s=fF(s,o,l),t.font=l.string,t.textAlign=o,t.textBaseline="middle",t.shadowBlur=n.textShadowBlur,t.shadowColor=n.textShadowColor,a&&(t.fillStyle=i),d&&(t.lineJoin="round",t.lineWidth=_,t.strokeStyle=u),h=0,c=e.length;h<c;++h)gF(t,e[h],{stroked:d,filled:a,w:s.w,x:s.x,y:s.y+s.h*h})}var Qd=function(t,e,s,n){var o=this;o._config=t,o._index=n,o._model=null,o._rects=null,o._ctx=e,o._el=s};Ge(Qd.prototype,{_modelize:function(t,e,s,n){var o=this,i=o._index,a=Qt(Ft([s.font,{}],n,i)),l=Ft([s.color,zt.color],n,i);return{align:Ft([s.align,"center"],n,i),anchor:Ft([s.anchor,"center"],n,i),area:n.chart.chartArea,backgroundColor:Ft([s.backgroundColor,null],n,i),borderColor:Ft([s.borderColor,null],n,i),borderRadius:Ft([s.borderRadius,0],n,i),borderWidth:Ft([s.borderWidth,0],n,i),clamp:Ft([s.clamp,!1],n,i),clip:Ft([s.clip,!1],n,i),color:l,display:t,font:a,lines:e,offset:Ft([s.offset,4],n,i),opacity:Ft([s.opacity,1],n,i),origin:uF(o._el,n),padding:ge(Ft([s.padding,4],n,i)),positioner:_F(o._el),rotation:Ft([s.rotation,0],n,i)*(Math.PI/180),size:Xn.textSize(o._ctx,e,a),textAlign:Ft([s.textAlign,"start"],n,i),textShadowBlur:Ft([s.textShadowBlur,0],n,i),textShadowColor:Ft([s.textShadowColor,l],n,i),textStrokeColor:Ft([s.textStrokeColor,l],n,i),textStrokeWidth:Ft([s.textStrokeWidth,0],n,i)}},update:function(t){var e=this,s=null,n=null,o=e._index,i=e._config,a,l,c,u=Ft([i.display,!0],t,o);u&&(a=t.dataset.data[o],l=Et(Mt(i.formatter,[a,t]),a),c=Ot(l)?[]:Xn.toTextLines(l),c.length&&(s=e._modelize(u,c,i,t),n=cF(s))),e._model=s,e._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var s=this,n=t.ctx,o=s._model,i=s._rects,a;this.visible()&&(n.save(),o.clip&&(a=o.area,n.beginPath(),n.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),n.clip()),n.globalAlpha=Xn.bound(0,o.opacity,1),n.translate(Je(e.x),Je(e.y)),n.rotate(o.rotation),hF(n,i.frame,o),pF(n,o.lines,i.text,o),n.restore())}});var mF=Number.MIN_SAFE_INTEGER||-9007199254740991,vF=Number.MAX_SAFE_INTEGER||9007199254740991;function Ln(t,e,s){var n=Math.cos(s),o=Math.sin(s),i=e.x,a=e.y;return{x:i+n*(t.x-i)-o*(t.y-a),y:a+o*(t.x-i)+n*(t.y-a)}}function du(t,e){var s=vF,n=mF,o=e.origin,i,a,l,c,u;for(i=0;i<t.length;++i)a=t[i],l=a.x-o.x,c=a.y-o.y,u=e.vx*l+e.vy*c,s=Math.min(s,u),n=Math.max(n,u);return{min:s,max:n}}function Go(t,e){var s=e.x-t.x,n=e.y-t.y,o=Math.sqrt(s*s+n*n);return{vx:(e.x-t.x)/o,vy:(e.y-t.y)/o,origin:t,ln:o}}var Xd=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};Ge(Xd.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,s){this._rotation=s,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,s=1,n=e._rect;return t=Ln(t,e.center(),-e._rotation),!(t.x<n.x-s||t.y<n.y-s||t.x>n.x+n.w+s*2||t.y>n.y+n.h+s*2)},intersects:function(t){var e=this._points(),s=t._points(),n=[Go(e[0],e[1]),Go(e[0],e[3])],o,i,a;for(this._rotation!==t._rotation&&n.push(Go(s[0],s[1]),Go(s[0],s[3])),o=0;o<n.length;++o)if(i=du(e,n[o]),a=du(s,n[o]),i.max<a.min||a.max<i.min)return!1;return!0},_points:function(){var t=this,e=t._rect,s=t._rotation,n=t.center();return[Ln({x:e.x,y:e.y},n,s),Ln({x:e.x+e.w,y:e.y},n,s),Ln({x:e.x+e.w,y:e.y+e.h},n,s),Ln({x:e.x,y:e.y+e.h},n,s)]}});function Zd(t,e,s){var n=e.positioner(t,e),o=n.vx,i=n.vy;if(!o&&!i)return{x:n.x,y:n.y};var a=s.w,l=s.h,c=e.rotation,u=Math.abs(a/2*Math.cos(c))+Math.abs(l/2*Math.sin(c)),_=Math.abs(a/2*Math.sin(c))+Math.abs(l/2*Math.cos(c)),d=1/Math.max(Math.abs(o),Math.abs(i));return u*=o*d,_*=i*d,u+=e.offset*o,_+=e.offset*i,{x:n.x+u,y:n.y+_}}function wF(t,e){var s,n,o,i;for(s=t.length-1;s>=0;--s)for(o=t[s].$layout,n=s-1;n>=0&&o._visible;--n)i=t[n].$layout,i._visible&&o._box.intersects(i._box)&&e(o,i);return t}function yF(t){var e,s,n,o,i,a,l;for(e=0,s=t.length;e<s;++e)n=t[e],o=n.$layout,o._visible&&(l=new Proxy(n._el,{get:(c,u)=>c.getProps([u],!0)[u]}),i=n.geometry(),a=Zd(l,n.model(),i),o._box.update(a,i,n.rotation()));return wF(t,function(c,u){var _=c._hidable,d=u._hidable;_&&d||d?u._visible=!1:_&&(c._visible=!1)})}var Zn={prepare:function(t){var e=[],s,n,o,i,a;for(s=0,o=t.length;s<o;++s)for(n=0,i=t[s].length;n<i;++n)a=t[s][n],e.push(a),a.$layout={_box:new Xd,_hidable:!1,_visible:!0,_set:s,_idx:a._index};return e.sort(function(l,c){var u=l.$layout,_=c.$layout;return u._idx===_._idx?_._set-u._set:_._idx-u._idx}),this.update(e),e},update:function(t){var e=!1,s,n,o,i,a;for(s=0,n=t.length;s<n;++s)o=t[s],i=o.model(),a=o.$layout,a._hidable=i&&i.display==="auto",a._visible=o.visible(),e|=a._hidable;e&&yF(t)},lookup:function(t,e){var s,n;for(s=t.length-1;s>=0;--s)if(n=t[s].$layout,n&&n._visible&&n._box.contains(e))return t[s];return null},draw:function(t,e){var s,n,o,i,a,l;for(s=0,n=e.length;s<n;++s)o=e[s],i=o.$layout,i._visible&&(a=o.geometry(),l=Zd(o._el,o.model(),a),i._box.update(l,a,o.rotation()),o.draw(t,l))}},bF=function(t){if(Ot(t))return null;var e=t,s,n,o;if(Ct(t))if(!Ot(t.label))e=t.label;else if(!Ot(t.r))e=t.r;else for(e="",s=Object.keys(t),o=0,n=s.length;o<n;++o)e+=(o!==0?", ":"")+s[o]+": "+t[s[o]];return""+e},kF={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:bF,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},le="$datalabels",th="$default";function xF(t,e){var s=t.datalabels,n={},o=[],i,a;return s===!1?null:(s===!0&&(s={}),e=Ge({},[e,s]),i=e.labels||{},a=Object.keys(i),delete e.labels,a.length?a.forEach(function(l){i[l]&&o.push(Ge({},[e,i[l],{_key:l}]))}):o.push(e),n=o.reduce(function(l,c){return At(c.listeners||{},function(u,_){l[_]=l[_]||{},l[_][c._key||th]=u}),delete c.listeners,l},{}),{labels:o,listeners:n})}function Ja(t,e,s,n){if(e){var o=s.$context,i=s.$groups,a;e[i._set]&&(a=e[i._set][i._key],a&&Mt(a,[o,n])===!0&&(t[le]._dirty=!0,s.update(o)))}}function $F(t,e,s,n,o){var i,a;!s&&!n||(s?n?s!==n&&(a=i=!0):a=!0:i=!0,a&&Ja(t,e.leave,s,o),i&&Ja(t,e.enter,n,o))}function SF(t,e){var s=t[le],n=s._listeners,o,i;if(!(!n.enter&&!n.leave)){if(e.type==="mousemove")i=Zn.lookup(s._labels,e);else if(e.type!=="mouseout")return;o=s._hovered,s._hovered=i,$F(t,n,o,i,e)}}function TF(t,e){var s=t[le],n=s._listeners.click,o=n&&Zn.lookup(s._labels,e);o&&Ja(t,n,o,e)}var CF={id:"datalabels",defaults:kF,beforeInit:function(t){t[le]={_actives:[]}},beforeUpdate:function(t){var e=t[le];e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(t,e,s){var n=e.index,o=t[le],i=o._datasets[n]=[],a=t.isDatasetVisible(n),l=t.data.datasets[n],c=xF(l,s),u=e.meta.data||[],_=t.ctx,d,h,g,w,f,p,m,b;for(_.save(),d=0,g=u.length;d<g;++d)if(m=u[d],m[le]=[],a&&m&&t.getDataVisibility(d)&&!m.skip)for(h=0,w=c.labels.length;h<w;++h)f=c.labels[h],p=f._key,b=new Qd(f,_,m,d),b.$groups={_set:n,_key:p||th},b.$context={active:!1,chart:t,dataIndex:d,dataset:l,datasetIndex:n},b.update(b.$context),m[le].push(b),i.push(b);_.restore(),Ge(o._listeners,c.listeners,{merger:function(x,A,I){A[x]=A[x]||{},A[x][e.index]=I[x],o._listened=!0}})},afterUpdate:function(t){t[le]._labels=Zn.prepare(t[le]._datasets)},afterDatasetsDraw:function(t){Zn.draw(t,t[le]._labels)},beforeEvent:function(t,e){if(t[le]._listened){var s=e.event;switch(s.type){case"mousemove":case"mouseout":SF(t,s);break;case"click":TF(t,s);break}}},afterEvent:function(t){var e=t[le],s=e._actives,n=e._actives=t.getActiveElements(),o=Xn.arrayDiff(s,n),i,a,l,c,u,_,d;for(i=0,a=o.length;i<a;++i)if(u=o[i],u[1])for(d=u[0].element[le]||[],l=0,c=d.length;l<c;++l)_=d[l],_.$context.active=u[1]===1,_.update(_.$context);(e._dirty||o.length)&&(Zn.update(e._labels),t.render()),delete e._dirty}};const EF={__name:"drawing_index_page",props:{work_title:{type:String,default:"全部作品的数据统计"},history_data:{type:Array,default:()=>[114,51,41]},week_data:{type:Array,default:()=>[191,98,20]}},setup(t){const e=t;console.log(e);const s=y(e.work_title);Wi.register(Ka,Ya,Qn,Lj,Hj,Mj,CF);const n=()=>e.week_data.map((a,l)=>{const c=a-e.history_data[l];return c>0?c:0}),o=y({labels:["浏览","点赞","收藏"],datasets:[{label:"一周之前的历史作品数据",backgroundColor:"#42A5F5",data:e.history_data},{label:"一周的作品数据",backgroundColor:"#FF6384",data:e.week_data},{label:"增加的数据",backgroundColor:"#FFCE56",data:n()}]}),i=y({responsive:!0,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(a){return a.dataset.label+": "+a.raw}}},datalabels:{formatter:a=>Math.round(a),color:"#000",anchor:"end",align:"top",offset:4}}});return(a,l)=>(v(),k("div",null,[r("h2",null,S(s.value),1),W($(iF),{data:o.value,options:i.value},null,8,["data","options"])]))}},AF=F(EF,[["__scopeId","data-v-698ab6c7"]]),OF=t=>(et("data-v-3c18d79f"),t=t(),st(),t),IF={class:"index"},MF={class:"content"},PF={class:"title"},LF={key:0,class:"close_data_analysis"},DF={class:"appiont_work"},RF=OF(()=>r("span",null,"自定义时间段单位：（天）",-1)),NF={key:0,class:"draw_page"},jF={key:1,class:"content_item"},FF={class:"choose_appiont_work"},zF={class:"search_box"},UF={__name:"index",props:{token:{type:String,default:""}},setup(t){const e=t,s=y("all"),n=y(),o=y(),i=y(""),a=y(""),l=y("choose_work_page"),c=y([]),u=y([]),_=y(""),d=y(),h=y(7),g=y({watch:0,like:0,collect:0}),w=y({watch:0,like:0,collect:0}),f=y({watch:0,like:0,collect:0}),p=y({watch:0,like:0,collect:0}),m=y({watch:0,like:0,collect:0}),b=y({watch:0,like:0,collect:0}),x=y({watch:0,like:0,collect:0}),A=y({watch:0,like:0,collect:0});function I(H){D(),l.value="draw_page"}async function T(H){console.log(H);let L=H.work_id,Y=H.work_type,z=e.token,tt=await zD(z,h.value,L,Y);console.log(tt),g.value=tt.target_work_data,w.value=tt.history_work_data,D()}function D(){c.value[0]=w.value.watch+1,c.value[1]=w.value.like+1,c.value[2]=w.value.collect+1,u.value[0]=g.value.watch+1,u.value[1]=g.value.like+1,u.value[2]=g.value.collect+1,l.value="draw_page",_.value="所有作品",d.value=Math.random()}function C(){c.value[0]=p.value.watch+1,c.value[1]=p.value.like+1,c.value[2]=p.value.collect+1,u.value[0]=f.value.watch+1,u.value[1]=f.value.like+1,u.value[2]=f.value.collect+1,l.value="draw_page",_.value="插画作品",d.value=Math.random()}function P(){c.value[0]=b.value.watch+1,c.value[1]=b.value.like+1,c.value[2]=b.value.collect+1,u.value[0]=m.value.watch+1,u.value[1]=m.value.like+1,u.value[2]=m.value.collect+1,l.value="draw_page",_.value="漫画作品",d.value=Math.random()}function j(){c.value[0]=A.value.watch+1,c.value[1]=A.value.like+1,c.value[2]=A.value.collect+1,u.value[0]=x.value.watch+1,u.value[1]=x.value.like+1,u.value[2]=x.value.collect+1,l.value="draw_page",_.value="小说作品",d.value=Math.random()}Q(async()=>{n.value=await FD(e.token,h.value),o.value=await UD(e.token),console.log(n.value),console.log(o.value),Object.keys(n.value.history_data).forEach(H=>{const L=n.value.history_data[H];w.value.watch+=L.watch||0,w.value.like+=L.like||0,w.value.collect+=L.collect||0}),Object.keys(n.value.target_data).forEach(H=>{const L=n.value.target_data[H];g.value.watch+=L.watch||0,g.value.like+=L.like||0,g.value.collect+=L.collect||0}),console.log(g.value),console.log(w.value),p.value=n.value.history_data.ill,f.value=n.value.target_data.ill,b.value=n.value.history_data.comic,m.value=n.value.target_data.comic,A.value=n.value.history_data.novel,x.value=n.value.target_data.novel});const G=()=>{let H=i.value;i.value=H},R=(H,L)=>{if(!L)return ot(s.value,H);const Y={ill:H.ill.filter(z=>z.name.toLowerCase().includes(L.toLowerCase())||z.work_tags.toLowerCase().includes(L.toLowerCase())),comic:H.comic.filter(z=>z.work_name.toLowerCase().includes(L.toLowerCase())||z.work_tags.toLowerCase().includes(L.toLowerCase())),novel:H.novel.filter(z=>z.work_name.toLowerCase().includes(L.toLowerCase())||z.work_tags.toLowerCase().includes(L.toLowerCase()))};return ot(s.value,Y)},ot=(H,L)=>H==="all"?L:{ill:H==="ill"?L.ill:[],comic:H==="comic"?L.comic:[],novel:H==="novel"?L.novel:[]},ct=kt(()=>{let H=R(o.value,i.value);return a.value&&(H.novel=H.novel.filter(L=>L.work_status===a.value)),H});return(H,L)=>(v(),k("div",IF,[r("div",MF,[r("div",PF,[r("div",{class:"all_work_data"},[r("span",{onClick:I},"全部的作品数据"),r("span",{onClick:C},"全部插画作品"),r("span",{onClick:P},"全部漫画作品"),r("span",{onClick:j},"全部小说作品")]),l.value=="draw_page"?(v(),k("div",LF,[r("span",{onClick:L[0]||(L[0]=Y=>l.value="choose_work_page")},"关闭数据分析")])):O("",!0),r("div",DF,[r("span",{onClick:L[1]||(L[1]=Y=>{s.value="appiont",G()})},"搜索作品")])]),gt(r("input",{"onUpdate:modelValue":L[2]||(L[2]=Y=>h.value=Y)},null,512),[[Dt,h.value]]),RF,l.value=="draw_page"?(v(),k("div",NF,[(v(),lt(AF,{work_title:_.value,history_data:c.value,week_data:u.value,key:d.value},null,8,["work_title","history_data","week_data"]))])):O("",!0),l.value=="choose_work_page"?(v(),k("div",jF,[r("div",FF,[r("div",zF,[gt(r("input",{"onUpdate:modelValue":L[3]||(L[3]=Y=>i.value=Y),type:"text",placeholder:"请输入作品名"},null,512),[[Dt,i.value]]),r("span",{onClick:G},"搜索")]),r("span",{onClick:L[4]||(L[4]=Y=>{s.value="all",G()})},"全部"),r("span",{onClick:L[5]||(L[5]=Y=>{s.value="novel",G()})},"小说"),r("span",{onClick:L[6]||(L[6]=Y=>{s.value="comic",G()})},"漫画"),r("span",{onClick:L[7]||(L[7]=Y=>{s.value="ill",G()})},"插画")])])):O("",!0)]),W(fR,{work_list:ct.value,onChoose_item:T},null,8,["work_list"])]))}},HF=F(UF,[["__scopeId","data-v-3c18d79f"]]),BF=t=>(et("data-v-efeb39cd"),t=t(),st(),t),GF={class:"go_back"},WF=BF(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/assets/left.svg"},null,-1)),VF=[WF],KF={__name:"go_back",setup(t){const e=pt(),s=y(null);function n(){e.dispatch("goBack").then(()=>{fe(()=>{s.value&&s.value.click()})})}return(o,i)=>(v(),k("div",GF,[r("div",{class:"btn_box",onClick:n,ref_key:"btn_box",ref:s},VF,512)]))}},YF=F(KF,[["__scopeId","data-v-efeb39cd"]]),JF={class:"root"},qF=r("h1",null,"作品数据分析",-1),QF={__name:"root",props:{token:{type:String,default:"sunyuanling"}},setup(t){const e=t;return(s,n)=>(v(),k("div",JF,[qF,W(HF,{token:e.token},null,8,["token"]),W(YF)]))}},bo=t=>(et("data-v-d3e903f6"),t=t(),st(),t),XF={key:0,class:"root_page"},ZF=bo(()=>r("img",{src:"https://www.sunyuanling.com/assets/cat.svg",class:"icon"},null,-1)),tz=bo(()=>r("span",null,"喵喵喵~",-1)),ez=[ZF,tz],sz={key:2,class:"loading"},nz=bo(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/image/loading.gif"},null,-1)),oz=[nz],iz={key:1,class:"loading"},az=bo(()=>r("img",{class:"icon",src:"https://www.sunyuanling.com/image/loading.gif"},null,-1)),lz=bo(()=>r("p",null,"正在加载...",-1)),rz=[az,lz],cz={__name:"root",setup(t){const e=pt(),s=y(0),n=y(0),o=y(0),i=y(0),a=y(!1),l=y(!0),c=kt(()=>e.getters.upload_work),u=kt(()=>e.getters.index_page),_=kt(()=>e.getters.content_index_page),d=kt(()=>e.getters.user_center_page),h=kt(()=>e.getters.token),g=kt(()=>e.getters.other_user_center_page),w=kt(()=>e.getters.other_userid),f=kt(()=>e.getters.data_analysis_page);function p(){const x=new URL(window.location.href),A=x.searchParams.get("token");if(A&&(!Nt("token")||Nt("token")==="")){na("token",A);const I=x.origin+x.pathname;window.history.replaceState({},document.title,I)}}async function m(){try{const x=await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/",{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nt("token")}`},body:JSON.stringify({userid:null,token:Nt("token")})});if(x.ok){const A=await x.json();A.status==="success"?(na("userinfo",JSON.stringify(A.data[0]),{secure:!0,"max-age":3600,path:"/",HttpOnly:!0}),a.value=!0):(console.log("用户未登录"),window.location.href="https://localhost:3000")}else console.log("网络错误"),Kr(),window.location.href="https://localhost:3000"}catch(x){console.log("获取用户信息失败:",x),Kr(),window.location.href="https://localhost:3000"}}async function b(){try{const x=await fetch("https://www.sunyuanling.com/api/GetUserInfo/Login/",{method:"post",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Nt("token")}`},body:JSON.stringify({userid:null,token:Nt("token")})});if(x.ok){const A=await x.json();A.status==="success"&&(na("token",A.token,{secure:!0,"max-age":3600,path:"/",HttpOnly:!0}),e.commit("SET_TOKEN",A.token))}}catch(x){console.log("登录验证失败:",x)}}return Q(async()=>{p(),await m(),await b(),l.value=!1}),(x,A)=>l.value?(v(),k("div",iz,rz)):(v(),k("div",XF,[r("div",{class:"cursor_action",style:pe({top:s.value+"px",left:n.value+"px",opacity:o.value,transform:`translateY(${i.value}px)`})},ez,4),a.value?(v(),lt(z0,{key:0})):O("",!0),a.value&&u.value?(v(),lt(Qw,{key:1})):O("",!0),a.value?O("",!0):(v(),k("div",sz,oz)),c.value?(v(),lt(t2,{key:3})):O("",!0),_.value?(v(),lt(Z8,{key:4})):O("",!0),d.value?(v(),lt(J4,{key:5,token:h.value},null,8,["token"])):O("",!0),g.value?(v(),lt(jD,{key:6,userid:w.value},null,8,["userid"])):O("",!0),f.value?(v(),lt(QF,{key:7,token:h.value},null,8,["token"])):O("",!0)]))}},uz=F(cz,[["__scopeId","data-v-d3e903f6"]]),_z={components:{Root:uz}};function dz(t,e,s,n,o,i){const a=Ku("root");return v(),lt(a)}const hz=F(_z,[["render",dz]]);/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function eh(t,e){return e={exports:{}},t(e,e.exports),e.exports}var qa=eh(function(t){const e=Object.prototype.toString,s=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;t.exports=(i,...a)=>{if(!o(i))throw new TypeError("expected the first argument to be an object");if(a.length===0||typeof Symbol!="function"||typeof n!="function")return i;for(let l of a){let c=n(l);for(let u of c)s.call(l,u)&&(i[u]=l[u])}return i};function o(i){return typeof i=="function"||e.call(i)==="[object Object]"||Array.isArray(i)}}),hu=Object.freeze({__proto__:null,default:qa,__moduleExports:qa}),fz=hu&&qa||hu,fu=eh(function(t){const e=Object.prototype.toString,s=a=>a!=="__proto__"&&a!=="constructor"&&a!=="prototype",n=t.exports=(a,...l)=>{let c=0;for(i(a)&&(a=l[c++]),a||(a={});c<l.length;c++)if(o(l[c])){for(const u of Object.keys(l[c]))s(u)&&(o(a[u])&&o(l[c][u])?n(a[u],l[c][u]):a[u]=l[c][u]);fz(a,l[c])}return a};function o(a){return typeof a=="function"||e.call(a)==="[object Object]"}function i(a){return typeof a=="object"?a===null:typeof a!="function"}});const ks=typeof window<"u"&&window!==null,gu=gz();function gz(){return ks&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const Rs={event:"event",observer:"observer"};function zn(t,e){if(!t.length)return;const s=t.indexOf(e);if(s>-1)return t.splice(s,1)}function pu(t,e){if(t.tagName!=="IMG"||!t.getAttribute("data-srcset"))return"";let s=t.getAttribute("data-srcset").trim().split(",");const n=[],i=t.parentNode.offsetWidth*e;let a,l,c;s.forEach(d=>{d=d.trim(),a=d.lastIndexOf(" "),a===-1?(l=d,c=99999):(l=d.substr(0,a),c=parseInt(d.substr(a+1,d.length-a-2),10)),n.push([c,l])}),n.sort((d,h)=>{if(d[0]<h[0])return 1;if(d[0]>h[0])return-1;if(d[0]===h[0]){if(h[1].indexOf(".webp",h[1].length-5)!==-1)return 1;if(d[1].indexOf(".webp",d[1].length-5)!==-1)return-1}return 0});let u="",_;for(let d=0;d<n.length;d++){_=n[d],u=_[1];const h=n[d+1];if(h&&h[0]<i){u=_[1];break}else if(!h){u=_[1];break}}return u}const pz=(t=1)=>ks&&window.devicePixelRatio||t;function mz(){if(!ks)return!1;let t=!0;function e(s,n){const o={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},i=new Image;i.onload=function(){const a=i.width>0&&i.height>0;n(a)},i.onerror=function(){n(!1)},i.src="data:image/webp;base64,"+o[s]}return e("lossy",s=>{t=s}),e("lossless",s=>{t=s}),e("alpha",s=>{t=s}),e("animation",s=>{t=s}),t}function vz(t,e){let s=null,n=0;return function(){if(s)return;const o=Date.now()-n,i=this,a=arguments,l=function(){n=Date.now(),s=!1,t.apply(i,a)};o>=e?l():s=setTimeout(l,e)}}function wz(){if(!ks)return!1;let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",Ql,e)}catch{}return t}const yz=wz(),bz={on(t,e,s,n=!1){yz?t.addEventListener(e,s,{capture:n,passive:!0}):t.addEventListener(e,s,n)},off(t,e,s,n=!1){t.removeEventListener(e,s,n)}},Qa=(t,e,s)=>{let n=new Image;if(!t||!t.src){const o=new Error("image src is required");return s(o)}t.cors&&(n.crossOrigin=t.cors),n.src=t.src,n.onload=function(){e({naturalHeight:n.naturalHeight,naturalWidth:n.naturalWidth,src:n.src}),n=null},n.onerror=function(o){s(o)}},va=(t,e)=>typeof getComputedStyle<"u"?getComputedStyle(t,null).getPropertyValue(e):t.style[e],kz=t=>va(t,"overflow")+va(t,"overflowY")+va(t,"overflowX"),xz=t=>{if(!ks)return;if(!(t instanceof Element))return window;let e=t;for(;e&&!(e===document.body||e===document.documentElement||!e.parentNode);){if(/(scroll|auto)/.test(kz(e)))return e;e=e.parentNode}return window};function $z(t){return t!==null&&typeof t=="object"}function Ql(){}class Sz{constructor(e){this.max=e||100,this._caches=[]}has(e){return this._caches.indexOf(e)>-1}add(e){this.has(e)||(this._caches.push(e),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class Tz{constructor(e,s,n,o,i,a,l,c,u,_){this.el=e,this.src=s,this.error=n,this.loading=o,this.bindType=i,this.attempt=0,this.cors=c,this.naturalHeight=0,this.naturalWidth=0,this.options=l,this.rect={},this.$parent=a,this.elRenderer=u,this._imageCache=_,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(e){this.performanceData[e]=Date.now()}update(e){const s=this.src;this.src=e.src,this.loading=e.loading,this.error=e.error,this.filter(),s!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const e in this.options.filter)this.options.filter[e](this,this.options)}renderLoading(e){this.state.loading=!0,Qa({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,e()},()=>{e(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(e=Ql){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),e();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,e();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),Qa({src:this.src,cors:this.cors},s=>{this.naturalHeight=s.naturalHeight,this.naturalWidth=s.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),e()},s=>{!this.options.silent&&console.error(s),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(e,s){this.elRenderer(this,e,s)}performance(){let e="loading",s=0;return this.state.loaded&&(e="loaded",s=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(e="error"),{src:this.src,state:e,time:s}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const mu="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Cz=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],Ez={rootMargin:"0px",threshold:0};class Az{constructor({preLoad:e,error:s,throttleWait:n,preLoadTop:o,dispatchEvent:i,loading:a,attempt:l,silent:c=!0,scale:u,listenEvents:_,filter:d,adapter:h,observer:g,observerOptions:w}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=Rs.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:c,dispatchEvent:!!i,throttleWait:n||200,preLoad:e||1.3,preLoadTop:o||0,error:s||mu,loading:a||mu,attempt:l||3,scale:u||pz(u),listenEvents:_||Cz,supportWebp:mz(),filter:d||{},adapter:h||{},observer:!!g,observerOptions:w||Ez},this._initEvent(),this._imageCache=new Sz(200),this.lazyLoadHandler=vz(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Rs.observer:Rs.event)}performance(){const e=[];return this.ListenerQueue.map(s=>e.push(s.performance())),e}addLazyBox(e){this.ListenerQueue.push(e),ks&&(this._addListenerTarget(window),this._observer&&this._observer.observe(e.el),e.$el&&e.$el.parentNode&&this._addListenerTarget(e.$el.parentNode))}add(e,s,n){if(this.ListenerQueue.some(c=>c.el===e))return this.update(e,s),fe(this.lazyLoadHandler);let{src:o,loading:i,error:a,cors:l}=this._valueFormatter(s.value);fe(()=>{o=pu(e,this.options.scale)||o,this._observer&&this._observer.observe(e);const c=Object.keys(s.modifiers)[0];let u;c&&(u=s.instance.$refs[c],u=u?u.el||u:document.getElementById(c)),u||(u=xz(e));const _=new Tz(e,o,a,i,s.arg,u,this.options,l,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(_),ks&&(this._addListenerTarget(window),this._addListenerTarget(u)),fe(this.lazyLoadHandler)})}update(e,s,n){let{src:o,loading:i,error:a}=this._valueFormatter(s.value);o=pu(e,this.options.scale)||o;const l=this.ListenerQueue.find(c=>c.el===e);l?l.update({src:o,loading:i,error:a}):(e.getAttribute("lazy")!=="loaded"||e.dataset.src!==o)&&this.add(e,s,n),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),fe(this.lazyLoadHandler)}remove(e){if(!e)return;this._observer&&this._observer.unobserve(e);const s=this.ListenerQueue.find(n=>n.el===e);s&&(this._removeListenerTarget(s.$parent),this._removeListenerTarget(window),zn(this.ListenerQueue,s),s.$destroy&&s.$destroy())}removeComponent(e){e&&(zn(this.ListenerQueue,e),this._observer&&this._observer.unobserve(e.el),e.$parent&&e.$el.parentNode&&this._removeListenerTarget(e.$el.parentNode),this._removeListenerTarget(window))}setMode(e){!gu&&e===Rs.observer&&(e=Rs.event),this.mode=e,e===Rs.event?(this._observer&&(this.ListenerQueue.forEach(s=>{this._observer.unobserve(s.el)}),this._observer=null),this.TargetQueue.forEach(s=>{this._initListen(s.el,!0)})):(this.TargetQueue.forEach(s=>{this._initListen(s.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(e){if(!e)return;let s=this.TargetQueue.find(n=>n.el===e);return s?s.childrenCount++:(s={el:e,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Rs.event&&this._initListen(s.el,!0),this.TargetQueue.push(s)),this.TargetIndex}_removeListenerTarget(e){this.TargetQueue.forEach((s,n)=>{s.el===e&&(s.childrenCount--,s.childrenCount||(this._initListen(s.el,!1),this.TargetQueue.splice(n,1),s=null))})}_initListen(e,s){this.options.listenEvents.forEach(n=>bz[s?"on":"off"](e,n,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(e,s)=>{this.Event.listeners[e]||(this.Event.listeners[e]=[]),this.Event.listeners[e].push(s)},this.$once=(e,s)=>{const n=this;function o(){n.$off(e,o),s.apply(n,arguments)}this.$on(e,o)},this.$off=(e,s)=>{if(!s){if(!this.Event.listeners[e])return;this.Event.listeners[e].length=0;return}zn(this.Event.listeners[e],s)},this.$emit=(e,s,n)=>{this.Event.listeners[e]&&this.Event.listeners[e].forEach(o=>o(s,n))}}_lazyLoadHandler(){const e=[];this.ListenerQueue.forEach((s,n)=>{(!s.el||!s.el.parentNode||s.state.loaded)&&e.push(s),s.checkInView()&&(s.state.loaded||s.load())}),e.forEach(s=>{zn(this.ListenerQueue,s),s.$destroy&&s.$destroy()})}_initIntersectionObserver(){gu&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(e=>{this._observer.observe(e.el)}))}_observerHandler(e){e.forEach(s=>{s.isIntersecting&&this.ListenerQueue.forEach(n=>{if(n.el===s.target){if(n.state.loaded)return this._observer.unobserve(n.el);n.load()}})})}_elRenderer(e,s,n){if(!e.el)return;const{el:o,bindType:i}=e;let a;switch(s){case"loading":a=e.loading;break;case"error":a=e.error;break;default:a=e.src;break}if(i?o.style[i]='url("'+a+'")':o.getAttribute("src")!==a&&o.setAttribute("src",a),o.setAttribute("lazy",s),this.$emit(s,e,n),this.options.adapter[s]&&this.options.adapter[s](e,this.options),this.options.dispatchEvent){const l=new CustomEvent(s,{detail:e});o.dispatchEvent(l)}}_valueFormatter(e){return $z(e)?(!e.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+e),{src:e.src,loading:e.loading||this.options.loading,error:e.error||this.options.error,cors:this.options.cors}):{src:e,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const sh=(t,e)=>{let s=ws({});const n=()=>{s=t.value.getBoundingClientRect()};return{rect:s,checkInView:()=>(n(),ks&&s.top<window.innerHeight*e&&s.bottom>0&&s.left<window.innerWidth*e&&s.right>0)}};var Oz=t=>Oi({props:{tag:{type:String,default:"div"}},emits:["show"],setup(e,{emit:s,slots:n}){const o=y(),i=ws({loaded:!1,error:!1,attempt:0}),a=y(!1),{rect:l,checkInView:c}=sh(o,t.options.preLoad),u=()=>{a.value=!0,i.loaded=!0,s("show",a.value)},_=kt(()=>({el:o.value,rect:l,checkInView:c,load:u,state:i}));return Q(()=>{t.addLazyBox(_.value),t.lazyLoadHandler()}),Le(()=>{t.removeComponent(_.value)}),()=>{var d;return W(e.tag,{ref:o},[a.value&&((d=n.default)===null||d===void 0?void 0:d.call(n))])}}});class Iz{constructor(e){this.lazy=e,e.lazyContainerMananger=this,this._queue=[]}bind(e,s,n){const o=new Pz(e,s,n,this.lazy);this._queue.push(o)}update(e,s,n){const o=this._queue.find(i=>i.el===e);o&&o.update(e,s)}unbind(e,s,n){const o=this._queue.find(i=>i.el===e);o&&(o.clear(),zn(this._queue,o))}}const Mz={selector:"img",error:"",loading:""};class Pz{constructor(e,s,n,o){this.el=e,this.vnode=n,this.binding=s,this.options={},this.lazy=o,this._queue=[],this.update(e,s)}update(e,s){this.el=e,this.options=fu({},Mz,s.value),this.getImgs().forEach(o=>{this.lazy.add(o,fu({},this.binding,{value:{src:o.getAttribute("data-src")||o.dataset.src,error:o.getAttribute("data-error")||o.dataset.error||this.options.error,loading:o.getAttribute("data-loading")||o.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(s=>this.lazy.remove(s)),this.vnode=null,this.binding=null,this.lazy=null}}var Lz=t=>Oi({setup(e,{slots:s}){const n=y(),o=ws({src:"",error:"",loading:"",attempt:t.options.attempt}),i=ws({loaded:!1,error:!1,attempt:0}),{rect:a,checkInView:l}=sh(n,t.options.preLoad),c=y(""),u=(h=Ql)=>{if(i.attempt>o.attempt-1&&i.error)return t.options.silent||console.log(`VueLazyload log: ${o.src} tried too more than ${o.attempt} times`),h();const g=o.src;Qa({src:g},({src:w})=>{c.value=w,i.loaded=!0},()=>{i.attempt++,c.value=o.error,i.error=!0})},_=kt(()=>({el:n.value,rect:a,checkInView:l,load:u,state:i}));Q(()=>{t.addLazyBox(_.value),t.lazyLoadHandler()}),Le(()=>{t.removeComponent(_.value)});const d=()=>{const{src:h,loading:g,error:w}=t._valueFormatter(e.src);i.loaded=!1,o.src=h,o.error=w,o.loading=g,c.value=o.loading};return K(()=>e.src,()=>{d(),t.addLazyBox(_.value),t.lazyLoadHandler()},{immediate:!0}),()=>{var h;return W(e.tag||"img",{src:c.value,ref:n},[(h=s.default)===null||h===void 0?void 0:h.call(s)])}}}),Dz={install(t,e={}){const s=new Az(e),n=new Iz(s);if(Number(t.version.split(".")[0])<3)return new Error("Vue version at least 3.0");t.config.globalProperties.$Lazyload=s,t.provide("Lazyload",s),e.lazyComponent&&t.component("lazy-component",Oz(s)),e.lazyImage&&t.component("lazy-image",Lz(s)),t.directive("lazy",{beforeMount:s.add.bind(s),beforeUpdate:s.update.bind(s),updated:s.lazyLoadHandler.bind(s),unmounted:s.remove.bind(s)}),t.directive("lazy-container",{beforeMount:n.bind.bind(n),updated:n.update.bind(n),unmounted:n.unbind.bind(n)})}};const Rz=500,Xa=rp({state:{pageStatus:{upload_work:!1,upload_work_type:"",index_page:!0,indexPage:0,search_page:!1,chat_page:!1,content_index_page:!1,user_center_page:!1,other_user_center_page:!1,data_analysis_page:!1},content_page:{ill_page:!1,comic_page:!1,novel_page:!1,img_content_page:!1,item_path:""},token:"",userinfo:{},work_id:"",work_type:"",other_userid:"",pageStack:[],pushTimer:null},mutations:{SET_USERINFO(t,e){t.userinfo=e},SET_TOKEN(t,e){t.token=e},SET_PAGESTATUS(t,e){t.pageStatus={...t.pageStatus,...e}},SET_UPLOAD_WORK(t,e){t.pageStatus.upload_work=e},SET_UPLOAD_WORK_TYPE(t,e){t.pageStatus.upload_work_type=e},SET_INDEX_PAGE(t,e){t.pageStatus.index_page=e},SET_KEY(t,{key:e,value:s}){t.pageStatus[e]=s},SET_INDEXPAGE(t,e){t.pageStatus.indexPage=e},SET_SEARCH_PAGE(t,e){t.pageStatus.search_page=e},SET_SINGLE_PAGE_STATUS(t,{key:e,value:s}){if(e==="all"){for(const o in t.pageStatus)Object.prototype.hasOwnProperty.call(t.pageStatus,o)&&typeof t.pageStatus[o]=="boolean"&&(t.pageStatus[o]=!1);return}for(const o in t.pageStatus)Object.prototype.hasOwnProperty.call(t.pageStatus,o)&&typeof t.pageStatus[o]=="boolean"&&(t.pageStatus[o]=!1);t.pageStatus[e]=s,Object.keys(t.pageStatus).every(o=>typeof t.pageStatus[o]!="boolean"||t.pageStatus[o]===!1)&&(t.pageStatus.index_page=!0)},SET_CONTENT_PAGE(t,{key:e,value:s}){for(const n in t.content_page)Object.prototype.hasOwnProperty.call(t.content_page,n)&&typeof t.content_page[n]=="boolean"&&(t.content_page[n]=!1);t.content_page[e]=s},SET_WORK_ID(t,e){t.work_id=e},PUSH_PAGE_STATE(t){t.pageStack.length>=Rz&&t.pageStack.shift(),t.pageStack.push({pageStatus:JSON.parse(JSON.stringify(t.pageStatus)),content_page:JSON.parse(JSON.stringify(t.content_page))})},POP_PAGE_STATE(t){if(t.pageStack.length>0){const e=t.pageStack.pop();t.pageStatus=e.pageStatus,t.content_page=e.content_page}},RESET_PAGE_STACK(t){t.pageStack=[],t.pushTimer=null},SET_ITEM_PATH(t,e){t.content_page.item_path=e},SET_WORK_TYPE(t,e){t.work_type=e},SET_OTHER_USERID(t,e){t.other_userid=e}},actions:{goBack({commit:t}){t("POP_PAGE_STATE")}},getters:{userinfo:t=>t.userinfo,token:t=>t.token,upload_work:t=>t.pageStatus.upload_work,upload_work_type:t=>t.pageStatus.upload_work_type,index_page:t=>t.pageStatus.index_page,indexPage:t=>t.pageStatus.indexPage,search_page:t=>t.pageStatus.search_page,chat_page:t=>t.pageStatus.chat_page,ill_page:t=>t.content_page.ill_page,comic_page:t=>t.content_page.comic_page,novel_page:t=>t.content_page.novel_page,work_id:t=>t.work_id,img_content_page:t=>t.content_page.img_content_page,content_index_page:t=>t.pageStatus.content_index_page,pageStack:t=>t.pageStack,item_path:t=>t.content_page.item_path,work_type:t=>t.work_type,user_center_page:t=>t.pageStatus.user_center_page,other_user_center_page:t=>t.pageStatus.other_user_center_page,other_userid:t=>t.other_userid,data_analysis_page:t=>t.pageStatus.data_analysis_page}}),Nz=50,Xl=Lg(hz);Xl.use(Dz,{preLoad:1.3,error:"https://www.sunyuanling.com/assets/default_avatar.svg",loading:"https://www.sunyuanling.com/assets/下载加载.mp4",attempt:1});Xa.subscribe((t,e)=>{(t.type==="SET_PAGESTATUS"||t.type==="SET_CONTENT_PAGE"||t.type==="SET_SINGLE_PAGE_STATUS"||t.type==="SET_INDEX_PAGE")&&(e.pushTimer&&clearTimeout(e.pushTimer),e.pushTimer=setTimeout(()=>{e.pushTimer=null,Xa.commit("PUSH_PAGE_STATE")},Nz))});Xl.use(Xa);Xl.mount("#app");
