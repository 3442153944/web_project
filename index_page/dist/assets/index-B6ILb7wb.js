(function () { const t = document.createElement("link").relList; if (t && t.supports && t.supports("modulepreload")) return; for (const i of document.querySelectorAll('link[rel="modulepreload"]')) n(i); new MutationObserver(i => { for (const l of i) if (l.type === "childList") for (const a of l.addedNodes) a.tagName === "LINK" && a.rel === "modulepreload" && n(a) }).observe(document, { childList: !0, subtree: !0 }); function s(i) { const l = {}; return i.integrity && (l.integrity = i.integrity), i.referrerPolicy && (l.referrerPolicy = i.referrerPolicy), i.crossOrigin === "use-credentials" ? l.credentials = "include" : i.crossOrigin === "anonymous" ? l.credentials = "omit" : l.credentials = "same-origin", l } function n(i) { if (i.ep) return; i.ep = !0; const l = s(i); fetch(i.href, l) } })();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bn(e, t) { const s = new Set(e.split(",")); return n => s.has(n) } const Te = {}, rs = [], Ze = () => { }, ec = () => !1, uo = e => e.charCodeAt(0) === 111 && e.charCodeAt(1) === 110 && (e.charCodeAt(2) > 122 || e.charCodeAt(2) < 97), $n = e => e.startsWith("onUpdate:"), je = Object.assign, xn = (e, t) => { const s = e.indexOf(t); s > -1 && e.splice(s, 1) }, tc = Object.prototype.hasOwnProperty, ye = (e, t) => tc.call(e, t), ae = Array.isArray, _s = e => Rs(e) === "[object Map]", fo = e => Rs(e) === "[object Set]", ci = e => Rs(e) === "[object Date]", pe = e => typeof e == "function", Le = e => typeof e == "string", kt = e => typeof e == "symbol", Ce = e => e !== null && typeof e == "object", ll = e => (Ce(e) || pe(e)) && pe(e.then) && pe(e.catch), al = Object.prototype.toString, Rs = e => al.call(e), sc = e => Rs(e).slice(8, -1), cl = e => Rs(e) === "[object Object]", Sn = e => Le(e) && e !== "NaN" && e[0] !== "-" && "" + parseInt(e, 10) === e, Ss = bn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"), ho = e => { const t = Object.create(null); return s => t[s] || (t[s] = e(s)) }, oc = /-(\w)/g, gt = ho(e => e.replace(oc, (t, s) => s ? s.toUpperCase() : "")), nc = /\B([A-Z])/g, Zt = ho(e => e.replace(nc, "-$1").toLowerCase()), po = ho(e => e.charAt(0).toUpperCase() + e.slice(1)), Go = ho(e => e ? `on${po(e)}` : ""), Pt = (e, t) => !Object.is(e, t), Xs = (e, t) => { for (let s = 0; s < e.length; s++)e[s](t) }, rl = (e, t, s, n = !1) => { Object.defineProperty(e, t, { configurable: !0, enumerable: !1, writable: n, value: s }) }, no = e => { const t = parseFloat(e); return isNaN(t) ? e : t }, ic = e => { const t = Le(e) ? Number(e) : NaN; return isNaN(t) ? e : t }; let ri; const _l = () => ri || (ri = typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : typeof window < "u" ? window : typeof global < "u" ? global : {}); function st(e) { if (ae(e)) { const t = {}; for (let s = 0; s < e.length; s++) { const n = e[s], i = Le(n) ? rc(n) : st(n); if (i) for (const l in i) t[l] = i[l] } return t } else if (Le(e) || Ce(e)) return e } const lc = /;(?![^(]*\))/g, ac = /:([^]+)/, cc = /\/\*[^]*?\*\//g; function rc(e) { const t = {}; return e.replace(cc, "").split(lc).forEach(s => { if (s) { const n = s.split(ac); n.length > 1 && (t[n[0].trim()] = n[1].trim()) } }), t } function ge(e) { let t = ""; if (Le(e)) t = e; else if (ae(e)) for (let s = 0; s < e.length; s++) { const n = ge(e[s]); n && (t += n + " ") } else if (Ce(e)) for (const s in e) e[s] && (t += s + " "); return t.trim() } const _c = "itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly", uc = bn(_c); function ul(e) { return !!e || e === "" } function dc(e, t) { if (e.length !== t.length) return !1; let s = !0; for (let n = 0; s && n < e.length; n++)s = ds(e[n], t[n]); return s } function ds(e, t) { if (e === t) return !0; let s = ci(e), n = ci(t); if (s || n) return s && n ? e.getTime() === t.getTime() : !1; if (s = kt(e), n = kt(t), s || n) return e === t; if (s = ae(e), n = ae(t), s || n) return s && n ? dc(e, t) : !1; if (s = Ce(e), n = Ce(t), s || n) { if (!s || !n) return !1; const i = Object.keys(e).length, l = Object.keys(t).length; if (i !== l) return !1; for (const a in e) { const c = e.hasOwnProperty(a), r = t.hasOwnProperty(a); if (c && !r || !c && r || !ds(e[a], t[a])) return !1 } } return String(e) === String(t) } function fc(e, t) { return e.findIndex(s => ds(s, t)) } const S = e => Le(e) ? e : e == null ? "" : ae(e) || Ce(e) && (e.toString === al || !pe(e.toString)) ? JSON.stringify(e, dl, 2) : String(e), dl = (e, t) => t && t.__v_isRef ? dl(e, t.value) : _s(t) ? { [`Map(${t.size})`]: [...t.entries()].reduce((s, [n, i], l) => (s[Ro(n, l) + " =>"] = i, s), {}) } : fo(t) ? { [`Set(${t.size})`]: [...t.values()].map(s => Ro(s)) } : kt(t) ? Ro(t) : Ce(t) && !ae(t) && !cl(t) ? String(t) : t, Ro = (e, t = "") => { var s; return kt(e) ? `Symbol(${(s = e.description) != null ? s : t})` : e };/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt; class hc { constructor(t = !1) { this.detached = t, this._active = !0, this.effects = [], this.cleanups = [], this.parent = nt, !t && nt && (this.index = (nt.scopes || (nt.scopes = [])).push(this) - 1) } get active() { return this._active } run(t) { if (this._active) { const s = nt; try { return nt = this, t() } finally { nt = s } } } on() { nt = this } off() { nt = this.parent } stop(t) { if (this._active) { let s, n; for (s = 0, n = this.effects.length; s < n; s++)this.effects[s].stop(); for (s = 0, n = this.cleanups.length; s < n; s++)this.cleanups[s](); if (this.scopes) for (s = 0, n = this.scopes.length; s < n; s++)this.scopes[s].stop(!0); if (!this.detached && this.parent && !t) { const i = this.parent.scopes.pop(); i && i !== this && (this.parent.scopes[this.index] = i, i.index = this.index) } this.parent = void 0, this._active = !1 } } } function pc(e, t = nt) { t && t.active && t.effects.push(e) } function gc() { return nt } let Qt; class Cn { constructor(t, s, n, i) { this.fn = t, this.trigger = s, this.scheduler = n, this.active = !0, this.deps = [], this._dirtyLevel = 4, this._trackId = 0, this._runnings = 0, this._shouldSchedule = !1, this._depsLength = 0, pc(this, i) } get dirty() { if (this._dirtyLevel === 2 || this._dirtyLevel === 3) { this._dirtyLevel = 1, Dt(); for (let t = 0; t < this._depsLength; t++) { const s = this.deps[t]; if (s.computed && (mc(s.computed), this._dirtyLevel >= 4)) break } this._dirtyLevel === 1 && (this._dirtyLevel = 0), Mt() } return this._dirtyLevel >= 4 } set dirty(t) { this._dirtyLevel = t ? 4 : 0 } run() { if (this._dirtyLevel = 0, !this.active) return this.fn(); let t = jt, s = Qt; try { return jt = !0, Qt = this, this._runnings++, _i(this), this.fn() } finally { ui(this), this._runnings--, Qt = s, jt = t } } stop() { this.active && (_i(this), ui(this), this.onStop && this.onStop(), this.active = !1) } } function mc(e) { return e.value } function _i(e) { e._trackId++, e._depsLength = 0 } function ui(e) { if (e.deps.length > e._depsLength) { for (let t = e._depsLength; t < e.deps.length; t++)fl(e.deps[t], e); e.deps.length = e._depsLength } } function fl(e, t) { const s = e.get(t); s !== void 0 && t._trackId !== s && (e.delete(t), e.size === 0 && e.cleanup()) } let jt = !0, Xo = 0; const hl = []; function Dt() { hl.push(jt), jt = !1 } function Mt() { const e = hl.pop(); jt = e === void 0 ? !0 : e } function Tn() { Xo++ } function En() { for (Xo--; !Xo && Zo.length;)Zo.shift()() } function pl(e, t, s) { if (t.get(e) !== e._trackId) { t.set(e, e._trackId); const n = e.deps[e._depsLength]; n !== t ? (n && fl(n, e), e.deps[e._depsLength++] = t) : e._depsLength++ } } const Zo = []; function gl(e, t, s) { Tn(); for (const n of e.keys()) { let i; n._dirtyLevel < t && (i ?? (i = e.get(n) === n._trackId)) && (n._shouldSchedule || (n._shouldSchedule = n._dirtyLevel === 0), n._dirtyLevel = t), n._shouldSchedule && (i ?? (i = e.get(n) === n._trackId)) && (n.trigger(), (!n._runnings || n.allowRecurse) && n._dirtyLevel !== 2 && (n._shouldSchedule = !1, n.scheduler && Zo.push(n.scheduler))) } En() } const ml = (e, t) => { const s = new Map; return s.cleanup = e, s.computed = t, s }, en = new WeakMap, Xt = Symbol(""), tn = Symbol(""); function ze(e, t, s) { if (jt && Qt) { let n = en.get(e); n || en.set(e, n = new Map); let i = n.get(s); i || n.set(s, i = ml(() => n.delete(s))), pl(Qt, i) } } function mt(e, t, s, n, i, l) { const a = en.get(e); if (!a) return; let c = []; if (t === "clear") c = [...a.values()]; else if (s === "length" && ae(e)) { const r = Number(n); a.forEach((_, d) => { (d === "length" || !kt(d) && d >= r) && c.push(_) }) } else switch (s !== void 0 && c.push(a.get(s)), t) { case "add": ae(e) ? Sn(s) && c.push(a.get("length")) : (c.push(a.get(Xt)), _s(e) && c.push(a.get(tn))); break; case "delete": ae(e) || (c.push(a.get(Xt)), _s(e) && c.push(a.get(tn))); break; case "set": _s(e) && c.push(a.get(Xt)); break }Tn(); for (const r of c) r && gl(r, 4); En() } const vc = bn("__proto__,__v_isRef,__isVue"), vl = new Set(Object.getOwnPropertyNames(Symbol).filter(e => e !== "arguments" && e !== "caller").map(e => Symbol[e]).filter(kt)), di = wc(); function wc() { const e = {}; return ["includes", "indexOf", "lastIndexOf"].forEach(t => { e[t] = function (...s) { const n = be(this); for (let l = 0, a = this.length; l < a; l++)ze(n, "get", l + ""); const i = n[t](...s); return i === -1 || i === !1 ? n[t](...s.map(be)) : i } }), ["push", "pop", "shift", "unshift", "splice"].forEach(t => { e[t] = function (...s) { Dt(), Tn(); const n = be(this)[t].apply(this, s); return En(), Mt(), n } }), e } function yc(e) { kt(e) || (e = String(e)); const t = be(this); return ze(t, "has", e), t.hasOwnProperty(e) } class wl { constructor(t = !1, s = !1) { this._isReadonly = t, this._isShallow = s } get(t, s, n) { const i = this._isReadonly, l = this._isShallow; if (s === "__v_isReactive") return !i; if (s === "__v_isReadonly") return i; if (s === "__v_isShallow") return l; if (s === "__v_raw") return n === (i ? l ? jc : $l : l ? bl : kl).get(t) || Object.getPrototypeOf(t) === Object.getPrototypeOf(n) ? t : void 0; const a = ae(t); if (!i) { if (a && ye(di, s)) return Reflect.get(di, s, n); if (s === "hasOwnProperty") return yc } const c = Reflect.get(t, s, n); return (kt(s) ? vl.has(s) : vc(s)) || (i || ze(t, "get", s), l) ? c : de(c) ? a && Sn(s) ? c : c.value : Ce(c) ? i ? xl(c) : Ut(c) : c } } class yl extends wl { constructor(t = !1) { super(!1, t) } set(t, s, n, i) { let l = t[s]; if (!this._isShallow) { const r = Os(l); if (!io(n) && !Os(n) && (l = be(l), n = be(n)), !ae(t) && de(l) && !de(n)) return r ? !1 : (l.value = n, !0) } const a = ae(t) && Sn(s) ? Number(s) < t.length : ye(t, s), c = Reflect.set(t, s, n, i); return t === be(i) && (a ? Pt(n, l) && mt(t, "set", s, n) : mt(t, "add", s, n)), c } deleteProperty(t, s) { const n = ye(t, s); t[s]; const i = Reflect.deleteProperty(t, s); return i && n && mt(t, "delete", s, void 0), i } has(t, s) { const n = Reflect.has(t, s); return (!kt(s) || !vl.has(s)) && ze(t, "has", s), n } ownKeys(t) { return ze(t, "iterate", ae(t) ? "length" : Xt), Reflect.ownKeys(t) } } class kc extends wl { constructor(t = !1) { super(!0, t) } set(t, s) { return !0 } deleteProperty(t, s) { return !0 } } const bc = new yl, $c = new kc, xc = new yl(!0); const An = e => e, go = e => Reflect.getPrototypeOf(e); function Bs(e, t, s = !1, n = !1) { e = e.__v_raw; const i = be(e), l = be(t); s || (Pt(t, l) && ze(i, "get", t), ze(i, "get", l)); const { has: a } = go(i), c = n ? An : s ? Nn : Ns; if (a.call(i, t)) return c(e.get(t)); if (a.call(i, l)) return c(e.get(l)); e !== i && e.get(t) } function Ws(e, t = !1) { const s = this.__v_raw, n = be(s), i = be(e); return t || (Pt(e, i) && ze(n, "has", e), ze(n, "has", i)), e === i ? s.has(e) : s.has(e) || s.has(i) } function Js(e, t = !1) { return e = e.__v_raw, !t && ze(be(e), "iterate", Xt), Reflect.get(e, "size", e) } function fi(e) { e = be(e); const t = be(this); return go(t).has.call(t, e) || (t.add(e), mt(t, "add", e, e)), this } function hi(e, t) { t = be(t); const s = be(this), { has: n, get: i } = go(s); let l = n.call(s, e); l || (e = be(e), l = n.call(s, e)); const a = i.call(s, e); return s.set(e, t), l ? Pt(t, a) && mt(s, "set", e, t) : mt(s, "add", e, t), this } function pi(e) { const t = be(this), { has: s, get: n } = go(t); let i = s.call(t, e); i || (e = be(e), i = s.call(t, e)), n && n.call(t, e); const l = t.delete(e); return i && mt(t, "delete", e, void 0), l } function gi() { const e = be(this), t = e.size !== 0, s = e.clear(); return t && mt(e, "clear", void 0, void 0), s } function Ks(e, t) { return function (n, i) { const l = this, a = l.__v_raw, c = be(a), r = t ? An : e ? Nn : Ns; return !e && ze(c, "iterate", Xt), a.forEach((_, d) => n.call(i, r(_), r(d), l)) } } function Ys(e, t, s) { return function (...n) { const i = this.__v_raw, l = be(i), a = _s(l), c = e === "entries" || e === Symbol.iterator && a, r = e === "keys" && a, _ = i[e](...n), d = s ? An : t ? Nn : Ns; return !t && ze(l, "iterate", r ? tn : Xt), { next() { const { value: u, done: p } = _.next(); return p ? { value: u, done: p } : { value: c ? [d(u[0]), d(u[1])] : d(u), done: p } }, [Symbol.iterator]() { return this } } } } function xt(e) { return function (...t) { return e === "delete" ? !1 : e === "clear" ? void 0 : this } } function Sc() { const e = { get(l) { return Bs(this, l) }, get size() { return Js(this) }, has: Ws, add: fi, set: hi, delete: pi, clear: gi, forEach: Ks(!1, !1) }, t = { get(l) { return Bs(this, l, !1, !0) }, get size() { return Js(this) }, has: Ws, add: fi, set: hi, delete: pi, clear: gi, forEach: Ks(!1, !0) }, s = { get(l) { return Bs(this, l, !0) }, get size() { return Js(this, !0) }, has(l) { return Ws.call(this, l, !0) }, add: xt("add"), set: xt("set"), delete: xt("delete"), clear: xt("clear"), forEach: Ks(!0, !1) }, n = { get(l) { return Bs(this, l, !0, !0) }, get size() { return Js(this, !0) }, has(l) { return Ws.call(this, l, !0) }, add: xt("add"), set: xt("set"), delete: xt("delete"), clear: xt("clear"), forEach: Ks(!0, !0) }; return ["keys", "values", "entries", Symbol.iterator].forEach(l => { e[l] = Ys(l, !1, !1), s[l] = Ys(l, !0, !1), t[l] = Ys(l, !1, !0), n[l] = Ys(l, !0, !0) }), [e, s, t, n] } const [Cc, Tc, Ec, Ac] = Sc(); function In(e, t) { const s = t ? e ? Ac : Ec : e ? Tc : Cc; return (n, i, l) => i === "__v_isReactive" ? !e : i === "__v_isReadonly" ? e : i === "__v_raw" ? n : Reflect.get(ye(s, i) && i in n ? s : n, i, l) } const Ic = { get: In(!1, !1) }, Oc = { get: In(!1, !0) }, Nc = { get: In(!0, !1) }; const kl = new WeakMap, bl = new WeakMap, $l = new WeakMap, jc = new WeakMap; function Lc(e) { switch (e) { case "Object": case "Array": return 1; case "Map": case "Set": case "WeakMap": case "WeakSet": return 2; default: return 0 } } function Pc(e) { return e.__v_skip || !Object.isExtensible(e) ? 0 : Lc(sc(e)) } function Ut(e) { return Os(e) ? e : On(e, !1, bc, Ic, kl) } function Uc(e) { return On(e, !1, xc, Oc, bl) } function xl(e) { return On(e, !0, $c, Nc, $l) } function On(e, t, s, n, i) { if (!Ce(e) || e.__v_raw && !(t && e.__v_isReactive)) return e; const l = i.get(e); if (l) return l; const a = Pc(e); if (a === 0) return e; const c = new Proxy(e, a === 2 ? n : s); return i.set(e, c), c } function Cs(e) { return Os(e) ? Cs(e.__v_raw) : !!(e && e.__v_isReactive) } function Os(e) { return !!(e && e.__v_isReadonly) } function io(e) { return !!(e && e.__v_isShallow) } function Sl(e) { return e ? !!e.__v_raw : !1 } function be(e) { const t = e && e.__v_raw; return t ? be(t) : e } function Gc(e) { return Object.isExtensible(e) && rl(e, "__v_skip", !0), e } const Ns = e => Ce(e) ? Ut(e) : e, Nn = e => Ce(e) ? xl(e) : e; class Cl { constructor(t, s, n, i) { this.getter = t, this._setter = s, this.dep = void 0, this.__v_isRef = !0, this.__v_isReadonly = !1, this.effect = new Cn(() => t(this._value), () => Zs(this, this.effect._dirtyLevel === 2 ? 2 : 3)), this.effect.computed = this, this.effect.active = this._cacheable = !i, this.__v_isReadonly = n } get value() { const t = be(this); return (!t._cacheable || t.effect.dirty) && Pt(t._value, t._value = t.effect.run()) && Zs(t, 4), Tl(t), t.effect._dirtyLevel >= 2 && Zs(t, 2), t._value } set value(t) { this._setter(t) } get _dirty() { return this.effect.dirty } set _dirty(t) { this.effect.dirty = t } } function Rc(e, t, s = !1) { let n, i; const l = pe(e); return l ? (n = e, i = Ze) : (n = e.get, i = e.set), new Cl(n, i, l || !i, s) } function Tl(e) { var t; jt && Qt && (e = be(e), pl(Qt, (t = e.dep) != null ? t : e.dep = ml(() => e.dep = void 0, e instanceof Cl ? e : void 0))) } function Zs(e, t = 4, s) { e = be(e); const n = e.dep; n && gl(n, t) } function de(e) { return !!(e && e.__v_isRef === !0) } function f(e) { return Dc(e, !1) } function Dc(e, t) { return de(e) ? e : new Mc(e, t) } class Mc { constructor(t, s) { this.__v_isShallow = s, this.dep = void 0, this.__v_isRef = !0, this._rawValue = s ? t : be(t), this._value = s ? t : Ns(t) } get value() { return Tl(this), this._value } set value(t) { const s = this.__v_isShallow || io(t) || Os(t); t = s ? t : be(t), Pt(t, this._rawValue) && (this._rawValue = t, this._value = s ? t : Ns(t), Zs(this, 4)) } } function b(e) { return de(e) ? e.value : e } const Fc = { get: (e, t, s) => b(Reflect.get(e, t, s)), set: (e, t, s, n) => { const i = e[t]; return de(i) && !de(s) ? (i.value = s, !0) : Reflect.set(e, t, s, n) } }; function El(e) { return Cs(e) ? e : new Proxy(e, Fc) }/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Lt(e, t, s, n) { try { return n ? e(...n) : e() } catch (i) { mo(i, t, s) } } function tt(e, t, s, n) { if (pe(e)) { const i = Lt(e, t, s, n); return i && ll(i) && i.catch(l => { mo(l, t, s) }), i } if (ae(e)) { const i = []; for (let l = 0; l < e.length; l++)i.push(tt(e[l], t, s, n)); return i } } function mo(e, t, s, n = !0) { const i = t ? t.vnode : null; if (t) { let l = t.parent; const a = t.proxy, c = `https://vuejs.org/error-reference/#runtime-${s}`; for (; l;) { const _ = l.ec; if (_) { for (let d = 0; d < _.length; d++)if (_[d](e, a, c) === !1) return } l = l.parent } const r = t.appContext.config.errorHandler; if (r) { Dt(), Lt(r, null, 10, [e, a, c]), Mt(); return } } Hc(e, s, i, n) } function Hc(e, t, s, n = !0) { console.error(e) } let js = !1, sn = !1; const De = []; let dt = 0; const us = []; let Tt = null, Kt = 0; const Al = Promise.resolve(); let jn = null; function it(e) { const t = jn || Al; return e ? t.then(this ? e.bind(this) : e) : t } function Vc(e) { let t = dt + 1, s = De.length; for (; t < s;) { const n = t + s >>> 1, i = De[n], l = Ls(i); l < e || l === e && i.pre ? t = n + 1 : s = n } return t } function Ln(e) { (!De.length || !De.includes(e, js && e.allowRecurse ? dt + 1 : dt)) && (e.id == null ? De.push(e) : De.splice(Vc(e.id), 0, e), Il()) } function Il() { !js && !sn && (sn = !0, jn = Al.then(Nl)) } function zc(e) { const t = De.indexOf(e); t > dt && De.splice(t, 1) } function Bc(e) { ae(e) ? us.push(...e) : (!Tt || !Tt.includes(e, e.allowRecurse ? Kt + 1 : Kt)) && us.push(e), Il() } function mi(e, t, s = js ? dt + 1 : 0) { for (; s < De.length; s++) { const n = De[s]; if (n && n.pre) { if (e && n.id !== e.uid) continue; De.splice(s, 1), s--, n() } } } function Ol(e) { if (us.length) { const t = [...new Set(us)].sort((s, n) => Ls(s) - Ls(n)); if (us.length = 0, Tt) { Tt.push(...t); return } for (Tt = t, Kt = 0; Kt < Tt.length; Kt++)Tt[Kt](); Tt = null, Kt = 0 } } const Ls = e => e.id == null ? 1 / 0 : e.id, Wc = (e, t) => { const s = Ls(e) - Ls(t); if (s === 0) { if (e.pre && !t.pre) return -1; if (t.pre && !e.pre) return 1 } return s }; function Nl(e) { sn = !1, js = !0, De.sort(Wc); try { for (dt = 0; dt < De.length; dt++) { const t = De[dt]; t && t.active !== !1 && Lt(t, null, 14) } } finally { dt = 0, De.length = 0, Ol(), js = !1, jn = null, (De.length || us.length) && Nl() } } function Jc(e, t, ...s) { if (e.isUnmounted) return; const n = e.vnode.props || Te; let i = s; const l = t.startsWith("update:"), a = l && t.slice(7); if (a && a in n) { const d = `${a === "modelValue" ? "model" : a}Modifiers`, { number: u, trim: p } = n[d] || Te; p && (i = s.map(m => Le(m) ? m.trim() : m)), u && (i = s.map(no)) } let c, r = n[c = Go(t)] || n[c = Go(gt(t))]; !r && l && (r = n[c = Go(Zt(t))]), r && tt(r, e, 6, i); const _ = n[c + "Once"]; if (_) { if (!e.emitted) e.emitted = {}; else if (e.emitted[c]) return; e.emitted[c] = !0, tt(_, e, 6, i) } } function jl(e, t, s = !1) { const n = t.emitsCache, i = n.get(e); if (i !== void 0) return i; const l = e.emits; let a = {}, c = !1; if (!pe(e)) { const r = _ => { const d = jl(_, t, !0); d && (c = !0, je(a, d)) }; !s && t.mixins.length && t.mixins.forEach(r), e.extends && r(e.extends), e.mixins && e.mixins.forEach(r) } return !l && !c ? (Ce(e) && n.set(e, null), null) : (ae(l) ? l.forEach(r => a[r] = null) : je(a, l), Ce(e) && n.set(e, a), a) } function vo(e, t) { return !e || !uo(t) ? !1 : (t = t.slice(2).replace(/Once$/, ""), ye(e, t[0].toLowerCase() + t.slice(1)) || ye(e, Zt(t)) || ye(e, t)) } let He = null, wo = null; function lo(e) { const t = He; return He = e, wo = e && e.type.__scopeId || null, t } function Y(e) { wo = e } function q() { wo = null } function yo(e, t = He, s) { if (!t || e._n) return e; const n = (...i) => { n._d && Ai(-1); const l = lo(t); let a; try { a = e(...i) } finally { lo(l), n._d && Ai(1) } return a }; return n._n = !0, n._c = !0, n._d = !0, n } function Do(e) { const { type: t, vnode: s, proxy: n, withProxy: i, propsOptions: [l], slots: a, attrs: c, emit: r, render: _, renderCache: d, props: u, data: p, setupState: m, ctx: x, inheritAttrs: g } = e, k = lo(e); let y, v; try { if (s.shapeFlag & 4) { const E = i || n, L = E; y = ut(_.call(L, E, d, u, m, p, x)), v = c } else { const E = t; y = ut(E.length > 1 ? E(u, { attrs: c, slots: a, emit: r }) : E(u, null)), v = t.props ? c : Kc(c) } } catch (E) { Is.length = 0, mo(E, e, 1), y = M(et) } let $ = y; if (v && g !== !1) { const E = Object.keys(v), { shapeFlag: L } = $; E.length && L & 7 && (l && E.some($n) && (v = Yc(v, l)), $ = Gt($, v, !1, !0)) } return s.dirs && ($ = Gt($, null, !1, !0), $.dirs = $.dirs ? $.dirs.concat(s.dirs) : s.dirs), s.transition && ($.transition = s.transition), y = $, lo(k), y } const Kc = e => { let t; for (const s in e) (s === "class" || s === "style" || uo(s)) && ((t || (t = {}))[s] = e[s]); return t }, Yc = (e, t) => { const s = {}; for (const n in e) (!$n(n) || !(n.slice(9) in t)) && (s[n] = e[n]); return s }; function qc(e, t, s) { const { props: n, children: i, component: l } = e, { props: a, children: c, patchFlag: r } = t, _ = l.emitsOptions; if (t.dirs || t.transition) return !0; if (s && r >= 0) { if (r & 1024) return !0; if (r & 16) return n ? vi(n, a, _) : !!a; if (r & 8) { const d = t.dynamicProps; for (let u = 0; u < d.length; u++) { const p = d[u]; if (a[p] !== n[p] && !vo(_, p)) return !0 } } } else return (i || c) && (!c || !c.$stable) ? !0 : n === a ? !1 : n ? a ? vi(n, a, _) : !0 : !!a; return !1 } function vi(e, t, s) { const n = Object.keys(t); if (n.length !== Object.keys(e).length) return !0; for (let i = 0; i < n.length; i++) { const l = n[i]; if (t[l] !== e[l] && !vo(s, l)) return !0 } return !1 } function Qc({ vnode: e, parent: t }, s) { for (; t;) { const n = t.subTree; if (n.suspense && n.suspense.activeBranch === e && (n.el = e.el), n === e) (e = t.vnode).el = s, t = t.parent; else break } } const Ll = "components", Xc = "directives"; function Pl(e, t) { return Ul(Ll, e, !0, t) || e } const Zc = Symbol.for("v-ndc"); function er(e) { return Ul(Xc, e) } function Ul(e, t, s = !0, n = !1) { const i = He || Re; if (i) { const l = i.type; if (e === Ll) { const c = qr(l, !1); if (c && (c === t || c === gt(t) || c === po(gt(t)))) return l } const a = wi(i[e] || l[e], t) || wi(i.appContext[e], t); return !a && n ? l : a } } function wi(e, t) { return e && (e[t] || e[gt(t)] || e[po(gt(t))]) } const tr = e => e.__isSuspense; function sr(e, t) { t && t.pendingBranch ? ae(e) ? t.effects.push(...e) : t.effects.push(e) : Bc(e) } const or = Symbol.for("v-scx"), nr = () => As(or), qs = {}; function V(e, t, s) { return Gl(e, t, s) } function Gl(e, t, { immediate: s, deep: n, flush: i, once: l, onTrack: a, onTrigger: c } = Te) { if (t && l) { const T = t; t = (...N) => { T(...N), L() } } const r = Re, _ = T => n === !0 ? T : qt(T, n === !1 ? 1 : void 0); let d, u = !1, p = !1; if (de(e) ? (d = () => e.value, u = io(e)) : Cs(e) ? (d = () => _(e), u = !0) : ae(e) ? (p = !0, u = e.some(T => Cs(T) || io(T)), d = () => e.map(T => { if (de(T)) return T.value; if (Cs(T)) return _(T); if (pe(T)) return Lt(T, r, 2) })) : pe(e) ? t ? d = () => Lt(e, r, 2) : d = () => (m && m(), tt(e, r, 3, [x])) : d = Ze, t && n) { const T = d; d = () => qt(T()) } let m, x = T => { m = $.onStop = () => { Lt(T, r, 4), m = $.onStop = void 0 } }, g; if (So) if (x = Ze, t ? s && tt(t, r, 3, [d(), p ? [] : void 0, x]) : d(), i === "sync") { const T = nr(); g = T.__watcherHandles || (T.__watcherHandles = []) } else return Ze; let k = p ? new Array(e.length).fill(qs) : qs; const y = () => { if (!(!$.active || !$.dirty)) if (t) { const T = $.run(); (n || u || (p ? T.some((N, R) => Pt(N, k[R])) : Pt(T, k))) && (m && m(), tt(t, r, 3, [T, k === qs ? void 0 : p && k[0] === qs ? [] : k, x]), k = T) } else $.run() }; y.allowRecurse = !!t; let v; i === "sync" ? v = y : i === "post" ? v = () => Ve(y, r && r.suspense) : (y.pre = !0, r && (y.id = r.uid), v = () => Ln(y)); const $ = new Cn(d, Ze, v), E = gc(), L = () => { $.stop(), E && xn(E.effects, $) }; return t ? s ? y() : k = $.run() : i === "post" ? Ve($.run.bind($), r && r.suspense) : $.run(), g && g.push(L), L } function ir(e, t, s) { const n = this.proxy, i = Le(e) ? e.includes(".") ? Rl(n, e) : () => n[e] : e.bind(n, n); let l; pe(t) ? l = t : (l = t.handler, s = t); const a = Ds(this), c = Gl(i, l.bind(n), s); return a(), c } function Rl(e, t) { const s = t.split("."); return () => { let n = e; for (let i = 0; i < s.length && n; i++)n = n[s[i]]; return n } } function qt(e, t = 1 / 0, s) { if (t <= 0 || !Ce(e) || e.__v_skip || (s = s || new Set, s.has(e))) return e; if (s.add(e), t--, de(e)) qt(e.value, t, s); else if (ae(e)) for (let n = 0; n < e.length; n++)qt(e[n], t, s); else if (fo(e) || _s(e)) e.forEach(n => { qt(n, t, s) }); else if (cl(e)) for (const n in e) qt(e[n], t, s); return e } function ue(e, t) { if (He === null) return e; const s = Co(He) || He.proxy, n = e.dirs || (e.dirs = []); for (let i = 0; i < t.length; i++) { let [l, a, c, r = Te] = t[i]; l && (pe(l) && (l = { mounted: l, updated: l }), l.deep && qt(a), n.push({ dir: l, instance: s, value: a, oldValue: void 0, arg: c, modifiers: r })) } return e } function Vt(e, t, s, n) { const i = e.dirs, l = t && t.dirs; for (let a = 0; a < i.length; a++) { const c = i[a]; l && (c.oldValue = l[a].value); let r = c.dir[n]; r && (Dt(), tt(r, s, 8, [e.el, c, e, t]), Mt()) } } const Et = Symbol("_leaveCb"), Qs = Symbol("_enterCb"); function lr() { const e = { isMounted: !1, isLeaving: !1, isUnmounting: !1, leavingVNodes: new Map }; return W(() => { e.isMounted = !0 }), zl(() => { e.isUnmounting = !0 }), e } const Xe = [Function, Array], Dl = { mode: String, appear: Boolean, persisted: Boolean, onBeforeEnter: Xe, onEnter: Xe, onAfterEnter: Xe, onEnterCancelled: Xe, onBeforeLeave: Xe, onLeave: Xe, onAfterLeave: Xe, onLeaveCancelled: Xe, onBeforeAppear: Xe, onAppear: Xe, onAfterAppear: Xe, onAppearCancelled: Xe }, ar = { name: "BaseTransition", props: Dl, setup(e, { slots: t }) { const s = Br(), n = lr(); return () => { const i = t.default && Fl(t.default(), !0); if (!i || !i.length) return; let l = i[0]; if (i.length > 1) { for (const p of i) if (p.type !== et) { l = p; break } } const a = be(e), { mode: c } = a; if (n.isLeaving) return Mo(l); const r = yi(l); if (!r) return Mo(l); const _ = on(r, a, n, s); nn(r, _); const d = s.subTree, u = d && yi(d); if (u && u.type !== et && !Yt(r, u)) { const p = on(u, a, n, s); if (nn(u, p), c === "out-in" && r.type !== et) return n.isLeaving = !0, p.afterLeave = () => { n.isLeaving = !1, s.update.active !== !1 && (s.effect.dirty = !0, s.update()) }, Mo(l); c === "in-out" && r.type !== et && (p.delayLeave = (m, x, g) => { const k = Ml(n, u); k[String(u.key)] = u, m[Et] = () => { x(), m[Et] = void 0, delete _.delayedLeave }, _.delayedLeave = g }) } return l } } }, cr = ar; function Ml(e, t) { const { leavingVNodes: s } = e; let n = s.get(t.type); return n || (n = Object.create(null), s.set(t.type, n)), n } function on(e, t, s, n) { const { appear: i, mode: l, persisted: a = !1, onBeforeEnter: c, onEnter: r, onAfterEnter: _, onEnterCancelled: d, onBeforeLeave: u, onLeave: p, onAfterLeave: m, onLeaveCancelled: x, onBeforeAppear: g, onAppear: k, onAfterAppear: y, onAppearCancelled: v } = t, $ = String(e.key), E = Ml(s, e), L = (R, X) => { R && tt(R, n, 9, X) }, T = (R, X) => { const j = X[1]; L(R, X), ae(R) ? R.every(_e => _e.length <= 1) && j() : R.length <= 1 && j() }, N = { mode: l, persisted: a, beforeEnter(R) { let X = c; if (!s.isMounted) if (i) X = g || c; else return; R[Et] && R[Et](!0); const j = E[$]; j && Yt(e, j) && j.el[Et] && j.el[Et](), L(X, [R]) }, enter(R) { let X = r, j = _, _e = d; if (!s.isMounted) if (i) X = k || r, j = y || _, _e = v || d; else return; let J = !1; const me = R[Qs] = ee => { J || (J = !0, ee ? L(_e, [R]) : L(j, [R]), N.delayedLeave && N.delayedLeave(), R[Qs] = void 0) }; X ? T(X, [R, me]) : me() }, leave(R, X) { const j = String(e.key); if (R[Qs] && R[Qs](!0), s.isUnmounting) return X(); L(u, [R]); let _e = !1; const J = R[Et] = me => { _e || (_e = !0, X(), me ? L(x, [R]) : L(m, [R]), R[Et] = void 0, E[j] === e && delete E[j]) }; E[j] = e, p ? T(p, [R, J]) : J() }, clone(R) { return on(R, t, s, n) } }; return N } function Mo(e) { if (ko(e)) return e = Gt(e), e.children = null, e } function yi(e) { if (!ko(e)) return e; const { shapeFlag: t, children: s } = e; if (s) { if (t & 16) return s[0]; if (t & 32 && pe(s.default)) return s.default() } } function nn(e, t) { e.shapeFlag & 6 && e.component ? nn(e.component.subTree, t) : e.shapeFlag & 128 ? (e.ssContent.transition = t.clone(e.ssContent), e.ssFallback.transition = t.clone(e.ssFallback)) : e.transition = t } function Fl(e, t = !1, s) { let n = [], i = 0; for (let l = 0; l < e.length; l++) { let a = e[l]; const c = s == null ? a.key : String(s) + String(a.key != null ? a.key : l); a.type === B ? (a.patchFlag & 128 && i++, n = n.concat(Fl(a.children, t, c))) : (t || a.type !== et) && n.push(c != null ? Gt(a, { key: c }) : a) } if (i > 1) for (let l = 0; l < n.length; l++)n[l].patchFlag = -2; return n }/*! #__NO_SIDE_EFFECTS__ */function Hl(e, t) { return pe(e) ? je({ name: e.name }, t, { setup: e }) : e } const eo = e => !!e.type.__asyncLoader, ko = e => e.type.__isKeepAlive; function rr(e, t) { Vl(e, "a", t) } function _r(e, t) { Vl(e, "da", t) } function Vl(e, t, s = Re) { const n = e.__wdc || (e.__wdc = () => { let i = s; for (; i;) { if (i.isDeactivated) return; i = i.parent } return e() }); if (bo(t, n, s), s) { let i = s.parent; for (; i && i.parent;)ko(i.parent.vnode) && ur(n, t, s, i), i = i.parent } } function ur(e, t, s, n) { const i = bo(t, e, n, !0); $t(() => { xn(n[t], i) }, s) } function bo(e, t, s = Re, n = !1) { if (s) { const i = s[e] || (s[e] = []), l = t.__weh || (t.__weh = (...a) => { if (s.isUnmounted) return; Dt(); const c = Ds(s), r = tt(t, s, e, a); return c(), Mt(), r }); return n ? i.unshift(l) : i.push(l), l } } const bt = e => (t, s = Re) => (!So || e === "sp") && bo(e, (...n) => t(...n), s), dr = bt("bm"), W = bt("m"), fr = bt("bu"), hr = bt("u"), zl = bt("bum"), $t = bt("um"), pr = bt("sp"), gr = bt("rtg"), mr = bt("rtc"); function vr(e, t = Re) { bo("ec", e, t) } function se(e, t, s, n) { let i; const l = s; if (ae(e) || Le(e)) { i = new Array(e.length); for (let a = 0, c = e.length; a < c; a++)i[a] = t(e[a], a, void 0, l) } else if (typeof e == "number") { i = new Array(e); for (let a = 0; a < e; a++)i[a] = t(a + 1, a, void 0, l) } else if (Ce(e)) if (e[Symbol.iterator]) i = Array.from(e, (a, c) => t(a, c, void 0, l)); else { const a = Object.keys(e); i = new Array(a.length); for (let c = 0, r = a.length; c < r; c++) { const _ = a[c]; i[c] = t(e[_], _, c, l) } } else i = []; return i } const ln = e => e ? ia(e) ? Co(e) || e.proxy : ln(e.parent) : null, Ts = je(Object.create(null), { $: e => e, $el: e => e.vnode.el, $data: e => e.data, $props: e => e.props, $attrs: e => e.attrs, $slots: e => e.slots, $refs: e => e.refs, $parent: e => ln(e.parent), $root: e => ln(e.root), $emit: e => e.emit, $options: e => Pn(e), $forceUpdate: e => e.f || (e.f = () => { e.effect.dirty = !0, Ln(e.update) }), $nextTick: e => e.n || (e.n = it.bind(e.proxy)), $watch: e => ir.bind(e) }), Fo = (e, t) => e !== Te && !e.__isScriptSetup && ye(e, t), wr = { get({ _: e }, t) { if (t === "__v_skip") return !0; const { ctx: s, setupState: n, data: i, props: l, accessCache: a, type: c, appContext: r } = e; let _; if (t[0] !== "$") { const m = a[t]; if (m !== void 0) switch (m) { case 1: return n[t]; case 2: return i[t]; case 4: return s[t]; case 3: return l[t] } else { if (Fo(n, t)) return a[t] = 1, n[t]; if (i !== Te && ye(i, t)) return a[t] = 2, i[t]; if ((_ = e.propsOptions[0]) && ye(_, t)) return a[t] = 3, l[t]; if (s !== Te && ye(s, t)) return a[t] = 4, s[t]; an && (a[t] = 0) } } const d = Ts[t]; let u, p; if (d) return t === "$attrs" && ze(e.attrs, "get", ""), d(e); if ((u = c.__cssModules) && (u = u[t])) return u; if (s !== Te && ye(s, t)) return a[t] = 4, s[t]; if (p = r.config.globalProperties, ye(p, t)) return p[t] }, set({ _: e }, t, s) { const { data: n, setupState: i, ctx: l } = e; return Fo(i, t) ? (i[t] = s, !0) : n !== Te && ye(n, t) ? (n[t] = s, !0) : ye(e.props, t) || t[0] === "$" && t.slice(1) in e ? !1 : (l[t] = s, !0) }, has({ _: { data: e, setupState: t, accessCache: s, ctx: n, appContext: i, propsOptions: l } }, a) { let c; return !!s[a] || e !== Te && ye(e, a) || Fo(t, a) || (c = l[0]) && ye(c, a) || ye(n, a) || ye(Ts, a) || ye(i.config.globalProperties, a) }, defineProperty(e, t, s) { return s.get != null ? e._.accessCache[t] = 0 : ye(s, "value") && this.set(e, t, s.value, null), Reflect.defineProperty(e, t, s) } }; function ki(e) { return ae(e) ? e.reduce((t, s) => (t[s] = null, t), {}) : e } let an = !0; function yr(e) { const t = Pn(e), s = e.proxy, n = e.ctx; an = !1, t.beforeCreate && bi(t.beforeCreate, e, "bc"); const { data: i, computed: l, methods: a, watch: c, provide: r, inject: _, created: d, beforeMount: u, mounted: p, beforeUpdate: m, updated: x, activated: g, deactivated: k, beforeDestroy: y, beforeUnmount: v, destroyed: $, unmounted: E, render: L, renderTracked: T, renderTriggered: N, errorCaptured: R, serverPrefetch: X, expose: j, inheritAttrs: _e, components: J, directives: me, filters: ee } = t; if (_ && kr(_, n, null), a) for (const ve in a) { const Q = a[ve]; pe(Q) && (n[ve] = Q.bind(s)) } if (i) { const ve = i.call(s, s); Ce(ve) && (e.data = Ut(ve)) } if (an = !0, l) for (const ve in l) { const Q = l[ve], le = pe(Q) ? Q.bind(s, s) : pe(Q.get) ? Q.get.bind(s, s) : Ze, xe = !pe(Q) && pe(Q.set) ? Q.set.bind(s) : Ze, ne = Ie({ get: le, set: xe }); Object.defineProperty(n, ve, { enumerable: !0, configurable: !0, get: () => ne.value, set: fe => ne.value = fe }) } if (c) for (const ve in c) Bl(c[ve], n, s, ve); if (r) { const ve = pe(r) ? r.call(s) : r; Reflect.ownKeys(ve).forEach(Q => { Tr(Q, ve[Q]) }) } d && bi(d, e, "c"); function oe(ve, Q) { ae(Q) ? Q.forEach(le => ve(le.bind(s))) : Q && ve(Q.bind(s)) } if (oe(dr, u), oe(W, p), oe(fr, m), oe(hr, x), oe(rr, g), oe(_r, k), oe(vr, R), oe(mr, T), oe(gr, N), oe(zl, v), oe($t, E), oe(pr, X), ae(j)) if (j.length) { const ve = e.exposed || (e.exposed = {}); j.forEach(Q => { Object.defineProperty(ve, Q, { get: () => s[Q], set: le => s[Q] = le }) }) } else e.exposed || (e.exposed = {}); L && e.render === Ze && (e.render = L), _e != null && (e.inheritAttrs = _e), J && (e.components = J), me && (e.directives = me) } function kr(e, t, s = Ze) { ae(e) && (e = cn(e)); for (const n in e) { const i = e[n]; let l; Ce(i) ? "default" in i ? l = As(i.from || n, i.default, !0) : l = As(i.from || n) : l = As(i), de(l) ? Object.defineProperty(t, n, { enumerable: !0, configurable: !0, get: () => l.value, set: a => l.value = a }) : t[n] = l } } function bi(e, t, s) { tt(ae(e) ? e.map(n => n.bind(t.proxy)) : e.bind(t.proxy), t, s) } function Bl(e, t, s, n) { const i = n.includes(".") ? Rl(s, n) : () => s[n]; if (Le(e)) { const l = t[e]; pe(l) && V(i, l) } else if (pe(e)) V(i, e.bind(s)); else if (Ce(e)) if (ae(e)) e.forEach(l => Bl(l, t, s, n)); else { const l = pe(e.handler) ? e.handler.bind(s) : t[e.handler]; pe(l) && V(i, l, e) } } function Pn(e) { const t = e.type, { mixins: s, extends: n } = t, { mixins: i, optionsCache: l, config: { optionMergeStrategies: a } } = e.appContext, c = l.get(t); let r; return c ? r = c : !i.length && !s && !n ? r = t : (r = {}, i.length && i.forEach(_ => ao(r, _, a, !0)), ao(r, t, a)), Ce(t) && l.set(t, r), r } function ao(e, t, s, n = !1) { const { mixins: i, extends: l } = t; l && ao(e, l, s, !0), i && i.forEach(a => ao(e, a, s, !0)); for (const a in t) if (!(n && a === "expose")) { const c = br[a] || s && s[a]; e[a] = c ? c(e[a], t[a]) : t[a] } return e } const br = { data: $i, props: xi, emits: xi, methods: $s, computed: $s, beforeCreate: Fe, created: Fe, beforeMount: Fe, mounted: Fe, beforeUpdate: Fe, updated: Fe, beforeDestroy: Fe, beforeUnmount: Fe, destroyed: Fe, unmounted: Fe, activated: Fe, deactivated: Fe, errorCaptured: Fe, serverPrefetch: Fe, components: $s, directives: $s, watch: xr, provide: $i, inject: $r }; function $i(e, t) { return t ? e ? function () { return je(pe(e) ? e.call(this, this) : e, pe(t) ? t.call(this, this) : t) } : t : e } function $r(e, t) { return $s(cn(e), cn(t)) } function cn(e) { if (ae(e)) { const t = {}; for (let s = 0; s < e.length; s++)t[e[s]] = e[s]; return t } return e } function Fe(e, t) { return e ? [...new Set([].concat(e, t))] : t } function $s(e, t) { return e ? je(Object.create(null), e, t) : t } function xi(e, t) { return e ? ae(e) && ae(t) ? [...new Set([...e, ...t])] : je(Object.create(null), ki(e), ki(t ?? {})) : t } function xr(e, t) { if (!e) return t; if (!t) return e; const s = je(Object.create(null), e); for (const n in t) s[n] = Fe(e[n], t[n]); return s } function Wl() { return { app: null, config: { isNativeTag: ec, performance: !1, globalProperties: {}, optionMergeStrategies: {}, errorHandler: void 0, warnHandler: void 0, compilerOptions: {} }, mixins: [], components: {}, directives: {}, provides: Object.create(null), optionsCache: new WeakMap, propsCache: new WeakMap, emitsCache: new WeakMap } } let Sr = 0; function Cr(e, t) { return function (n, i = null) { pe(n) || (n = je({}, n)), i != null && !Ce(i) && (i = null); const l = Wl(), a = new WeakSet; let c = !1; const r = l.app = { _uid: Sr++, _component: n, _props: i, _container: null, _context: l, _instance: null, version: Zr, get config() { return l.config }, set config(_) { }, use(_, ...d) { return a.has(_) || (_ && pe(_.install) ? (a.add(_), _.install(r, ...d)) : pe(_) && (a.add(_), _(r, ...d))), r }, mixin(_) { return l.mixins.includes(_) || l.mixins.push(_), r }, component(_, d) { return d ? (l.components[_] = d, r) : l.components[_] }, directive(_, d) { return d ? (l.directives[_] = d, r) : l.directives[_] }, mount(_, d, u) { if (!c) { const p = M(n, i); return p.appContext = l, u === !0 ? u = "svg" : u === !1 && (u = void 0), d && t ? t(p, _) : e(p, _, u), c = !0, r._container = _, _.__vue_app__ = r, Co(p.component) || p.component.proxy } }, unmount() { c && (e(null, r._container), delete r._container.__vue_app__) }, provide(_, d) { return l.provides[_] = d, r }, runWithContext(_) { const d = Es; Es = r; try { return _() } finally { Es = d } } }; return r } } let Es = null; function Tr(e, t) { if (Re) { let s = Re.provides; const n = Re.parent && Re.parent.provides; n === s && (s = Re.provides = Object.create(n)), s[e] = t } } function As(e, t, s = !1) { const n = Re || He; if (n || Es) { const i = n ? n.parent == null ? n.vnode.appContext && n.vnode.appContext.provides : n.parent.provides : Es._context.provides; if (i && e in i) return i[e]; if (arguments.length > 1) return s && pe(t) ? t.call(n && n.proxy) : t } } const Jl = {}, Kl = () => Object.create(Jl), Yl = e => Object.getPrototypeOf(e) === Jl; function Er(e, t, s, n = !1) { const i = {}, l = Kl(); e.propsDefaults = Object.create(null), ql(e, t, i, l); for (const a in e.propsOptions[0]) a in i || (i[a] = void 0); s ? e.props = n ? i : Uc(i) : e.type.props ? e.props = i : e.props = l, e.attrs = l } function Ar(e, t, s, n) { const { props: i, attrs: l, vnode: { patchFlag: a } } = e, c = be(i), [r] = e.propsOptions; let _ = !1; if ((n || a > 0) && !(a & 16)) { if (a & 8) { const d = e.vnode.dynamicProps; for (let u = 0; u < d.length; u++) { let p = d[u]; if (vo(e.emitsOptions, p)) continue; const m = t[p]; if (r) if (ye(l, p)) m !== l[p] && (l[p] = m, _ = !0); else { const x = gt(p); i[x] = rn(r, c, x, m, e, !1) } else m !== l[p] && (l[p] = m, _ = !0) } } } else { ql(e, t, i, l) && (_ = !0); let d; for (const u in c) (!t || !ye(t, u) && ((d = Zt(u)) === u || !ye(t, d))) && (r ? s && (s[u] !== void 0 || s[d] !== void 0) && (i[u] = rn(r, c, u, void 0, e, !0)) : delete i[u]); if (l !== c) for (const u in l) (!t || !ye(t, u)) && (delete l[u], _ = !0) } _ && mt(e.attrs, "set", "") } function ql(e, t, s, n) { const [i, l] = e.propsOptions; let a = !1, c; if (t) for (let r in t) { if (Ss(r)) continue; const _ = t[r]; let d; i && ye(i, d = gt(r)) ? !l || !l.includes(d) ? s[d] = _ : (c || (c = {}))[d] = _ : vo(e.emitsOptions, r) || (!(r in n) || _ !== n[r]) && (n[r] = _, a = !0) } if (l) { const r = be(s), _ = c || Te; for (let d = 0; d < l.length; d++) { const u = l[d]; s[u] = rn(i, r, u, _[u], e, !ye(_, u)) } } return a } function rn(e, t, s, n, i, l) { const a = e[s]; if (a != null) { const c = ye(a, "default"); if (c && n === void 0) { const r = a.default; if (a.type !== Function && !a.skipFactory && pe(r)) { const { propsDefaults: _ } = i; if (s in _) n = _[s]; else { const d = Ds(i); n = _[s] = r.call(null, t), d() } } else n = r } a[0] && (l && !c ? n = !1 : a[1] && (n === "" || n === Zt(s)) && (n = !0)) } return n } function Ql(e, t, s = !1) { const n = t.propsCache, i = n.get(e); if (i) return i; const l = e.props, a = {}, c = []; let r = !1; if (!pe(e)) { const d = u => { r = !0; const [p, m] = Ql(u, t, !0); je(a, p), m && c.push(...m) }; !s && t.mixins.length && t.mixins.forEach(d), e.extends && d(e.extends), e.mixins && e.mixins.forEach(d) } if (!l && !r) return Ce(e) && n.set(e, rs), rs; if (ae(l)) for (let d = 0; d < l.length; d++) { const u = gt(l[d]); Si(u) && (a[u] = Te) } else if (l) for (const d in l) { const u = gt(d); if (Si(u)) { const p = l[d], m = a[u] = ae(p) || pe(p) ? { type: p } : je({}, p); if (m) { const x = Ei(Boolean, m.type), g = Ei(String, m.type); m[0] = x > -1, m[1] = g < 0 || x < g, (x > -1 || ye(m, "default")) && c.push(u) } } } const _ = [a, c]; return Ce(e) && n.set(e, _), _ } function Si(e) { return e[0] !== "$" && !Ss(e) } function Ci(e) { return e === null ? "null" : typeof e == "function" ? e.name || "" : typeof e == "object" && e.constructor && e.constructor.name || "" } function Ti(e, t) { return Ci(e) === Ci(t) } function Ei(e, t) { return ae(t) ? t.findIndex(s => Ti(s, e)) : pe(t) && Ti(t, e) ? 0 : -1 } const Xl = e => e[0] === "_" || e === "$stable", Un = e => ae(e) ? e.map(ut) : [ut(e)], Ir = (e, t, s) => { if (t._n) return t; const n = yo((...i) => Un(t(...i)), s); return n._c = !1, n }, Zl = (e, t, s) => { const n = e._ctx; for (const i in e) { if (Xl(i)) continue; const l = e[i]; if (pe(l)) t[i] = Ir(i, l, n); else if (l != null) { const a = Un(l); t[i] = () => a } } }, ea = (e, t) => { const s = Un(t); e.slots.default = () => s }, Or = (e, t) => { const s = e.slots = Kl(); if (e.vnode.shapeFlag & 32) { const n = t._; n ? (je(s, t), rl(s, "_", n, !0)) : Zl(t, s) } else t && ea(e, t) }, Nr = (e, t, s) => { const { vnode: n, slots: i } = e; let l = !0, a = Te; if (n.shapeFlag & 32) { const c = t._; c ? s && c === 1 ? l = !1 : (je(i, t), !s && c === 1 && delete i._) : (l = !t.$stable, Zl(t, i)), a = t } else t && (ea(e, t), a = { default: 1 }); if (l) for (const c in i) !Xl(c) && a[c] == null && delete i[c] }; function _n(e, t, s, n, i = !1) { if (ae(e)) { e.forEach((p, m) => _n(p, t && (ae(t) ? t[m] : t), s, n, i)); return } if (eo(n) && !i) return; const l = n.shapeFlag & 4 ? Co(n.component) || n.component.proxy : n.el, a = i ? null : l, { i: c, r } = e, _ = t && t.r, d = c.refs === Te ? c.refs = {} : c.refs, u = c.setupState; if (_ != null && _ !== r && (Le(_) ? (d[_] = null, ye(u, _) && (u[_] = null)) : de(_) && (_.value = null)), pe(r)) Lt(r, c, 12, [a, d]); else { const p = Le(r), m = de(r); if (p || m) { const x = () => { if (e.f) { const g = p ? ye(u, r) ? u[r] : d[r] : r.value; i ? ae(g) && xn(g, l) : ae(g) ? g.includes(l) || g.push(l) : p ? (d[r] = [l], ye(u, r) && (u[r] = d[r])) : (r.value = [l], e.k && (d[e.k] = r.value)) } else p ? (d[r] = a, ye(u, r) && (u[r] = a)) : m && (r.value = a, e.k && (d[e.k] = a)) }; a ? (x.id = -1, Ve(x, s)) : x() } } } const Ve = sr; function jr(e) { return Lr(e) } function Lr(e, t) { const s = _l(); s.__VUE__ = !0; const { insert: n, remove: i, patchProp: l, createElement: a, createText: c, createComment: r, setText: _, setElementText: d, parentNode: u, nextSibling: p, setScopeId: m = Ze, insertStaticContent: x } = e, g = (C, A, O, P = null, U = null, H = null, K = void 0, F = null, z = !!A.dynamicChildren) => { if (C === A) return; C && !Yt(C, A) && (P = zs(C), fe(C, U, H, !0), C = null), A.patchFlag === -2 && (z = !1, A.dynamicChildren = null); const { type: D, ref: Z, shapeFlag: ce } = A; switch (D) { case $o: k(C, A, O, P); break; case et: y(C, A, O, P); break; case to: C == null && v(A, O, P, K); break; case B: J(C, A, O, P, U, H, K, F, z); break; default: ce & 1 ? L(C, A, O, P, U, H, K, F, z) : ce & 6 ? me(C, A, O, P, U, H, K, F, z) : (ce & 64 || ce & 128) && D.process(C, A, O, P, U, H, K, F, z, ws) }Z != null && U && _n(Z, C && C.ref, H, A || C, !A) }, k = (C, A, O, P) => { if (C == null) n(A.el = c(A.children), O, P); else { const U = A.el = C.el; A.children !== C.children && _(U, A.children) } }, y = (C, A, O, P) => { C == null ? n(A.el = r(A.children || ""), O, P) : A.el = C.el }, v = (C, A, O, P) => { [C.el, C.anchor] = x(C.children, A, O, P, C.el, C.anchor) }, $ = ({ el: C, anchor: A }, O, P) => { let U; for (; C && C !== A;)U = p(C), n(C, O, P), C = U; n(A, O, P) }, E = ({ el: C, anchor: A }) => { let O; for (; C && C !== A;)O = p(C), i(C), C = O; i(A) }, L = (C, A, O, P, U, H, K, F, z) => { A.type === "svg" ? K = "svg" : A.type === "math" && (K = "mathml"), C == null ? T(A, O, P, U, H, K, F, z) : X(C, A, U, H, K, F, z) }, T = (C, A, O, P, U, H, K, F) => { let z, D; const { props: Z, shapeFlag: ce, transition: ie, dirs: he } = C; if (z = C.el = a(C.type, H, Z && Z.is, Z), ce & 8 ? d(z, C.children) : ce & 16 && R(C.children, z, null, P, U, Ho(C, H), K, F), he && Vt(C, null, P, "created"), N(z, C, C.scopeId, K, P), Z) { for (const Se in Z) Se !== "value" && !Ss(Se) && l(z, Se, null, Z[Se], H, C.children, P, U, Qe); "value" in Z && l(z, "value", null, Z.value, H), (D = Z.onVnodeBeforeMount) && _t(D, P, C) } he && Vt(C, null, P, "beforeMount"); const we = Pr(U, ie); we && ie.beforeEnter(z), n(z, A, O), ((D = Z && Z.onVnodeMounted) || we || he) && Ve(() => { D && _t(D, P, C), we && ie.enter(z), he && Vt(C, null, P, "mounted") }, U) }, N = (C, A, O, P, U) => { if (O && m(C, O), P) for (let H = 0; H < P.length; H++)m(C, P[H]); if (U) { let H = U.subTree; if (A === H) { const K = U.vnode; N(C, K, K.scopeId, K.slotScopeIds, U.parent) } } }, R = (C, A, O, P, U, H, K, F, z = 0) => { for (let D = z; D < C.length; D++) { const Z = C[D] = F ? At(C[D]) : ut(C[D]); g(null, Z, A, O, P, U, H, K, F) } }, X = (C, A, O, P, U, H, K) => { const F = A.el = C.el; let { patchFlag: z, dynamicChildren: D, dirs: Z } = A; z |= C.patchFlag & 16; const ce = C.props || Te, ie = A.props || Te; let he; if (O && zt(O, !1), (he = ie.onVnodeBeforeUpdate) && _t(he, O, A, C), Z && Vt(A, C, O, "beforeUpdate"), O && zt(O, !0), D ? j(C.dynamicChildren, D, F, O, P, Ho(A, U), H) : K || Q(C, A, F, null, O, P, Ho(A, U), H, !1), z > 0) { if (z & 16) _e(F, A, ce, ie, O, P, U); else if (z & 2 && ce.class !== ie.class && l(F, "class", null, ie.class, U), z & 4 && l(F, "style", ce.style, ie.style, U), z & 8) { const we = A.dynamicProps; for (let Se = 0; Se < we.length; Se++) { const Ae = we[Se], Pe = ce[Ae], ot = ie[Ae]; (ot !== Pe || Ae === "value") && l(F, Ae, Pe, ot, U, C.children, O, P, Qe) } } z & 1 && C.children !== A.children && d(F, A.children) } else !K && D == null && _e(F, A, ce, ie, O, P, U); ((he = ie.onVnodeUpdated) || Z) && Ve(() => { he && _t(he, O, A, C), Z && Vt(A, C, O, "updated") }, P) }, j = (C, A, O, P, U, H, K) => { for (let F = 0; F < A.length; F++) { const z = C[F], D = A[F], Z = z.el && (z.type === B || !Yt(z, D) || z.shapeFlag & 70) ? u(z.el) : O; g(z, D, Z, null, P, U, H, K, !0) } }, _e = (C, A, O, P, U, H, K) => { if (O !== P) { if (O !== Te) for (const F in O) !Ss(F) && !(F in P) && l(C, F, O[F], null, K, A.children, U, H, Qe); for (const F in P) { if (Ss(F)) continue; const z = P[F], D = O[F]; z !== D && F !== "value" && l(C, F, D, z, K, A.children, U, H, Qe) } "value" in P && l(C, "value", O.value, P.value, K) } }, J = (C, A, O, P, U, H, K, F, z) => { const D = A.el = C ? C.el : c(""), Z = A.anchor = C ? C.anchor : c(""); let { patchFlag: ce, dynamicChildren: ie, slotScopeIds: he } = A; he && (F = F ? F.concat(he) : he), C == null ? (n(D, O, P), n(Z, O, P), R(A.children || [], O, Z, U, H, K, F, z)) : ce > 0 && ce & 64 && ie && C.dynamicChildren ? (j(C.dynamicChildren, ie, O, U, H, K, F), (A.key != null || U && A === U.subTree) && ta(C, A, !0)) : Q(C, A, O, Z, U, H, K, F, z) }, me = (C, A, O, P, U, H, K, F, z) => { A.slotScopeIds = F, C == null ? A.shapeFlag & 512 ? U.ctx.activate(A, O, P, K, z) : ee(A, O, P, U, H, K, z) : te(C, A, z) }, ee = (C, A, O, P, U, H, K) => { const F = C.component = zr(C, P, U); if (ko(C) && (F.ctx.renderer = ws), Wr(F), F.asyncDep) { if (U && U.registerDep(F, oe), !C.el) { const z = F.subTree = M(et); y(null, z, A, O) } } else oe(F, C, A, O, U, H, K) }, te = (C, A, O) => { const P = A.component = C.component; if (qc(C, A, O)) if (P.asyncDep && !P.asyncResolved) { ve(P, A, O); return } else P.next = A, zc(P.update), P.effect.dirty = !0, P.update(); else A.el = C.el, P.vnode = A }, oe = (C, A, O, P, U, H, K) => { const F = () => { if (C.isMounted) { let { next: Z, bu: ce, u: ie, parent: he, vnode: we } = C; { const ls = sa(C); if (ls) { Z && (Z.el = we.el, ve(C, Z, K)), ls.asyncDep.then(() => { C.isUnmounted || F() }); return } } let Se = Z, Ae; zt(C, !1), Z ? (Z.el = we.el, ve(C, Z, K)) : Z = we, ce && Xs(ce), (Ae = Z.props && Z.props.onVnodeBeforeUpdate) && _t(Ae, he, Z, we), zt(C, !0); const Pe = Do(C), ot = C.subTree; C.subTree = Pe, g(ot, Pe, u(ot.el), zs(ot), C, U, H), Z.el = Pe.el, Se === null && Qc(C, Pe.el), ie && Ve(ie, U), (Ae = Z.props && Z.props.onVnodeUpdated) && Ve(() => _t(Ae, he, Z, we), U) } else { let Z; const { el: ce, props: ie } = A, { bm: he, m: we, parent: Se } = C, Ae = eo(A); if (zt(C, !1), he && Xs(he), !Ae && (Z = ie && ie.onVnodeBeforeMount) && _t(Z, Se, A), zt(C, !0), ce && ni) { const Pe = () => { C.subTree = Do(C), ni(ce, C.subTree, C, U, null) }; Ae ? A.type.__asyncLoader().then(() => !C.isUnmounted && Pe()) : Pe() } else { const Pe = C.subTree = Do(C); g(null, Pe, O, P, C, U, H), A.el = Pe.el } if (we && Ve(we, U), !Ae && (Z = ie && ie.onVnodeMounted)) { const Pe = A; Ve(() => _t(Z, Se, Pe), U) } (A.shapeFlag & 256 || Se && eo(Se.vnode) && Se.vnode.shapeFlag & 256) && C.a && Ve(C.a, U), C.isMounted = !0, A = O = P = null } }, z = C.effect = new Cn(F, Ze, () => Ln(D), C.scope), D = C.update = () => { z.dirty && z.run() }; D.id = C.uid, zt(C, !0), D() }, ve = (C, A, O) => { A.component = C; const P = C.vnode.props; C.vnode = A, C.next = null, Ar(C, A.props, P, O), Nr(C, A.children, O), Dt(), mi(C), Mt() }, Q = (C, A, O, P, U, H, K, F, z = !1) => { const D = C && C.children, Z = C ? C.shapeFlag : 0, ce = A.children, { patchFlag: ie, shapeFlag: he } = A; if (ie > 0) { if (ie & 128) { xe(D, ce, O, P, U, H, K, F, z); return } else if (ie & 256) { le(D, ce, O, P, U, H, K, F, z); return } } he & 8 ? (Z & 16 && Qe(D, U, H), ce !== D && d(O, ce)) : Z & 16 ? he & 16 ? xe(D, ce, O, P, U, H, K, F, z) : Qe(D, U, H, !0) : (Z & 8 && d(O, ""), he & 16 && R(ce, O, P, U, H, K, F, z)) }, le = (C, A, O, P, U, H, K, F, z) => { C = C || rs, A = A || rs; const D = C.length, Z = A.length, ce = Math.min(D, Z); let ie; for (ie = 0; ie < ce; ie++) { const he = A[ie] = z ? At(A[ie]) : ut(A[ie]); g(C[ie], he, O, null, U, H, K, F, z) } D > Z ? Qe(C, U, H, !0, !1, ce) : R(A, O, P, U, H, K, F, z, ce) }, xe = (C, A, O, P, U, H, K, F, z) => { let D = 0; const Z = A.length; let ce = C.length - 1, ie = Z - 1; for (; D <= ce && D <= ie;) { const he = C[D], we = A[D] = z ? At(A[D]) : ut(A[D]); if (Yt(he, we)) g(he, we, O, null, U, H, K, F, z); else break; D++ } for (; D <= ce && D <= ie;) { const he = C[ce], we = A[ie] = z ? At(A[ie]) : ut(A[ie]); if (Yt(he, we)) g(he, we, O, null, U, H, K, F, z); else break; ce--, ie-- } if (D > ce) { if (D <= ie) { const he = ie + 1, we = he < Z ? A[he].el : P; for (; D <= ie;)g(null, A[D] = z ? At(A[D]) : ut(A[D]), O, we, U, H, K, F, z), D++ } } else if (D > ie) for (; D <= ce;)fe(C[D], U, H, !0), D++; else { const he = D, we = D, Se = new Map; for (D = we; D <= ie; D++) { const Je = A[D] = z ? At(A[D]) : ut(A[D]); Je.key != null && Se.set(Je.key, D) } let Ae, Pe = 0; const ot = ie - we + 1; let ls = !1, ii = 0; const ys = new Array(ot); for (D = 0; D < ot; D++)ys[D] = 0; for (D = he; D <= ce; D++) { const Je = C[D]; if (Pe >= ot) { fe(Je, U, H, !0); continue } let rt; if (Je.key != null) rt = Se.get(Je.key); else for (Ae = we; Ae <= ie; Ae++)if (ys[Ae - we] === 0 && Yt(Je, A[Ae])) { rt = Ae; break } rt === void 0 ? fe(Je, U, H, !0) : (ys[rt - we] = D + 1, rt >= ii ? ii = rt : ls = !0, g(Je, A[rt], O, null, U, H, K, F, z), Pe++) } const li = ls ? Ur(ys) : rs; for (Ae = li.length - 1, D = ot - 1; D >= 0; D--) { const Je = we + D, rt = A[Je], ai = Je + 1 < Z ? A[Je + 1].el : P; ys[D] === 0 ? g(null, rt, O, ai, U, H, K, F, z) : ls && (Ae < 0 || D !== li[Ae] ? ne(rt, O, ai, 2) : Ae--) } } }, ne = (C, A, O, P, U = null) => { const { el: H, type: K, transition: F, children: z, shapeFlag: D } = C; if (D & 6) { ne(C.component.subTree, A, O, P); return } if (D & 128) { C.suspense.move(A, O, P); return } if (D & 64) { K.move(C, A, O, ws); return } if (K === B) { n(H, A, O); for (let ce = 0; ce < z.length; ce++)ne(z[ce], A, O, P); n(C.anchor, A, O); return } if (K === to) { $(C, A, O); return } if (P !== 2 && D & 1 && F) if (P === 0) F.beforeEnter(H), n(H, A, O), Ve(() => F.enter(H), U); else { const { leave: ce, delayLeave: ie, afterLeave: he } = F, we = () => n(H, A, O), Se = () => { ce(H, () => { we(), he && he() }) }; ie ? ie(H, we, Se) : Se() } else n(H, A, O) }, fe = (C, A, O, P = !1, U = !1) => { const { type: H, props: K, ref: F, children: z, dynamicChildren: D, shapeFlag: Z, patchFlag: ce, dirs: ie } = C; if (F != null && _n(F, null, O, C, !0), Z & 256) { A.ctx.deactivate(C); return } const he = Z & 1 && ie, we = !eo(C); let Se; if (we && (Se = K && K.onVnodeBeforeUnmount) && _t(Se, A, C), Z & 6) Ge(C.component, O, P); else { if (Z & 128) { C.suspense.unmount(O, P); return } he && Vt(C, null, A, "beforeUnmount"), Z & 64 ? C.type.remove(C, A, O, U, ws, P) : D && (H !== B || ce > 0 && ce & 64) ? Qe(D, A, O, !1, !0) : (H === B && ce & 384 || !U && Z & 16) && Qe(z, A, O), P && Ue(C) } (we && (Se = K && K.onVnodeUnmounted) || he) && Ve(() => { Se && _t(Se, A, C), he && Vt(C, null, A, "unmounted") }, O) }, Ue = C => { const { type: A, el: O, anchor: P, transition: U } = C; if (A === B) { qe(O, P); return } if (A === to) { E(C); return } const H = () => { i(O), U && !U.persisted && U.afterLeave && U.afterLeave() }; if (C.shapeFlag & 1 && U && !U.persisted) { const { leave: K, delayLeave: F } = U, z = () => K(O, H); F ? F(C.el, H, z) : z() } else H() }, qe = (C, A) => { let O; for (; C !== A;)O = p(C), i(C), C = O; i(A) }, Ge = (C, A, O) => { const { bum: P, scope: U, update: H, subTree: K, um: F } = C; P && Xs(P), U.stop(), H && (H.active = !1, fe(K, C, A, O)), F && Ve(F, A), Ve(() => { C.isUnmounted = !0 }, A), A && A.pendingBranch && !A.isUnmounted && C.asyncDep && !C.asyncResolved && C.suspenseId === A.pendingId && (A.deps--, A.deps === 0 && A.resolve()) }, Qe = (C, A, O, P = !1, U = !1, H = 0) => { for (let K = H; K < C.length; K++)fe(C[K], A, O, P, U) }, zs = C => C.shapeFlag & 6 ? zs(C.component.subTree) : C.shapeFlag & 128 ? C.suspense.next() : p(C.anchor || C.el); let Uo = !1; const si = (C, A, O) => { C == null ? A._vnode && fe(A._vnode, null, null, !0) : g(A._vnode || null, C, A, null, null, null, O), Uo || (Uo = !0, mi(), Ol(), Uo = !1), A._vnode = C }, ws = { p: g, um: fe, m: ne, r: Ue, mt: ee, mc: R, pc: Q, pbc: j, n: zs, o: e }; let oi, ni; return { render: si, hydrate: oi, createApp: Cr(si, oi) } } function Ho({ type: e, props: t }, s) { return s === "svg" && e === "foreignObject" || s === "mathml" && e === "annotation-xml" && t && t.encoding && t.encoding.includes("html") ? void 0 : s } function zt({ effect: e, update: t }, s) { e.allowRecurse = t.allowRecurse = s } function Pr(e, t) { return (!e || e && !e.pendingBranch) && t && !t.persisted } function ta(e, t, s = !1) { const n = e.children, i = t.children; if (ae(n) && ae(i)) for (let l = 0; l < n.length; l++) { const a = n[l]; let c = i[l]; c.shapeFlag & 1 && !c.dynamicChildren && ((c.patchFlag <= 0 || c.patchFlag === 32) && (c = i[l] = At(i[l]), c.el = a.el), s || ta(a, c)), c.type === $o && (c.el = a.el) } } function Ur(e) { const t = e.slice(), s = [0]; let n, i, l, a, c; const r = e.length; for (n = 0; n < r; n++) { const _ = e[n]; if (_ !== 0) { if (i = s[s.length - 1], e[i] < _) { t[n] = i, s.push(n); continue } for (l = 0, a = s.length - 1; l < a;)c = l + a >> 1, e[s[c]] < _ ? l = c + 1 : a = c; _ < e[s[l]] && (l > 0 && (t[n] = s[l - 1]), s[l] = n) } } for (l = s.length, a = s[l - 1]; l-- > 0;)s[l] = a, a = t[a]; return s } function sa(e) { const t = e.subTree.component; if (t) return t.asyncDep && !t.asyncResolved ? t : sa(t) } const Gr = e => e.__isTeleport, B = Symbol.for("v-fgt"), $o = Symbol.for("v-txt"), et = Symbol.for("v-cmt"), to = Symbol.for("v-stc"), Is = []; let lt = null; function h(e = !1) { Is.push(lt = e ? null : []) } function Rr() { Is.pop(), lt = Is[Is.length - 1] || null } let Ps = 1; function Ai(e) { Ps += e } function oa(e) { return e.dynamicChildren = Ps > 0 ? lt || rs : null, Rr(), Ps > 0 && lt && lt.push(e), e } function w(e, t, s, n, i, l) { return oa(o(e, t, s, n, i, l, !0)) } function re(e, t, s, n, i) { return oa(M(e, t, s, n, i, !0)) } function un(e) { return e ? e.__v_isVNode === !0 : !1 } function Yt(e, t) { return e.type === t.type && e.key === t.key } const na = ({ key: e }) => e ?? null, so = ({ ref: e, ref_key: t, ref_for: s }) => (typeof e == "number" && (e = "" + e), e != null ? Le(e) || de(e) || pe(e) ? { i: He, r: e, k: t, f: !!s } : e : null); function o(e, t = null, s = null, n = 0, i = null, l = e === B ? 0 : 1, a = !1, c = !1) { const r = { __v_isVNode: !0, __v_skip: !0, type: e, props: t, key: t && na(t), ref: t && so(t), scopeId: wo, slotScopeIds: null, children: s, component: null, suspense: null, ssContent: null, ssFallback: null, dirs: null, transition: null, el: null, anchor: null, target: null, targetAnchor: null, staticCount: 0, shapeFlag: l, patchFlag: n, dynamicProps: i, dynamicChildren: null, appContext: null, ctx: He }; return c ? (Gn(r, s), l & 128 && e.normalize(r)) : s && (r.shapeFlag |= Le(s) ? 8 : 16), Ps > 0 && !a && lt && (r.patchFlag > 0 || l & 6) && r.patchFlag !== 32 && lt.push(r), r } const M = Dr; function Dr(e, t = null, s = null, n = 0, i = null, l = !1) { if ((!e || e === Zc) && (e = et), un(e)) { const c = Gt(e, t, !0); return s && Gn(c, s), Ps > 0 && !l && lt && (c.shapeFlag & 6 ? lt[lt.indexOf(e)] = c : lt.push(c)), c.patchFlag |= -2, c } if (Qr(e) && (e = e.__vccOpts), t) { t = Mr(t); let { class: c, style: r } = t; c && !Le(c) && (t.class = ge(c)), Ce(r) && (Sl(r) && !ae(r) && (r = je({}, r)), t.style = st(r)) } const a = Le(e) ? 1 : tr(e) ? 128 : Gr(e) ? 64 : Ce(e) ? 4 : pe(e) ? 2 : 0; return o(e, t, s, n, i, a, l, !0) } function Mr(e) { return e ? Sl(e) || Yl(e) ? je({}, e) : e : null } function Gt(e, t, s = !1, n = !1) { const { props: i, ref: l, patchFlag: a, children: c, transition: r } = e, _ = t ? Fr(i || {}, t) : i, d = { __v_isVNode: !0, __v_skip: !0, type: e.type, props: _, key: _ && na(_), ref: t && t.ref ? s && l ? ae(l) ? l.concat(so(t)) : [l, so(t)] : so(t) : l, scopeId: e.scopeId, slotScopeIds: e.slotScopeIds, children: c, target: e.target, targetAnchor: e.targetAnchor, staticCount: e.staticCount, shapeFlag: e.shapeFlag, patchFlag: t && e.type !== B ? a === -1 ? 16 : a | 16 : a, dynamicProps: e.dynamicProps, dynamicChildren: e.dynamicChildren, appContext: e.appContext, dirs: e.dirs, transition: r, component: e.component, suspense: e.suspense, ssContent: e.ssContent && Gt(e.ssContent), ssFallback: e.ssFallback && Gt(e.ssFallback), el: e.el, anchor: e.anchor, ctx: e.ctx, ce: e.ce }; return r && n && (d.transition = r.clone(d)), d } function $e(e = " ", t = 0) { return M($o, null, e, t) } function xo(e, t) { const s = M(to, null, e); return s.staticCount = t, s } function I(e = "", t = !1) { return t ? (h(), re(et, null, e)) : M(et, null, e) } function ut(e) { return e == null || typeof e == "boolean" ? M(et) : ae(e) ? M(B, null, e.slice()) : typeof e == "object" ? At(e) : M($o, null, String(e)) } function At(e) { return e.el === null && e.patchFlag !== -1 || e.memo ? e : Gt(e) } function Gn(e, t) { let s = 0; const { shapeFlag: n } = e; if (t == null) t = null; else if (ae(t)) s = 16; else if (typeof t == "object") if (n & 65) { const i = t.default; i && (i._c && (i._d = !1), Gn(e, i()), i._c && (i._d = !0)); return } else { s = 32; const i = t._; !i && !Yl(t) ? t._ctx = He : i === 3 && He && (He.slots._ === 1 ? t._ = 1 : (t._ = 2, e.patchFlag |= 1024)) } else pe(t) ? (t = { default: t, _ctx: He }, s = 32) : (t = String(t), n & 64 ? (s = 16, t = [$e(t)]) : s = 8); e.children = t, e.shapeFlag |= s } function Fr(...e) { const t = {}; for (let s = 0; s < e.length; s++) { const n = e[s]; for (const i in n) if (i === "class") t.class !== n.class && (t.class = ge([t.class, n.class])); else if (i === "style") t.style = st([t.style, n.style]); else if (uo(i)) { const l = t[i], a = n[i]; a && l !== a && !(ae(l) && l.includes(a)) && (t[i] = l ? [].concat(l, a) : a) } else i !== "" && (t[i] = n[i]) } return t } function _t(e, t, s, n = null) { tt(e, t, 7, [s, n]) } const Hr = Wl(); let Vr = 0; function zr(e, t, s) { const n = e.type, i = (t ? t.appContext : e.appContext) || Hr, l = { uid: Vr++, vnode: e, type: n, parent: t, appContext: i, root: null, next: null, subTree: null, effect: null, update: null, scope: new hc(!0), render: null, proxy: null, exposed: null, exposeProxy: null, withProxy: null, provides: t ? t.provides : Object.create(i.provides), accessCache: null, renderCache: [], components: null, directives: null, propsOptions: Ql(n, i), emitsOptions: jl(n, i), emit: null, emitted: null, propsDefaults: Te, inheritAttrs: n.inheritAttrs, ctx: Te, data: Te, props: Te, attrs: Te, slots: Te, refs: Te, setupState: Te, setupContext: null, attrsProxy: null, slotsProxy: null, suspense: s, suspenseId: s ? s.pendingId : 0, asyncDep: null, asyncResolved: !1, isMounted: !1, isUnmounted: !1, isDeactivated: !1, bc: null, c: null, bm: null, m: null, bu: null, u: null, um: null, bum: null, da: null, a: null, rtg: null, rtc: null, ec: null, sp: null }; return l.ctx = { _: l }, l.root = t ? t.root : l, l.emit = Jc.bind(null, l), e.ce && e.ce(l), l } let Re = null; const Br = () => Re || He; let co, dn; { const e = _l(), t = (s, n) => { let i; return (i = e[s]) || (i = e[s] = []), i.push(n), l => { i.length > 1 ? i.forEach(a => a(l)) : i[0](l) } }; co = t("__VUE_INSTANCE_SETTERS__", s => Re = s), dn = t("__VUE_SSR_SETTERS__", s => So = s) } const Ds = e => { const t = Re; return co(e), e.scope.on(), () => { e.scope.off(), co(t) } }, Ii = () => { Re && Re.scope.off(), co(null) }; function ia(e) { return e.vnode.shapeFlag & 4 } let So = !1; function Wr(e, t = !1) { t && dn(t); const { props: s, children: n } = e.vnode, i = ia(e); Er(e, s, i, t), Or(e, n); const l = i ? Jr(e, t) : void 0; return t && dn(!1), l } function Jr(e, t) { const s = e.type; e.accessCache = Object.create(null), e.proxy = new Proxy(e.ctx, wr); const { setup: n } = s; if (n) { const i = e.setupContext = n.length > 1 ? Yr(e) : null, l = Ds(e); Dt(); const a = Lt(n, e, 0, [e.props, i]); if (Mt(), l(), ll(a)) { if (a.then(Ii, Ii), t) return a.then(c => { Oi(e, c, t) }).catch(c => { mo(c, e, 0) }); e.asyncDep = a } else Oi(e, a, t) } else la(e, t) } function Oi(e, t, s) { pe(t) ? e.type.__ssrInlineRender ? e.ssrRender = t : e.render = t : Ce(t) && (e.setupState = El(t)), la(e, s) } let Ni; function la(e, t, s) { const n = e.type; if (!e.render) { if (!t && Ni && !n.render) { const i = n.template || Pn(e).template; if (i) { const { isCustomElement: l, compilerOptions: a } = e.appContext.config, { delimiters: c, compilerOptions: r } = n, _ = je(je({ isCustomElement: l, delimiters: c }, a), r); n.render = Ni(i, _) } } e.render = n.render || Ze } { const i = Ds(e); Dt(); try { yr(e) } finally { Mt(), i() } } } const Kr = { get(e, t) { return ze(e, "get", ""), e[t] } }; function Yr(e) { const t = s => { e.exposed = s || {} }; return { attrs: new Proxy(e.attrs, Kr), slots: e.slots, emit: e.emit, expose: t } } function Co(e) { if (e.exposed) return e.exposeProxy || (e.exposeProxy = new Proxy(El(Gc(e.exposed)), { get(t, s) { if (s in t) return t[s]; if (s in Ts) return Ts[s](e) }, has(t, s) { return s in t || s in Ts } })) } function qr(e, t = !0) { return pe(e) ? e.displayName || e.name : e.name || t && e.__name } function Qr(e) { return pe(e) && "__vccOpts" in e } const Ie = (e, t) => Rc(e, t, So); function Xr(e, t, s) { const n = arguments.length; return n === 2 ? Ce(t) && !ae(t) ? un(t) ? M(e, null, [t]) : M(e, t) : M(e, null, t) : (n > 3 ? s = Array.prototype.slice.call(arguments, 2) : n === 3 && un(s) && (s = [s]), M(e, t, s)) } const Zr = "3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const e_ = "http://www.w3.org/2000/svg", t_ = "http://www.w3.org/1998/Math/MathML", It = typeof document < "u" ? document : null, ji = It && It.createElement("template"), s_ = { insert: (e, t, s) => { t.insertBefore(e, s || null) }, remove: e => { const t = e.parentNode; t && t.removeChild(e) }, createElement: (e, t, s, n) => { const i = t === "svg" ? It.createElementNS(e_, e) : t === "mathml" ? It.createElementNS(t_, e) : It.createElement(e, s ? { is: s } : void 0); return e === "select" && n && n.multiple != null && i.setAttribute("multiple", n.multiple), i }, createText: e => It.createTextNode(e), createComment: e => It.createComment(e), setText: (e, t) => { e.nodeValue = t }, setElementText: (e, t) => { e.textContent = t }, parentNode: e => e.parentNode, nextSibling: e => e.nextSibling, querySelector: e => It.querySelector(e), setScopeId(e, t) { e.setAttribute(t, "") }, insertStaticContent(e, t, s, n, i, l) { const a = s ? s.previousSibling : t.lastChild; if (i && (i === l || i.nextSibling)) for (; t.insertBefore(i.cloneNode(!0), s), !(i === l || !(i = i.nextSibling));); else { ji.innerHTML = n === "svg" ? `<svg>${e}</svg>` : n === "mathml" ? `<math>${e}</math>` : e; const c = ji.content; if (n === "svg" || n === "mathml") { const r = c.firstChild; for (; r.firstChild;)c.appendChild(r.firstChild); c.removeChild(r) } t.insertBefore(c, s) } return [a ? a.nextSibling : t.firstChild, s ? s.previousSibling : t.lastChild] } }, St = "transition", ks = "animation", Us = Symbol("_vtc"), Ms = (e, { slots: t }) => Xr(cr, o_(e), t); Ms.displayName = "Transition"; const aa = { name: String, type: String, css: { type: Boolean, default: !0 }, duration: [String, Number, Object], enterFromClass: String, enterActiveClass: String, enterToClass: String, appearFromClass: String, appearActiveClass: String, appearToClass: String, leaveFromClass: String, leaveActiveClass: String, leaveToClass: String }; Ms.props = je({}, Dl, aa); const Bt = (e, t = []) => { ae(e) ? e.forEach(s => s(...t)) : e && e(...t) }, Li = e => e ? ae(e) ? e.some(t => t.length > 1) : e.length > 1 : !1; function o_(e) { const t = {}; for (const J in e) J in aa || (t[J] = e[J]); if (e.css === !1) return t; const { name: s = "v", type: n, duration: i, enterFromClass: l = `${s}-enter-from`, enterActiveClass: a = `${s}-enter-active`, enterToClass: c = `${s}-enter-to`, appearFromClass: r = l, appearActiveClass: _ = a, appearToClass: d = c, leaveFromClass: u = `${s}-leave-from`, leaveActiveClass: p = `${s}-leave-active`, leaveToClass: m = `${s}-leave-to` } = e, x = n_(i), g = x && x[0], k = x && x[1], { onBeforeEnter: y, onEnter: v, onEnterCancelled: $, onLeave: E, onLeaveCancelled: L, onBeforeAppear: T = y, onAppear: N = v, onAppearCancelled: R = $ } = t, X = (J, me, ee) => { Wt(J, me ? d : c), Wt(J, me ? _ : a), ee && ee() }, j = (J, me) => { J._isLeaving = !1, Wt(J, u), Wt(J, m), Wt(J, p), me && me() }, _e = J => (me, ee) => { const te = J ? N : v, oe = () => X(me, J, ee); Bt(te, [me, oe]), Pi(() => { Wt(me, J ? r : l), Ct(me, J ? d : c), Li(te) || Ui(me, n, g, oe) }) }; return je(t, { onBeforeEnter(J) { Bt(y, [J]), Ct(J, l), Ct(J, a) }, onBeforeAppear(J) { Bt(T, [J]), Ct(J, r), Ct(J, _) }, onEnter: _e(!1), onAppear: _e(!0), onLeave(J, me) { J._isLeaving = !0; const ee = () => j(J, me); Ct(J, u), Ct(J, p), a_(), Pi(() => { J._isLeaving && (Wt(J, u), Ct(J, m), Li(E) || Ui(J, n, k, ee)) }), Bt(E, [J, ee]) }, onEnterCancelled(J) { X(J, !1), Bt($, [J]) }, onAppearCancelled(J) { X(J, !0), Bt(R, [J]) }, onLeaveCancelled(J) { j(J), Bt(L, [J]) } }) } function n_(e) { if (e == null) return null; if (Ce(e)) return [Vo(e.enter), Vo(e.leave)]; { const t = Vo(e); return [t, t] } } function Vo(e) { return ic(e) } function Ct(e, t) { t.split(/\s+/).forEach(s => s && e.classList.add(s)), (e[Us] || (e[Us] = new Set)).add(t) } function Wt(e, t) { t.split(/\s+/).forEach(n => n && e.classList.remove(n)); const s = e[Us]; s && (s.delete(t), s.size || (e[Us] = void 0)) } function Pi(e) { requestAnimationFrame(() => { requestAnimationFrame(e) }) } let i_ = 0; function Ui(e, t, s, n) { const i = e._endId = ++i_, l = () => { i === e._endId && n() }; if (s) return setTimeout(l, s); const { type: a, timeout: c, propCount: r } = l_(e, t); if (!a) return n(); const _ = a + "end"; let d = 0; const u = () => { e.removeEventListener(_, p), l() }, p = m => { m.target === e && ++d >= r && u() }; setTimeout(() => { d < r && u() }, c + 1), e.addEventListener(_, p) } function l_(e, t) { const s = window.getComputedStyle(e), n = x => (s[x] || "").split(", "), i = n(`${St}Delay`), l = n(`${St}Duration`), a = Gi(i, l), c = n(`${ks}Delay`), r = n(`${ks}Duration`), _ = Gi(c, r); let d = null, u = 0, p = 0; t === St ? a > 0 && (d = St, u = a, p = l.length) : t === ks ? _ > 0 && (d = ks, u = _, p = r.length) : (u = Math.max(a, _), d = u > 0 ? a > _ ? St : ks : null, p = d ? d === St ? l.length : r.length : 0); const m = d === St && /\b(transform|all)(,|$)/.test(n(`${St}Property`).toString()); return { type: d, timeout: u, propCount: p, hasTransform: m } } function Gi(e, t) { for (; e.length < t.length;)e = e.concat(e); return Math.max(...t.map((s, n) => Ri(s) + Ri(e[n]))) } function Ri(e) { return e === "auto" ? 0 : Number(e.slice(0, -1).replace(",", ".")) * 1e3 } function a_() { return document.body.offsetHeight } function c_(e, t, s) { const n = e[Us]; n && (t = (t ? [t, ...n] : [...n]).join(" ")), t == null ? e.removeAttribute("class") : s ? e.setAttribute("class", t) : e.className = t } const ro = Symbol("_vod"), ca = Symbol("_vsh"), Nt = { beforeMount(e, { value: t }, { transition: s }) { e[ro] = e.style.display === "none" ? "" : e.style.display, s && t ? s.beforeEnter(e) : bs(e, t) }, mounted(e, { value: t }, { transition: s }) { s && t && s.enter(e) }, updated(e, { value: t, oldValue: s }, { transition: n }) { !t != !s && (n ? t ? (n.beforeEnter(e), bs(e, !0), n.enter(e)) : n.leave(e, () => { bs(e, !1) }) : bs(e, t)) }, beforeUnmount(e, { value: t }) { bs(e, t) } }; function bs(e, t) { e.style.display = t ? e[ro] : "none", e[ca] = !t } const r_ = Symbol(""), __ = /(^|;)\s*display\s*:/; function u_(e, t, s) { const n = e.style, i = Le(s); let l = !1; if (s && !i) { if (t) if (Le(t)) for (const a of t.split(";")) { const c = a.slice(0, a.indexOf(":")).trim(); s[c] == null && oo(n, c, "") } else for (const a in t) s[a] == null && oo(n, a, ""); for (const a in s) a === "display" && (l = !0), oo(n, a, s[a]) } else if (i) { if (t !== s) { const a = n[r_]; a && (s += ";" + a), n.cssText = s, l = __.test(s) } } else t && e.removeAttribute("style"); ro in e && (e[ro] = l ? n.display : "", e[ca] && (n.display = "none")) } const Di = /\s*!important$/; function oo(e, t, s) { if (ae(s)) s.forEach(n => oo(e, t, n)); else if (s == null && (s = ""), t.startsWith("--")) e.setProperty(t, s); else { const n = d_(e, t); Di.test(s) ? e.setProperty(Zt(n), s.replace(Di, ""), "important") : e[n] = s } } const Mi = ["Webkit", "Moz", "ms"], zo = {}; function d_(e, t) { const s = zo[t]; if (s) return s; let n = gt(t); if (n !== "filter" && n in e) return zo[t] = n; n = po(n); for (let i = 0; i < Mi.length; i++) { const l = Mi[i] + n; if (l in e) return zo[t] = l } return t } const Fi = "http://www.w3.org/1999/xlink"; function f_(e, t, s, n, i) { if (n && t.startsWith("xlink:")) s == null ? e.removeAttributeNS(Fi, t.slice(6, t.length)) : e.setAttributeNS(Fi, t, s); else { const l = uc(t); s == null || l && !ul(s) ? e.removeAttribute(t) : e.setAttribute(t, l ? "" : s) } } function h_(e, t, s, n, i, l, a) { if (t === "innerHTML" || t === "textContent") { n && a(n, i, l), e[t] = s ?? ""; return } const c = e.tagName; if (t === "value" && c !== "PROGRESS" && !c.includes("-")) { const _ = c === "OPTION" ? e.getAttribute("value") || "" : e.value, d = s ?? ""; (_ !== d || !("_value" in e)) && (e.value = d), s == null && e.removeAttribute(t), e._value = s; return } let r = !1; if (s === "" || s == null) { const _ = typeof e[t]; _ === "boolean" ? s = ul(s) : s == null && _ === "string" ? (s = "", r = !0) : _ === "number" && (s = 0, r = !0) } try { e[t] = s } catch { } r && e.removeAttribute(t) } function Ot(e, t, s, n) { e.addEventListener(t, s, n) } function p_(e, t, s, n) { e.removeEventListener(t, s, n) } const Hi = Symbol("_vei"); function g_(e, t, s, n, i = null) { const l = e[Hi] || (e[Hi] = {}), a = l[t]; if (n && a) a.value = n; else { const [c, r] = m_(t); if (n) { const _ = l[t] = y_(n, i); Ot(e, c, _, r) } else a && (p_(e, c, a, r), l[t] = void 0) } } const Vi = /(?:Once|Passive|Capture)$/; function m_(e) { let t; if (Vi.test(e)) { t = {}; let n; for (; n = e.match(Vi);)e = e.slice(0, e.length - n[0].length), t[n[0].toLowerCase()] = !0 } return [e[2] === ":" ? e.slice(3) : Zt(e.slice(2)), t] } let Bo = 0; const v_ = Promise.resolve(), w_ = () => Bo || (v_.then(() => Bo = 0), Bo = Date.now()); function y_(e, t) { const s = n => { if (!n._vts) n._vts = Date.now(); else if (n._vts <= s.attached) return; tt(k_(n, s.value), t, 5, [n]) }; return s.value = e, s.attached = w_(), s } function k_(e, t) { if (ae(t)) { const s = e.stopImmediatePropagation; return e.stopImmediatePropagation = () => { s.call(e), e._stopped = !0 }, t.map(n => i => !i._stopped && n && n(i)) } else return t } const zi = e => e.charCodeAt(0) === 111 && e.charCodeAt(1) === 110 && e.charCodeAt(2) > 96 && e.charCodeAt(2) < 123, b_ = (e, t, s, n, i, l, a, c, r) => { const _ = i === "svg"; t === "class" ? c_(e, n, _) : t === "style" ? u_(e, s, n) : uo(t) ? $n(t) || g_(e, t, s, n, a) : (t[0] === "." ? (t = t.slice(1), !0) : t[0] === "^" ? (t = t.slice(1), !1) : $_(e, t, n, _)) ? h_(e, t, n, l, a, c, r) : (t === "true-value" ? e._trueValue = n : t === "false-value" && (e._falseValue = n), f_(e, t, n, _)) }; function $_(e, t, s, n) { if (n) return !!(t === "innerHTML" || t === "textContent" || t in e && zi(t) && pe(s)); if (t === "spellcheck" || t === "draggable" || t === "translate" || t === "form" || t === "list" && e.tagName === "INPUT" || t === "type" && e.tagName === "TEXTAREA") return !1; if (t === "width" || t === "height") { const i = e.tagName; if (i === "IMG" || i === "VIDEO" || i === "CANVAS" || i === "SOURCE") return !1 } return zi(t) && Le(s) ? !1 : t in e } const fs = e => { const t = e.props["onUpdate:modelValue"] || !1; return ae(t) ? s => Xs(t, s) : t }; function x_(e) { e.target.composing = !0 } function Bi(e) { const t = e.target; t.composing && (t.composing = !1, t.dispatchEvent(new Event("input"))) } const vt = Symbol("_assign"), Oe = { created(e, { modifiers: { lazy: t, trim: s, number: n } }, i) { e[vt] = fs(i); const l = n || i.props && i.props.type === "number"; Ot(e, t ? "change" : "input", a => { if (a.target.composing) return; let c = e.value; s && (c = c.trim()), l && (c = no(c)), e[vt](c) }), s && Ot(e, "change", () => { e.value = e.value.trim() }), t || (Ot(e, "compositionstart", x_), Ot(e, "compositionend", Bi), Ot(e, "change", Bi)) }, mounted(e, { value: t }) { e.value = t ?? "" }, beforeUpdate(e, { value: t, modifiers: { lazy: s, trim: n, number: i } }, l) { if (e[vt] = fs(l), e.composing) return; const a = (i || e.type === "number") && !/^0\d/.test(e.value) ? no(e.value) : e.value, c = t ?? ""; a !== c && (document.activeElement === e && e.type !== "range" && (s || n && e.value.trim() === c) || (e.value = c)) } }, wt = { created(e, { value: t }, s) { e.checked = ds(t, s.props.value), e[vt] = fs(s), Ot(e, "change", () => { e[vt](Gs(e)) }) }, beforeUpdate(e, { value: t, oldValue: s }, n) { e[vt] = fs(n), t !== s && (e.checked = ds(t, n.props.value)) } }, Wi = { deep: !0, created(e, { value: t, modifiers: { number: s } }, n) { const i = fo(t); Ot(e, "change", () => { const l = Array.prototype.filter.call(e.options, a => a.selected).map(a => s ? no(Gs(a)) : Gs(a)); e[vt](e.multiple ? i ? new Set(l) : l : l[0]), e._assigning = !0, it(() => { e._assigning = !1 }) }), e[vt] = fs(n) }, mounted(e, { value: t, modifiers: { number: s } }) { Ji(e, t) }, beforeUpdate(e, t, s) { e[vt] = fs(s) }, updated(e, { value: t, modifiers: { number: s } }) { e._assigning || Ji(e, t) } }; function Ji(e, t, s) { const n = e.multiple, i = ae(t); if (!(n && !i && !fo(t))) { for (let l = 0, a = e.options.length; l < a; l++) { const c = e.options[l], r = Gs(c); if (n) if (i) { const _ = typeof r; _ === "string" || _ === "number" ? c.selected = t.some(d => String(d) === String(r)) : c.selected = fc(t, r) > -1 } else c.selected = t.has(r); else if (ds(Gs(c), t)) { e.selectedIndex !== l && (e.selectedIndex = l); return } } !n && e.selectedIndex !== -1 && (e.selectedIndex = -1) } } function Gs(e) { return "_value" in e ? e._value : e.value } const S_ = ["ctrl", "shift", "alt", "meta"], C_ = { stop: e => e.stopPropagation(), prevent: e => e.preventDefault(), self: e => e.target !== e.currentTarget, ctrl: e => !e.ctrlKey, shift: e => !e.shiftKey, alt: e => !e.altKey, meta: e => !e.metaKey, left: e => "button" in e && e.button !== 0, middle: e => "button" in e && e.button !== 1, right: e => "button" in e && e.button !== 2, exact: (e, t) => S_.some(s => e[`${s}Key`] && !t.includes(s)) }, Ki = (e, t) => { const s = e._withMods || (e._withMods = {}), n = t.join("."); return s[n] || (s[n] = (i, ...l) => { for (let a = 0; a < t.length; a++) { const c = C_[t[a]]; if (c && c(i, t)) return } return e(i, ...l) }) }, T_ = { esc: "escape", space: " ", up: "arrow-up", left: "arrow-left", right: "arrow-right", down: "arrow-down", delete: "backspace" }, E_ = (e, t) => { const s = e._withKeys || (e._withKeys = {}), n = t.join("."); return s[n] || (s[n] = i => { if (!("key" in i)) return; const l = Zt(i.key); if (t.some(a => a === l || T_[a] === l)) return e(i) }) }, A_ = je({ patchProp: b_ }, s_); let Yi; function I_() { return Yi || (Yi = jr(A_)) } const O_ = (...e) => { const t = I_().createApp(...e), { mount: s } = t; return t.mount = n => { const i = j_(n); if (!i) return; const l = t._component; !pe(l) && !l.render && !l.template && (l.template = i.innerHTML), i.innerHTML = ""; const a = s(i, !1, N_(i)); return i instanceof Element && (i.removeAttribute("v-cloak"), i.setAttribute("data-v-app", "")), a }, t }; function N_(e) { if (e instanceof SVGElement) return "svg"; if (typeof MathMLElement == "function" && e instanceof MathMLElement) return "mathml" } function j_(e) { return Le(e) ? document.querySelector(e) : e } async function Wo(e, t) { L_(e); let s = new Date; s.setTime(s.getTime() + 7 * 24 * 60 * 60 * 1e3); let n = "expires=" + s.toUTCString(), i = e + "=" + t + "; " + n, l = document.cookie; if (l.includes(e + "=")) { let a = l.split("; "); for (let c = 0; c < a.length; c++)a[c].startsWith(e + "=") && (a[c] = i); document.cookie = a.join("; ") } else document.cookie = i } function L_(e) { document.cookie = `${e}=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;` } function Ee(e) { let t = document.cookie.split("; "); for (let s = 0; s < t.length; s++) { let n = t[s].split("="); if (n[0] === e) return n[1] } return null } function Jo() { const e = document.cookie.split(";"); for (let t = 0; t < e.length; t++) { const s = e[t], n = s.indexOf("="), i = n > -1 ? s.substr(0, n) : s; document.cookie = i + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/" } } function P_() { return ra().__VUE_DEVTOOLS_GLOBAL_HOOK__ } function ra() { return typeof navigator < "u" && typeof window < "u" ? window : typeof globalThis < "u" ? globalThis : {} } const U_ = typeof Proxy == "function", G_ = "devtools-plugin:setup", R_ = "plugin:settings:set"; let as, fn; function D_() { var e; return as !== void 0 || (typeof window < "u" && window.performance ? (as = !0, fn = window.performance) : typeof globalThis < "u" && (!((e = globalThis.perf_hooks) === null || e === void 0) && e.performance) ? (as = !0, fn = globalThis.perf_hooks.performance) : as = !1), as } function M_() { return D_() ? fn.now() : Date.now() } class F_ { constructor(t, s) { this.target = null, this.targetQueue = [], this.onQueue = [], this.plugin = t, this.hook = s; const n = {}; if (t.settings) for (const a in t.settings) { const c = t.settings[a]; n[a] = c.defaultValue } const i = `__vue-devtools-plugin-settings__${t.id}`; let l = Object.assign({}, n); try { const a = localStorage.getItem(i), c = JSON.parse(a); Object.assign(l, c) } catch { } this.fallbacks = { getSettings() { return l }, setSettings(a) { try { localStorage.setItem(i, JSON.stringify(a)) } catch { } l = a }, now() { return M_() } }, s && s.on(R_, (a, c) => { a === this.plugin.id && this.fallbacks.setSettings(c) }), this.proxiedOn = new Proxy({}, { get: (a, c) => this.target ? this.target.on[c] : (...r) => { this.onQueue.push({ method: c, args: r }) } }), this.proxiedTarget = new Proxy({}, { get: (a, c) => this.target ? this.target[c] : c === "on" ? this.proxiedOn : Object.keys(this.fallbacks).includes(c) ? (...r) => (this.targetQueue.push({ method: c, args: r, resolve: () => { } }), this.fallbacks[c](...r)) : (...r) => new Promise(_ => { this.targetQueue.push({ method: c, args: r, resolve: _ }) }) }) } async setRealTarget(t) { this.target = t; for (const s of this.onQueue) this.target.on[s.method](...s.args); for (const s of this.targetQueue) s.resolve(await this.target[s.method](...s.args)) } } function H_(e, t) { const s = e, n = ra(), i = P_(), l = U_ && s.enableEarlyProxy; if (i && (n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__ || !l)) i.emit(G_, e, t); else { const a = l ? new F_(s, i) : null; (n.__VUE_DEVTOOLS_PLUGINS__ = n.__VUE_DEVTOOLS_PLUGINS__ || []).push({ pluginDescriptor: s, setupFn: t, proxy: a }), a && t(a.proxiedTarget) } }/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var _a = "store"; function ke(e) { return e === void 0 && (e = null), As(e !== null ? e : _a) } function gs(e, t) { Object.keys(e).forEach(function (s) { return t(e[s], s) }) } function V_(e) { return e !== null && typeof e == "object" } function z_(e) { return e && typeof e.then == "function" } function B_(e, t) { return function () { return e(t) } } function ua(e, t, s) { return t.indexOf(e) < 0 && (s && s.prepend ? t.unshift(e) : t.push(e)), function () { var n = t.indexOf(e); n > -1 && t.splice(n, 1) } } function da(e, t) { e._actions = Object.create(null), e._mutations = Object.create(null), e._wrappedGetters = Object.create(null), e._modulesNamespaceMap = Object.create(null); var s = e.state; To(e, s, [], e._modules.root, !0), Rn(e, s, t) } function Rn(e, t, s) { var n = e._state; e.getters = {}, e._makeLocalGettersCache = Object.create(null); var i = e._wrappedGetters, l = {}; gs(i, function (a, c) { l[c] = B_(a, e), Object.defineProperty(e.getters, c, { get: function () { return l[c]() }, enumerable: !0 }) }), e._state = Ut({ data: t }), e.strict && q_(e), n && s && e._withCommit(function () { n.data = null }) } function To(e, t, s, n, i) { var l = !s.length, a = e._modules.getNamespace(s); if (n.namespaced && (e._modulesNamespaceMap[a], e._modulesNamespaceMap[a] = n), !l && !i) { var c = Dn(t, s.slice(0, -1)), r = s[s.length - 1]; e._withCommit(function () { c[r] = n.state }) } var _ = n.context = W_(e, a, s); n.forEachMutation(function (d, u) { var p = a + u; J_(e, p, d, _) }), n.forEachAction(function (d, u) { var p = d.root ? u : a + u, m = d.handler || d; K_(e, p, m, _) }), n.forEachGetter(function (d, u) { var p = a + u; Y_(e, p, d, _) }), n.forEachChild(function (d, u) { To(e, t, s.concat(u), d, i) }) } function W_(e, t, s) { var n = t === "", i = { dispatch: n ? e.dispatch : function (l, a, c) { var r = _o(l, a, c), _ = r.payload, d = r.options, u = r.type; return (!d || !d.root) && (u = t + u), e.dispatch(u, _) }, commit: n ? e.commit : function (l, a, c) { var r = _o(l, a, c), _ = r.payload, d = r.options, u = r.type; (!d || !d.root) && (u = t + u), e.commit(u, _, d) } }; return Object.defineProperties(i, { getters: { get: n ? function () { return e.getters } : function () { return fa(e, t) } }, state: { get: function () { return Dn(e.state, s) } } }), i } function fa(e, t) { if (!e._makeLocalGettersCache[t]) { var s = {}, n = t.length; Object.keys(e.getters).forEach(function (i) { if (i.slice(0, n) === t) { var l = i.slice(n); Object.defineProperty(s, l, { get: function () { return e.getters[i] }, enumerable: !0 }) } }), e._makeLocalGettersCache[t] = s } return e._makeLocalGettersCache[t] } function J_(e, t, s, n) { var i = e._mutations[t] || (e._mutations[t] = []); i.push(function (a) { s.call(e, n.state, a) }) } function K_(e, t, s, n) { var i = e._actions[t] || (e._actions[t] = []); i.push(function (a) { var c = s.call(e, { dispatch: n.dispatch, commit: n.commit, getters: n.getters, state: n.state, rootGetters: e.getters, rootState: e.state }, a); return z_(c) || (c = Promise.resolve(c)), e._devtoolHook ? c.catch(function (r) { throw e._devtoolHook.emit("vuex:error", r), r }) : c }) } function Y_(e, t, s, n) { e._wrappedGetters[t] || (e._wrappedGetters[t] = function (l) { return s(n.state, n.getters, l.state, l.getters) }) } function q_(e) { V(function () { return e._state.data }, function () { }, { deep: !0, flush: "sync" }) } function Dn(e, t) { return t.reduce(function (s, n) { return s[n] }, e) } function _o(e, t, s) { return V_(e) && e.type && (s = t, t = e, e = e.type), { type: e, payload: t, options: s } } var Q_ = "vuex bindings", qi = "vuex:mutations", Ko = "vuex:actions", cs = "vuex", X_ = 0; function Z_(e, t) { H_({ id: "org.vuejs.vuex", app: e, label: "Vuex", homepage: "https://next.vuex.vuejs.org/", logo: "https://vuejs.org/images/icons/favicon-96x96.png", packageName: "vuex", componentStateTypes: [Q_] }, function (s) { s.addTimelineLayer({ id: qi, label: "Vuex Mutations", color: Qi }), s.addTimelineLayer({ id: Ko, label: "Vuex Actions", color: Qi }), s.addInspector({ id: cs, label: "Vuex", icon: "storage", treeFilterPlaceholder: "Filter stores..." }), s.on.getInspectorTree(function (n) { if (n.app === e && n.inspectorId === cs) if (n.filter) { var i = []; ma(i, t._modules.root, n.filter, ""), n.rootNodes = i } else n.rootNodes = [ga(t._modules.root, "")] }), s.on.getInspectorState(function (n) { if (n.app === e && n.inspectorId === cs) { var i = n.nodeId; fa(t, i), n.state = su(nu(t._modules, i), i === "root" ? t.getters : t._makeLocalGettersCache, i) } }), s.on.editInspectorState(function (n) { if (n.app === e && n.inspectorId === cs) { var i = n.nodeId, l = n.path; i !== "root" && (l = i.split("/").filter(Boolean).concat(l)), t._withCommit(function () { n.set(t._state.data, l, n.state.value) }) } }), t.subscribe(function (n, i) { var l = {}; n.payload && (l.payload = n.payload), l.state = i, s.notifyComponentUpdate(), s.sendInspectorTree(cs), s.sendInspectorState(cs), s.addTimelineEvent({ layerId: qi, event: { time: Date.now(), title: n.type, data: l } }) }), t.subscribeAction({ before: function (n, i) { var l = {}; n.payload && (l.payload = n.payload), n._id = X_++, n._time = Date.now(), l.state = i, s.addTimelineEvent({ layerId: Ko, event: { time: n._time, title: n.type, groupId: n._id, subtitle: "start", data: l } }) }, after: function (n, i) { var l = {}, a = Date.now() - n._time; l.duration = { _custom: { type: "duration", display: a + "ms", tooltip: "Action duration", value: a } }, n.payload && (l.payload = n.payload), l.state = i, s.addTimelineEvent({ layerId: Ko, event: { time: Date.now(), title: n.type, groupId: n._id, subtitle: "end", data: l } }) } }) }) } var Qi = 8702998, eu = 6710886, tu = 16777215, ha = { label: "namespaced", textColor: tu, backgroundColor: eu }; function pa(e) { return e && e !== "root" ? e.split("/").slice(-2, -1)[0] : "Root" } function ga(e, t) { return { id: t || "root", label: pa(t), tags: e.namespaced ? [ha] : [], children: Object.keys(e._children).map(function (s) { return ga(e._children[s], t + s + "/") }) } } function ma(e, t, s, n) { n.includes(s) && e.push({ id: n || "root", label: n.endsWith("/") ? n.slice(0, n.length - 1) : n || "Root", tags: t.namespaced ? [ha] : [] }), Object.keys(t._children).forEach(function (i) { ma(e, t._children[i], s, n + i + "/") }) } function su(e, t, s) { t = s === "root" ? t : t[s]; var n = Object.keys(t), i = { state: Object.keys(e.state).map(function (a) { return { key: a, editable: !0, value: e.state[a] } }) }; if (n.length) { var l = ou(t); i.getters = Object.keys(l).map(function (a) { return { key: a.endsWith("/") ? pa(a) : a, editable: !1, value: hn(function () { return l[a] }) } }) } return i } function ou(e) { var t = {}; return Object.keys(e).forEach(function (s) { var n = s.split("/"); if (n.length > 1) { var i = t, l = n.pop(); n.forEach(function (a) { i[a] || (i[a] = { _custom: { value: {}, display: a, tooltip: "Module", abstract: !0 } }), i = i[a]._custom.value }), i[l] = hn(function () { return e[s] }) } else t[s] = hn(function () { return e[s] }) }), t } function nu(e, t) { var s = t.split("/").filter(function (n) { return n }); return s.reduce(function (n, i, l) { var a = n[i]; if (!a) throw new Error('Missing module "' + i + '" for path "' + t + '".'); return l === s.length - 1 ? a : a._children }, t === "root" ? e : e.root._children) } function hn(e) { try { return e() } catch (t) { return t } } var ct = function (t, s) { this.runtime = s, this._children = Object.create(null), this._rawModule = t; var n = t.state; this.state = (typeof n == "function" ? n() : n) || {} }, va = { namespaced: { configurable: !0 } }; va.namespaced.get = function () { return !!this._rawModule.namespaced }; ct.prototype.addChild = function (t, s) { this._children[t] = s }; ct.prototype.removeChild = function (t) { delete this._children[t] }; ct.prototype.getChild = function (t) { return this._children[t] }; ct.prototype.hasChild = function (t) { return t in this._children }; ct.prototype.update = function (t) { this._rawModule.namespaced = t.namespaced, t.actions && (this._rawModule.actions = t.actions), t.mutations && (this._rawModule.mutations = t.mutations), t.getters && (this._rawModule.getters = t.getters) }; ct.prototype.forEachChild = function (t) { gs(this._children, t) }; ct.prototype.forEachGetter = function (t) { this._rawModule.getters && gs(this._rawModule.getters, t) }; ct.prototype.forEachAction = function (t) { this._rawModule.actions && gs(this._rawModule.actions, t) }; ct.prototype.forEachMutation = function (t) { this._rawModule.mutations && gs(this._rawModule.mutations, t) }; Object.defineProperties(ct.prototype, va); var es = function (t) { this.register([], t, !1) }; es.prototype.get = function (t) { return t.reduce(function (s, n) { return s.getChild(n) }, this.root) }; es.prototype.getNamespace = function (t) { var s = this.root; return t.reduce(function (n, i) { return s = s.getChild(i), n + (s.namespaced ? i + "/" : "") }, "") }; es.prototype.update = function (t) { wa([], this.root, t) }; es.prototype.register = function (t, s, n) { var i = this; n === void 0 && (n = !0); var l = new ct(s, n); if (t.length === 0) this.root = l; else { var a = this.get(t.slice(0, -1)); a.addChild(t[t.length - 1], l) } s.modules && gs(s.modules, function (c, r) { i.register(t.concat(r), c, n) }) }; es.prototype.unregister = function (t) { var s = this.get(t.slice(0, -1)), n = t[t.length - 1], i = s.getChild(n); i && i.runtime && s.removeChild(n) }; es.prototype.isRegistered = function (t) { var s = this.get(t.slice(0, -1)), n = t[t.length - 1]; return s ? s.hasChild(n) : !1 }; function wa(e, t, s) { if (t.update(s), s.modules) for (var n in s.modules) { if (!t.getChild(n)) return; wa(e.concat(n), t.getChild(n), s.modules[n]) } } function iu(e) { return new Be(e) } var Be = function (t) { var s = this; t === void 0 && (t = {}); var n = t.plugins; n === void 0 && (n = []); var i = t.strict; i === void 0 && (i = !1); var l = t.devtools; this._committing = !1, this._actions = Object.create(null), this._actionSubscribers = [], this._mutations = Object.create(null), this._wrappedGetters = Object.create(null), this._modules = new es(t), this._modulesNamespaceMap = Object.create(null), this._subscribers = [], this._makeLocalGettersCache = Object.create(null), this._devtools = l; var a = this, c = this, r = c.dispatch, _ = c.commit; this.dispatch = function (p, m) { return r.call(a, p, m) }, this.commit = function (p, m, x) { return _.call(a, p, m, x) }, this.strict = i; var d = this._modules.root.state; To(this, d, [], this._modules.root), Rn(this, d), n.forEach(function (u) { return u(s) }) }, Mn = { state: { configurable: !0 } }; Be.prototype.install = function (t, s) { t.provide(s || _a, this), t.config.globalProperties.$store = this; var n = this._devtools !== void 0 ? this._devtools : !1; n && Z_(t, this) }; Mn.state.get = function () { return this._state.data }; Mn.state.set = function (e) { }; Be.prototype.commit = function (t, s, n) { var i = this, l = _o(t, s, n), a = l.type, c = l.payload, r = { type: a, payload: c }, _ = this._mutations[a]; _ && (this._withCommit(function () { _.forEach(function (u) { u(c) }) }), this._subscribers.slice().forEach(function (d) { return d(r, i.state) })) }; Be.prototype.dispatch = function (t, s) { var n = this, i = _o(t, s), l = i.type, a = i.payload, c = { type: l, payload: a }, r = this._actions[l]; if (r) { try { this._actionSubscribers.slice().filter(function (d) { return d.before }).forEach(function (d) { return d.before(c, n.state) }) } catch { } var _ = r.length > 1 ? Promise.all(r.map(function (d) { return d(a) })) : r[0](a); return new Promise(function (d, u) { _.then(function (p) { try { n._actionSubscribers.filter(function (m) { return m.after }).forEach(function (m) { return m.after(c, n.state) }) } catch { } d(p) }, function (p) { try { n._actionSubscribers.filter(function (m) { return m.error }).forEach(function (m) { return m.error(c, n.state, p) }) } catch { } u(p) }) }) } }; Be.prototype.subscribe = function (t, s) { return ua(t, this._subscribers, s) }; Be.prototype.subscribeAction = function (t, s) { var n = typeof t == "function" ? { before: t } : t; return ua(n, this._actionSubscribers, s) }; Be.prototype.watch = function (t, s, n) { var i = this; return V(function () { return t(i.state, i.getters) }, s, Object.assign({}, n)) }; Be.prototype.replaceState = function (t) { var s = this; this._withCommit(function () { s._state.data = t }) }; Be.prototype.registerModule = function (t, s, n) { n === void 0 && (n = {}), typeof t == "string" && (t = [t]), this._modules.register(t, s), To(this, this.state, t, this._modules.get(t), n.preserveState), Rn(this, this.state) }; Be.prototype.unregisterModule = function (t) { var s = this; typeof t == "string" && (t = [t]), this._modules.unregister(t), this._withCommit(function () { var n = Dn(s.state, t.slice(0, -1)); delete n[t[t.length - 1]] }), da(this) }; Be.prototype.hasModule = function (t) { return typeof t == "string" && (t = [t]), this._modules.isRegistered(t) }; Be.prototype.hotUpdate = function (t) { this._modules.update(t), da(this, !0) }; Be.prototype._withCommit = function (t) { var s = this._committing; this._committing = !0, t(), this._committing = s }; Object.defineProperties(Be.prototype, Mn); const G = (e, t) => { const s = e.__vccOpts || e; for (const [n, i] of t) s[n] = i; return s }, lu = e => (Y("data-v-f7a1280b"), e = e(), q(), e), au = { class: "go_back" }, cu = lu(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/left.svg" }, null, -1)), ru = [cu], _u = { __name: "go_back", setup(e) { const t = ke(), s = f(null); function n() { t.dispatch("goBack").then(() => { it(() => { s.value && s.value.click() }) }) } return (i, l) => (h(), w("div", au, [o("div", { class: "btn_box", onClick: n, ref_key: "btn_box", ref: s }, ru, 512)])) } }, Fn = G(_u, [["__scopeId", "data-v-f7a1280b"]]), uu = { class: "img_box" }, du = ["src"], fu = { __name: "img_content_page", props: { item_path: { type: String, default: "" } }, emits: ["close_img_content_page"], setup(e, { emit: t }) { const s = ke(), n = e, i = f(n.item_path); let l = t; V(() => n.item_path, r => { i.value = r }), W(() => { i.value = s.getters.item_path }); const a = f(null); function c() { l("close_img_content_page", !1), a.value || console.warn("img_content_page_img.value is null") } return (r, _) => (h(), w("div", { class: "img_content_page", onClick: c }, [o("div", uu, [o("img", { src: "https://www.sunyuanling.com/image/" + i.value, ref_key: "img_content_page_img", ref: a }, null, 8, du)])])) } }, Hn = G(fu, [["__scopeId", "data-v-458f2e87"]]), hu = { class: "scroll_box" }, pu = { class: "scroll_box_content" }, gu = { class: "btn_box" }, mu = ["src"], vu = ["src"], wu = ["onClick"], yu = ["onClick"], ku = ["src"], bu = { key: 0, class: "work_count" }, $u = ["src"], xu = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 }, page_count_svg: { type: String, default: "https://www.sunyuanling.com/assets/page_count.svg" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null), a = () => { i.value && i.value.forEach((g, k) => { g.style.backgroundColor = n.value[k % n.value.length] }) }; let c = f(s.msg_list); V(() => s.msg_list, () => { c.value = s.msg_list }); const r = t, _ = g => { r("chose_item", g) }, d = g => g < .5 ? 2 * g * g : -1 + (4 - 2 * g) * g, u = (g, k) => { const y = l.value.scrollLeft, v = performance.now(), $ = E => { const L = E - v, T = Math.min(L / k, 1), N = d(T); l.value.scrollLeft = y + g * N, T < 1 && requestAnimationFrame($) }; requestAnimationFrame($) }, p = () => { u(-s.scrollDistance, s.animationDuration) }, m = () => { u(s.scrollDistance, s.animationDuration) }; W(async () => { a(), c.value = s.msg_list; for (let g = 0; g < s.msg_list.length; g++)c.value[g].work_count = await x(s.msg_list[g].Illustration_id) }); async function x(g) { try { const k = await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: g }) }); if (k.ok) { const y = await k.json(); if (y.status == "success") return y.data[0].content_file_list.split(/[,，]/).length } } catch (k) { console.log(k) } } return (g, k) => (h(), w("div", hu, [o("div", pu, [o("div", gu, [o("div", { class: "left_btn", onClick: p }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, mu)]), o("div", { class: "right_btn", onClick: m }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, vu)])]), o("div", { class: "list", ref_key: "list", ref: l }, [(h(!0), w(B, null, se(b(c), (y, v) => (h(), w("div", { class: "item", key: v }, [s.msg_type === "tags" ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_item", ref: i, onClick: $ => _(y) }, [o("span", null, S(y), 1)], 8, wu)) : I("", !0), s.msg_type === "image" ? (h(), w("div", { key: 1, class: "image_item", onClick: $ => _({ item: y, work_id: y.Illustration_id }) }, [o("img", { src: y.item_path, class: "image" }, null, 8, ku), y.work_count > 1 ? (h(), w("div", bu, [o("img", { src: s.page_count_svg, class: "icon" }, null, 8, $u), o("span", null, S(y.work_count), 1)])) : I("", !0)], 8, yu)) : I("", !0)]))), 128))], 512)])])) } }, Su = G(xu, [["__scopeId", "data-v-5d4113ee"]]), Cu = e => (Y("data-v-4732cf64"), e = e(), q(), e), Tu = { key: 0, class: "author_info" }, Eu = { class: "content" }, Au = { class: "author_info" }, Iu = { class: "author_avatar" }, Ou = ["src"], Nu = { class: "author_name" }, ju = { class: "follow_btn" }, Lu = { class: "others_work" }, Pu = Cu(() => o("div", { class: "others_work_title" }, "其他作品", -1)), Uu = { __name: "author_info", props: { author_id: { type: String, default: "10086" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = Ee("token"), n = e, i = f(null), l = f([]), a = f("关注"); let c = f(), r = f([]), _ = f(), d = t; async function u(v, $) { try { const E = await fetch(v, { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify($) }); return E.ok ? await E.json() : (console.error(`HTTP error: ${E.status}`), { status: "error", message: "Request failed" }) } catch (E) { return console.error(`Fetch error: ${E}`), { status: "error", message: "Fetch error" } } } async function p() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { userid: n.author_id }); v.status === "success" ? i.value = v.data[0] : console.error(v.message) } async function m() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/", { token: s }); v.status === "success" ? (l.value = v.data, x()) : console.error(v.message) } function x() { const v = l.value.some($ => $.follow_user_id === n.author_id); a.value = v ? "已关注" : "关注" } async function g() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/", { token: s, target_id: i.value.userid, target_username: i.value.username }); v.status === "success" && (a.value = a.value === "已关注" ? "关注" : "已关注"), alert(v.message) } async function k() { try { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/", { userid: n.author_id }); if (v.status == "success") { c.value = v.data.ill; for (let $ = 0; $ < c.value.length; $++)r.value.push({ item_path: "https://www.sunyuanling.com/image/thumbnail/" + c.value[$].content_file_list.split(/[,，]/)[0], Illustration_id: c.value[$].Illustration_id }) } } catch (v) { console.error(v) } } function y(v) { _.value = v.work_id, d("chose_item", { work_id: _.value }) } return W(async () => { await p(), await m(), await k() }), (v, $) => n.author_id && i.value ? (h(), w("div", Tu, [o("div", Eu, [o("div", Au, [o("div", Iu, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + i.value.user_avatar }, null, 8, Ou)]), o("div", Nu, [o("span", null, S(i.value.username), 1)])]), o("div", { class: ge(["author_follow", a.value === "已关注" ? "off_follow" : "on_follow"]), onClick: g }, [o("div", ju, [o("span", null, S(a.value), 1)])], 2), o("div", Lu, [Pu, M(Su, { msg_list: b(r), onChose_item: y }, null, 8, ["msg_list"])])])])) : I("", !0) } }, Gu = G(Uu, [["__scopeId", "data-v-4732cf64"]]), Ru = { class: "scroll_box" }, Du = { class: "scroll_box_content" }, Mu = { class: "btn_box" }, Fu = ["src"], Hu = ["src"], Vu = ["onClick"], zu = ["onClick"], Bu = ["src"], Wu = { key: 0, class: "work_count" }, Ju = ["src"], Ku = { __name: "scroll_box_bottom", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 }, page_count_svg: { type: String, default: "https://www.sunyuanling.com/assets/page_count.svg" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null), a = () => { i.value && i.value.forEach((g, k) => { g.style.backgroundColor = n.value[k % n.value.length] }) }; let c = f(s.msg_list); V(() => s.msg_list, () => { c.value = s.msg_list }); const r = t, _ = g => { r("chose_item", g) }, d = g => g < .5 ? 2 * g * g : -1 + (4 - 2 * g) * g, u = (g, k) => { const y = l.value.scrollLeft, v = performance.now(), $ = E => { const L = E - v, T = Math.min(L / k, 1), N = d(T); l.value.scrollLeft = y + g * N, T < 1 && requestAnimationFrame($) }; requestAnimationFrame($) }, p = () => { u(-s.scrollDistance, s.animationDuration) }, m = () => { u(s.scrollDistance, s.animationDuration) }; W(async () => { a(), c.value = s.msg_list; for (let g = 0; g < s.msg_list.length; g++)c.value[g].work_count = await x(s.msg_list[g].Illustration_id) }); async function x(g) { try { const k = await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: g }) }); if (k.ok) { const y = await k.json(); if (y.status == "success") return y.data[0].content_file_list.split(/[,，]/).length } } catch (k) { console.log(k) } } return (g, k) => (h(), w("div", Ru, [o("div", Du, [o("div", Mu, [o("div", { class: "left_btn", onClick: p }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, Fu)]), o("div", { class: "right_btn", onClick: m }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, Hu)])]), o("div", { class: "list", ref_key: "list", ref: l }, [(h(!0), w(B, null, se(b(c), (y, v) => (h(), w("div", { class: "item", key: v }, [s.msg_type === "tags" ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_item", ref: i, onClick: $ => _(y) }, [o("span", null, S(y), 1)], 8, Vu)) : I("", !0), s.msg_type === "image" ? (h(), w("div", { key: 1, class: "image_item", onClick: $ => _({ item: y, work_id: y.Illustration_id }) }, [o("img", { src: y.item_path, class: "image" }, null, 8, Bu), y.work_count > 1 ? (h(), w("div", Wu, [o("img", { src: s.page_count_svg, class: "icon" }, null, 8, Ju), o("span", null, S(y.work_count), 1)])) : I("", !0)], 8, zu)) : I("", !0)]))), 128))], 512)])])) } }, Yu = G(Ku, [["__scopeId", "data-v-7b2bab25"]]), qu = e => (Y("data-v-4b34120e"), e = e(), q(), e), Qu = { key: 0, class: "author_info" }, Xu = { class: "content" }, Zu = { class: "author_info" }, ed = { class: "author_avatar" }, td = ["src"], sd = { class: "author_name" }, od = { class: "follow_btn" }, nd = { class: "others_work" }, id = qu(() => o("div", { class: "others_work_title" }, "其他作品", -1)), ld = { __name: "author_info", props: { author_id: { type: String, default: "10086" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = Ee("token"), n = e, i = f(null), l = f([]), a = f("关注"); let c = f(), r = f([]), _ = f(), d = t; async function u(v, $) { try { const E = await fetch(v, { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify($) }); return E.ok ? await E.json() : (console.error(`HTTP error: ${E.status}`), { status: "error", message: "Request failed" }) } catch (E) { return console.error(`Fetch error: ${E}`), { status: "error", message: "Fetch error" } } } async function p() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { userid: n.author_id }); v.status === "success" ? i.value = v.data[0] : console.error(v.message) } async function m() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/", { token: s }); v.status === "success" ? (l.value = v.data, x()) : console.error(v.message) } function x() { const v = l.value.some($ => $.follow_user_id === n.author_id); a.value = v ? "已关注" : "关注" } async function g() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/", { token: s, target_id: i.value.userid, target_username: i.value.username }); v.status === "success" && (a.value = a.value === "已关注" ? "关注" : "已关注"), alert(v.message) } async function k() { try { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/", { userid: n.author_id }); if (v.status == "success") { c.value = v.data.ill; for (let $ = 0; $ < c.value.length; $++)r.value.push({ item_path: "https://www.sunyuanling.com/image/thumbnail/" + c.value[$].content_file_list.split(/[,，]/)[0], Illustration_id: c.value[$].Illustration_id }) } } catch (v) { console.error(v) } } function y(v) { _.value = v.work_id, d("chose_item", { work_id: _.value }) } return W(async () => { await p(), await m(), await k() }), (v, $) => n.author_id && i.value ? (h(), w("div", Qu, [o("div", Xu, [o("div", Zu, [o("div", ed, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + i.value.user_avatar }, null, 8, td)]), o("div", sd, [o("span", null, S(i.value.username), 1)]), o("div", { class: ge(["author_follow", a.value === "已关注" ? "off_follow" : "on_follow"]), onClick: g }, [o("div", od, [o("span", null, S(a.value), 1)])], 2)]), o("div", nd, [id, M(Yu, { msg_list: b(r), onChose_item: y }, null, 8, ["msg_list"])])])])) : I("", !0) } }, ad = G(ld, [["__scopeId", "data-v-4b34120e"]]), cd = { class: "content" }, rd = { class: "item" }, _d = ["src"], ud = ["src"], dd = { class: "share" }, fd = ["src"], hd = { __name: "interaction_bar", props: { like_svg: { type: String, default: "https://www.sunyuanling.com/assets/like.svg" }, is_like_svg: { type: String, default: "https://www.sunyuanling.com/assets/is_like.svg" }, collect: { type: String, default: "https://www.sunyuanling.com/assets/no_work_like.svg" }, is_collect: { type: String, default: "https://www.sunyuanling.com/assets/work_like.svg" }, share_svg: { type: String, default: "https://www.sunyuanling.com/assets/share.svg" }, like_status: { type: Boolean, default: !1 }, collect_status: { type: Boolean, default: !1 } }, emits: ["like_status", "collect_status"], setup(e, { emit: t }) { let s = f(null), n = e, i = t, l = f({ like_svg: n.like_svg, is_like_svg: n.is_like_svg, collect: n.collect, is_collect: n.is_collect, share_svg: n.share_svg, like_status: n.like_status, collect_status: n.collect_status }), a = f({ like: !1, collect: !1 }); function c() { if (!a.value.like) { a.value.like = !0; let _ = !l.value.like_status; i("like_status", _), l.value.like_status = _, setTimeout(() => { a.value.like = !1 }, 50) } } function r() { if (!a.value.collect) { a.value.collect = !0; let _ = !l.value.collect_status; i("collect_status", _), l.value.collect_status = _, setTimeout(() => { a.value.collect = !1 }, 50) } } return V(() => n, _ => { l.value = { ..._ } }, { deep: !0 }), W(() => { l.value = { ...n } }), (_, d) => (h(), w("div", { class: "interaction_bar", ref_key: "interaction_bar", ref: s }, [o("div", cd, [o("div", rd, [o("div", { class: "like", onClick: c }, [o("img", { src: b(l).like_status ? b(l).is_like_svg : b(l).like_svg, class: "icon" }, null, 8, _d)]), o("div", { class: "collect", onClick: r }, [o("img", { src: b(l).collect_status ? b(l).is_collect : b(l).collect, class: "icon" }, null, 8, ud)]), o("div", dd, [o("img", { src: b(l).share_svg, class: "icon" }, null, 8, fd)])])])], 512)) } }, Xi = G(hd, [["__scopeId", "data-v-b905ebbb"]]), Vn = e => (Y("data-v-ab7d8712"), e = e(), q(), e), pd = { class: "work_info_bar" }, gd = { class: "content" }, md = { class: "title" }, vd = { class: "brief_introduction" }, wd = { class: "tags_box" }, yd = { key: 0, class: "age_classification" }, kd = { class: "tag_item" }, bd = { class: "work_data", style: { color: "rgba(133,133,133,1)" } }, $d = { class: "work_data_item" }, xd = Vn(() => o("img", { src: "https://www.sunyuanling.com/assets/like.svg", class: "icon" }, null, -1)), Sd = { class: "work_data_item" }, Cd = Vn(() => o("img", { src: "https://www.sunyuanling.com/assets/work_like.svg", class: "icon", style: { width: "25px", height: "25px" } }, null, -1)), Td = { class: "work_data_item" }, Ed = Vn(() => o("img", { src: "https://www.sunyuanling.com/assets/show.svg", class: "icon" }, null, -1)), Ad = { class: "work_create_time" }, Id = { __name: "work_info_bar", props: { title: { type: String, default: "作品标题" }, brief_introduction: { type: String, default: "作品简介" }, age_classification: { type: String, default: "18" }, tags: { type: Array, default: () => ["标签一"] }, work_data: { type: Object, default: () => ({ like: "100", collect: "100", watch: "100" }) }, work_create_time: { type: String, default: "2024年7月26日13:08:38" } }, setup(e) { return (t, s) => (h(), w("div", pd, [o("div", gd, [o("div", md, [o("span", null, S(e.title), 1)]), o("div", vd, [o("span", null, S(e.brief_introduction), 1)]), o("div", wd, [e.age_classification !== "16" ? (h(), w("span", yd, [o("span", null, "R-" + S(e.age_classification), 1)])) : I("", !0), o("div", kd, [(h(!0), w(B, null, se(e.tags, (n, i) => (h(), w("div", { class: "tag", key: i }, [o("span", null, "# " + S(n), 1)]))), 128))])]), o("div", bd, [o("div", $d, [xd, o("span", null, S(e.work_data.like), 1)]), o("div", Sd, [Cd, o("span", null, S(e.work_data.collect), 1)]), o("div", Td, [Ed, o("span", null, S(e.work_data.watch), 1)])]), o("div", Ad, [o("span", null, S(e.work_create_time), 1)])])])) } }, Od = G(Id, [["__scopeId", "data-v-ab7d8712"]]), Nd = ["maxlength", "rows", "placeholder"], jd = { __name: "auto_textarea", props: { modelValue: { type: String, default: "" }, maxlength: { type: Number, default: 3e3 }, rows: { type: Number, default: 1 }, placeholder: { type: String, default: "发表一条友善的评论" }, initialWidth: { type: String, default: "100%" }, initialHeight: { type: String, default: "auto" }, allowResizeWidth: { type: Boolean, default: !1 }, allowResizeHeight: { type: Boolean, default: !1 }, fontsize: { type: Number, default: 16 }, lineheight: { type: Number, default: 1.5 } }, emits: ["update:modelValue"], setup(e, { emit: t }) { const s = t, n = e, i = f(null), l = f(n.modelValue), a = () => { i.value && (i.value.style.height = "auto", i.value.style.height = `${i.value.scrollHeight}px`) }; return V(() => n.modelValue, c => { l.value = c, a() }), V(() => l.value, c => { s("update:modelValue", c), a() }), W(() => { a() }), (c, r) => ue((h(), w("textarea", { ref_key: "textarea", ref: i, maxlength: e.maxlength, rows: e.rows, placeholder: e.placeholder, style: st({ width: e.initialWidth, height: e.initialHeight, resize: e.allowResizeWidth && e.allowResizeHeight ? "both" : e.allowResizeHeight ? "vertical" : "none", fontSize: e.fontsize + "px", lineHeight: e.lineheight }), "onUpdate:modelValue": r[0] || (r[0] = _ => l.value = _), onInput: a }, null, 44, Nd)), [[Oe, l.value]]) } }, Ld = G(jd, [["__scopeId", "data-v-c1a93e69"]]), Pd = e => (Y("data-v-8c94467a"), e = e(), q(), e), Ud = { class: "send_msg_box" }, Gd = { class: "user_avatar" }, Rd = ["src"], Dd = Pd(() => o("span", null, "发送", -1)), Md = [Dd], Fd = { __name: "send_msg_box", props: { user_avatar_path: { type: String, default: "work_like.svg" }, msg_info: { type: Object, default: () => ({ work_id: "", work_type: "", token: "", send_userid: "", is_root_comment: "", content: "", main_userid: "", main_comment_id: "", reply_comment_id: "" }) } }, emits: ["send_msg", "msg_info", "send_ready_ok"], setup(e, { emit: t }) { const s = e, n = t; let i = f(""); const l = async () => { n("send_msg", i.value), n("msg_info", s.msg_info), n("send_ready_ok", !0), i.value = "" }; return V(i, () => { i.value != "" && i.value && (n("send_msg", i.value), n("msg_info", s.msg_info)) }), (a, c) => (h(), w("div", Ud, [o("div", Gd, [o("img", { class: "avatar_img", src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.user_avatar_path }, null, 8, Rd)]), M(Ld, { modelValue: b(i), "onUpdate:modelValue": c[0] || (c[0] = r => de(i) ? i.value = r : i = r) }, null, 8, ["modelValue"]), o("div", { class: "send_btn", onClick: l }, Md)])) } }, pn = G(Fd, [["__scopeId", "data-v-8c94467a"]]); async function hs(e, t, s, n = 5, i = 0) { try { const l = await fetch("https://www.sunyuanling.com/api/work_interaction/GetCommentSection/", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: e, work_type: t, token: s, limit: n, offset: i }) }); if (l.ok) { const a = await l.json(); return a.status == "success" ? a.data : (console.log(a.message), null) } else return console.log("网络错误"), null } catch (l) { console.log(l) } } async function yt(e, t, s, n, i, l, a, c, r) { try { const _ = await fetch("https://www.sunyuanling.com/api/work_interaction/AddCommentSection/", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: e, work_type: t, token: s, send_userid: n, is_root_comment: i, content: l, main_userid: a, main_comment_id: c, reply_comment_id: r }) }); if (_.ok) { const d = await _.json(); if (d.status == "success") console.log(d.message), alert("评论可能有延迟，请刷新后查看"); else return console.log(d.message), null } else if (_.status == 400) { const d = await _.json(); alert(d.message) } } catch (_) { console.log(_) } } async function ps(e, t, s, n, i) { try { const l = await fetch("https://www.sunyuanling.com/api/work_interaction/LikeComment/", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ comment_id: e, operate: t, token: s, work_type: n, work_id: i }) }); if (l.ok) { const a = await l.json(); if (a.status == "success") console.log(a.message); else return console.log(a.message), null } else return console.log("网络错误"), null } catch (l) { console.log(l) } } const Hd = e => (Y("data-v-a8a26d45"), e = e(), q(), e), Vd = { class: "comments-section" }, zd = { class: "user_info" }, Bd = { class: "avatar" }, Wd = ["src"], Jd = { class: "msg_content" }, Kd = ["onClick"], Yd = { class: "msg_text" }, qd = { class: "msg_time" }, Qd = ["onClick"], Xd = ["src"], Zd = { class: "like_count" }, ef = ["onClick"], tf = { key: 0, class: "reply_box" }, sf = { key: 1 }, of = { class: "content" }, nf = { class: "user_info" }, lf = { class: "avatar" }, af = ["src"], cf = { class: "msg_content" }, rf = ["onClick"], _f = { class: "msg_text" }, uf = { style: { "margin-right": "10px", color: "rgba(0,150,250,1)", cursor: "pointer" } }, df = { class: "msg_time" }, ff = ["onClick"], hf = ["src"], pf = { class: "like_count" }, gf = ["onClick"], mf = { key: 0, class: "reply_box" }, vf = { key: 0, class: "show_more_sub_comment" }, wf = Hd(() => o("span", null, "查看更多", -1)), yf = [wf], kf = { __name: "msg_box", props: { comments: { type: Array, default: () => [] }, work_id: { type: String, default: "1" }, work_type: { type: String, default: "ill" }, token: { type: String, default: "" }, user_avatar_path: { type: String, default: "work_like.svg" } }, emits: ["get_more_comment", "send_reply_msg", "sub_msg_ready_ok"], setup(e, { emit: t }) { const s = e; let n = t; function i() { n("get_more_comment") } const l = f({}); let a = f(""), c = f({ content: "", is_root_comment: 0, main_comment_id: 0, main_userid: "", reply_comment_id: 0, token: "", work_id: "", work_type: "" }), r = f(!1); function _(E) { r.value = E, n("sub_msg_ready_ok", r.value) } function d(E) { let T = c.value.content; delete E.content, c.value = E, c.value.content = T } function u(E, L) { Object.keys(l.value).forEach(T => { l.value[T] = !1 }), L && Object.keys(l.value).forEach(T => { T !== E && (l.value[T] = !1) }), l.value[E] = !l.value[E] } function p(E) { a.value = E, c.value.content = E, n("send_reply_msg", c.value) } V(a, () => { }); const m = f(1), x = f(1); function g() { m.value += 3, i() } function k() { x.value += 3 } const y = Ie(() => s.comments.slice(0, m.value)); function v(E) { return E.slice(0, x.value) } function $(E) { console.log(E) } return (E, L) => (h(), w("div", Vd, [(h(!0), w(B, null, se(y.value, T => (h(), w("div", { key: T.comment_id, class: "msg_box" }, [o("div", { class: ge(["content", T.is_main ? "" : "is_reply"]) }, [o("div", zd, [o("div", Bd, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + T.user_avatar, alt: "avatar" }, null, 8, Wd)])]), o("div", Jd, [o("div", { class: "username", onClick: N => $(T.userid) }, [o("span", null, S(T.username), 1)], 8, Kd), o("div", Yd, [o("span", null, S(T.msg_content), 1)]), o("div", qd, [o("span", null, S(T.time), 1), o("div", { class: "like", onClick: N => b(ps)(T.comment_id, "like", s.token, s.work_type, s.work_id) }, [o("img", { class: "icon", src: T.user_is_like_comment[0] ? "https://www.sunyuanling.com/assets/is_hand_like.svg" : "https://www.sunyuanling.com/assets/hand_like.svg", style: { width: "15px", height: "15px" } }, null, 8, Xd)], 8, Qd), o("div", Zd, [o("span", null, S(T.like_comment_count), 1)]), o("span", { class: "reply_btn", onClick: N => u(T.comment_id, !0) }, "回复", 8, ef)]), l.value[T.comment_id] ? (h(), w("div", tf, [M(pn, { user_avatar_path: s.user_avatar_path, onSend_msg: p, msg_info: { work_id: s.work_id, work_type: s.work_type, token: s.token, is_root_comment: 0, content: b(a), main_userid: T.userid, main_comment_id: T.comment_id, reply_comment_id: T.comment_id }, onMsg_info: d, onSend_ready_ok: _ }, null, 8, ["user_avatar_path", "msg_info"])])) : I("", !0), T.replies.length > 0 ? (h(), w("div", sf, [(h(!0), w(B, null, se(v(T.replies), N => (h(), w("div", { key: N.comment_id, class: "msg_box is_reply" }, [o("div", of, [o("div", nf, [o("div", lf, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + N.user_avatar, alt: "avatar" }, null, 8, af)])]), o("div", cf, [o("div", { class: "username", onClick: R => $(N.userid) }, [o("span", null, S(N.username), 1)], 8, rf), o("div", _f, [o("span", uf, "@" + S(N.reply_username), 1), o("span", null, S(N.msg_content), 1)]), o("div", df, [o("span", null, S(N.time), 1), o("div", { class: "like", onClick: R => b(ps)(N.comment_id, "like", s.token, s.work_type, s.work_id) }, [o("img", { class: "icon", src: N.user_is_like_comment ? "https://www.sunyuanling.com/assets/is_hand_like.svg" : "https://www.sunyuanling.com/assets/hand_like.svg", style: { width: "15px", height: "15px" } }, null, 8, hf)], 8, ff), o("div", pf, [o("span", null, S(N.like_comment_count), 1)]), o("span", { class: "reply_btn", onClick: R => u(N.comment_id, !1) }, "回复", 8, gf)]), l.value[N.comment_id] ? (h(), w("div", mf, [M(pn, { user_avatar_path: s.user_avatar_path, onSend_msg: p, msg_info: { work_id: s.work_id, work_type: s.work_type, token: s.token, is_root_comment: 0, content: b(a), main_userid: T.userid, main_comment_id: T.comment_id, reply_comment_id: N.comment_id }, onMsg_info: d, onSend_ready_ok: _ }, null, 8, ["user_avatar_path", "msg_info"])])) : I("", !0)])])]))), 128)), T.replies.length > x.value ? (h(), w("div", vf, [o("span", { onClick: k }, "查看更多")])) : I("", !0)])) : I("", !0)])], 2)]))), 128)), e.comments.length >= m.value ? (h(), w("div", { key: 0, class: "show_more_root_comment", onClick: g }, yf)) : I("", !0)])) } }, bf = G(kf, [["__scopeId", "data-v-a8a26d45"]]), $f = e => (Y("data-v-56f8056f"), e = e(), q(), e), xf = { class: "index" }, Sf = $f(() => o("div", { class: "title" }, [o("span", null, "评论")], -1)), Cf = { class: "content" }, Tf = { __name: "comment_section", props: { work_type: { type: String, default: "ill" }, work_id: { type: [String, Number], default: 1 }, token: { type: String, default: "" }, user_avatar_path: { type: String, default: "work_like.svg" } }, setup(e) { let t = e, s = f(5), n = f(0); async function i(g) { r.value.content = g, m.value && await yt(t.work_id, t.work_type, c, r.value.send_userid, r.value.is_root_comment, r.value.content, r.value.main_userid, r.value.main_comment_id, r.value.reply_comment_id), m.value = !1 } let l = f(); W(async () => { l.value = await hs(String(t.work_id), t.work_type, t.token) }); async function a() { s.value += 3, l.value = await hs(String(t.work_id), t.work_type, t.token, s.value, n.value) } let c = "sunyuanling", r = f({ work_id: t.work_id, work_type: t.work_type, token: c, send_userid: "", is_root_comment: 1, content: "", main_userid: "f575b4d3-0683-11ef-adf4-00ffc6b98bdb", main_comment_id: 0, reply_comment_id: 0, limit: s.value, offset: n.value }), _ = f(), d = f(!1); async function u(g) { d.value = g, await yt(t.work_id, t.work_type, c, "", _.value.is_root_comment, _.value.content, _.value.main_userid, _.value.main_comment_id, _.value.reply_comment_id) } function p(g) { _.value = g } let m = f(!1); async function x(g) { m.value = g, await yt(t.work_id, t.work_type, c, r.value.send_userid, r.value.is_root_comment, r.value.content, r.value.main_userid, r.value.main_comment_id, r.value.reply_comment_id) } return (g, k) => (h(), w("div", xf, [Sf, o("div", Cf, [M(pn, { onSend_msg: i, user_avatar_path: e.user_avatar_path, msg_info: b(r), onSend_ready_ok: x }, null, 8, ["user_avatar_path", "msg_info"]), b(l) ? (h(), re(bf, { key: 0, comments: b(l), onGet_more_comment: k[0] || (k[0] = y => a()), work_id: e.work_id, work_type: e.work_type, token: b(c), user_avatar_path: e.user_avatar_path, onSend_reply_msg: p, onSub_msg_ready_ok: u }, null, 8, ["comments", "work_id", "work_type", "token", "user_avatar_path"])) : I("", !0)])])) } }, Ef = G(Tf, [["__scopeId", "data-v-56f8056f"]]); async function ft(e, t, s, n) { try { const i = await fetch("https://www.sunyuanling.com/api/work_interaction/Watch/", { method: "post", headers: { "Content-type": "application/json" }, body: JSON.stringify({ token: t, work_id: e, work_type: s, work_name: n }) }); if (i.ok) { const l = await i.json(); if (l.status == "success") return l.count; console.log(l.message) } else console.log(i.status) } catch (i) { console.log(i) } } async function ht(e, t, s, n, i) { try { const l = await fetch("https://www.sunyuanling.com/api/work_interaction/Like/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: e, operate_type: t, token: s, work_type: n, work_name: i }) }); if (l.ok) { const a = await l.json(); return a.status == "success" || console.log(a.message), a.data } else console.log(l.status) } catch (l) { console.log(l) } } async function pt(e, t, s, n, i) { try { const l = await fetch("https://www.sunyuanling.com/api/work_interaction/Collect/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: e, operate_type: t, token: s, work_type: n, work_name: i }) }); if (l.ok) { const a = await l.json(); return a.status == "success" || console.log(a.message), a.data } else console.log(l.status) } catch (l) { console.log(l) } } const Af = e => (Y("data-v-e581d5b7"), e = e(), q(), e), If = { class: "ill_index", ref: "ill_index" }, Of = { key: 0, class: "content" }, Nf = { class: "item_box" }, jf = { key: 0, class: "img_box" }, Lf = ["src", "onClick"], Pf = Af(() => o("div", { class: "show_more_background" }, null, -1)), Uf = { key: 0, class: "author_info_box_bottom" }, Gf = { class: "comment_section" }, Rf = { key: 1, class: "author_info_box" }, Df = { __name: "ill_index", props: { work_id: { type: String, default: "1" } }, setup(e) { const t = ke(), s = f(""), n = f(), i = f(!1), l = f(""); let a = f(1), c = f(null), r = f(null), _ = f(null), d = Ee("token"), u = f(!1), p = f(!1), m = f({ like: "100", collect: "100", watch: "100" }), x = f(JSON.parse(Ee("userinfo")).user_avatar); console.log(x.value); async function g(j) { u.value = j, u.value = await ht(s.value, "add", d, "ill", n.value.name) == 1 } async function k(j) { p.value = j, p.value = await pt(s.value, "add", d, "ill", n.value.name) == 1 } let y = 0; function v(j) { try { if (!r.value || !_.value || !j) return; let _e = window.innerHeight; r.value.getBoundingClientRect().bottom <= _e ? _.value.style.transform = "translateY(100%)" : _.value.style.transform = "translateY(0)", window.addEventListener("scroll", $) } catch (_e) { console.log(_e) } } function $() { if (_.value) { const j = window.scrollY; j > y ? _.value.style.transform = "translateY(100%)" : (_.value.style.transform = "translateY(0)", v(!0)), y = j } } W(() => { v(!0), window.addEventListener("scroll", $) }), $t(() => { window.removeEventListener("scroll", $), v(!1) }); function E() { a.value = n.value.content_file_list.split(/[,，]/).length + 1 } const L = e; V(() => L.work_id, j => { s.value = j }), V(() => t.getters.work_id, j => { s.value = j }), W(async () => { s.value = t.getters.work_id, await T(), await ft(parseInt(s.value), d, "ill", n.value.name), u.value = await ht(s.value, "search", d, "ill", n.value.name) == 1, p.value = await pt(s.value, "search", d, "ill", n.value.name) == 1, m.value.watch = await ft(s.value, d, "ill", n.value.name), m.value.like = await ht(s.value, "count", d, "ill", n.value.name), m.value.collect = await pt(s.value, "count", d, "ill", n.value.name) }), V(s, async () => { await T(), await ft(parseInt(s.value), d, "ill", n.value.name), u.value = await ht(s.value, "search", d, "ill", n.value.name) == 1, p.value = await pt(s.value, "search", d, "ill", n.value.name) == 1, m.value.watch = await ft(s.value, d, "ill", n.value.name), m.value.like = await ht(s.value, "count", d, "ill", n.value.name), m.value.collect = await pt(s.value, "count", d, "ill", n.value.name) }); async function T() { try { const j = await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: s.value }) }); if (j.ok) { const _e = await j.json(); _e.status === "success" ? n.value = _e.data[0] : console.log(_e.message) } } catch (j) { console.log(j) } } function N(j) { i.value = !0, l.value = j, t.commit("SET_ITEM_PATH", j) } V(i, j => { j ? document.body.style.overflow = "hidden" : document.body.style.overflow = "" }); function R() { i.value = !1 } async function X(j) { s.value = j.work_id, await ft(s.value, d, "ill", n.value.name) } return (j, _e) => (h(), w(B, null, [o("div", If, [M(Fn), n.value ? (h(), w("div", Of, [o("div", Nf, [(h(!0), w(B, null, se(n.value.content_file_list.split(/[,，]/), (J, me) => (h(), w("div", { class: "item", key: me }, [me < b(a) ? (h(), w("div", jf, [o("img", { src: "https://www.sunyuanling.com/image/content_thumbnail/" + J, class: "item_img", onClick: ee => N(J) }, null, 8, Lf)])) : I("", !0)]))), 128)), b(a) == 1 && n.value.content_file_list.split(/[,，]/).length > 1 ? (h(), w("div", { key: 0, class: "show_more_btn", ref_key: "show_more_btn", ref: c }, [Pf, o("span", { onClick: _e[0] || (_e[0] = J => E()) }, "查看全部")], 512)) : I("", !0)]), o("div", { class: "fixed_interaction", ref_key: "fixed_interaction", ref: r }, [M(Xi, { like_status: b(u), collect_status: b(p), onLike_status: g, onCollect_status: k }, null, 8, ["like_status", "collect_status"])], 512), o("div", { class: "float_interaction", ref_key: "float_interaction", ref: _ }, [M(Xi, { like_status: b(u), collect_status: b(p), onLike_status: g, onCollect_status: k }, null, 8, ["like_status", "collect_status"])], 512), M(Od, { work_data: b(m), work_create_time: n.value.create_time }, null, 8, ["work_data", "work_create_time"]), n.value ? (h(), w("div", Uf, [M(ad, { author_id: n.value.belong_to_user_id, onChose_item: X }, null, 8, ["author_id"])])) : I("", !0), o("div", Gf, [(h(), re(Ef, { work_type: "ill", token: b(d), work_id: String(s.value), user_avatar_path: b(x), key: s.value }, null, 8, ["token", "work_id", "user_avatar_path"]))])])) : I("", !0), n.value ? (h(), w("div", Rf, [M(Gu, { author_id: n.value.belong_to_user_id, onChose_item: X }, null, 8, ["author_id"])])) : I("", !0)], 512), i.value ? (h(), re(Hn, { key: 0, item_path: l.value, onClose_img_content_page: R }, null, 8, ["item_path"])) : I("", !0)], 64)) } }, Mf = G(Df, [["__scopeId", "data-v-e581d5b7"]]), Ff = { class: "scroll_box" }, Hf = { class: "scroll_box_content" }, Vf = { class: "btn_box" }, zf = ["src"], Bf = ["src"], Wf = ["onClick"], Jf = ["onClick"], Kf = ["src"], Yf = { key: 0, class: "work_count" }, qf = ["src"], Qf = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 }, page_count_svg: { type: String, default: "https://www.sunyuanling.com/assets/page_count.svg" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null), a = () => { i.value && i.value.forEach((g, k) => { g.style.backgroundColor = n.value[k % n.value.length] }) }; let c = f(s.msg_list); V(() => s.msg_list, () => { c.value = s.msg_list }); const r = t, _ = g => { r("chose_item", g) }, d = g => g < .5 ? 2 * g * g : -1 + (4 - 2 * g) * g, u = (g, k) => { const y = l.value.scrollLeft, v = performance.now(), $ = E => { const L = E - v, T = Math.min(L / k, 1), N = d(T); l.value.scrollLeft = y + g * N, T < 1 && requestAnimationFrame($) }; requestAnimationFrame($) }, p = () => { u(-s.scrollDistance, s.animationDuration) }, m = () => { u(s.scrollDistance, s.animationDuration) }; W(async () => { a(), c.value = s.msg_list; for (let g = 0; g < s.msg_list.length; g++)c.value[g].work_count = await x(s.msg_list[g].Illustration_id) }); async function x(g) { try { const k = await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: g }) }); if (k.ok) { const y = await k.json(); if (y.status == "success") return y.data[0].content_file_list.split(/[,，]/).length } } catch (k) { console.log(k) } } return (g, k) => (h(), w("div", Ff, [o("div", Hf, [o("div", Vf, [o("div", { class: "left_btn", onClick: p }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, zf)]), o("div", { class: "right_btn", onClick: m }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, Bf)])]), o("div", { class: "list", ref_key: "list", ref: l }, [(h(!0), w(B, null, se(b(c), (y, v) => (h(), w("div", { class: "item", key: v }, [s.msg_type === "tags" ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_item", ref: i, onClick: $ => _(y) }, [o("span", null, S(y), 1)], 8, Wf)) : I("", !0), s.msg_type === "image" ? (h(), w("div", { key: 1, class: "image_item", onClick: $ => _({ item: y, work_id: y.work_id }) }, [o("img", { src: y.item_path, class: "image" }, null, 8, Kf), y.work_count > 1 ? (h(), w("div", Yf, [o("img", { src: s.page_count_svg, class: "icon" }, null, 8, qf), o("span", null, S(y.work_count), 1)])) : I("", !0)], 8, Jf)) : I("", !0)]))), 128))], 512)])])) } }, Xf = G(Qf, [["__scopeId", "data-v-8bb520b9"]]), Zf = e => (Y("data-v-7a95bcb3"), e = e(), q(), e), eh = { key: 0, class: "author_info" }, th = { class: "content" }, sh = { class: "author_info" }, oh = { class: "author_avatar" }, nh = ["src"], ih = { class: "author_name" }, lh = { class: "follow_btn" }, ah = { class: "others_work" }, ch = Zf(() => o("div", { class: "others_work_title" }, "其他作品", -1)), rh = { __name: "author_info", props: { author_id: { type: String, default: "10086" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = Ee("token"), n = e, i = f(null), l = f([]), a = f("关注"); let c = f(), r = f([]), _ = f(), d = t; async function u(v, $) { try { const E = await fetch(v, { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify($) }); return E.ok ? await E.json() : (console.error(`HTTP error: ${E.status}`), { status: "error", message: "Request failed" }) } catch (E) { return console.error(`Fetch error: ${E}`), { status: "error", message: "Fetch error" } } } async function p() { try { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { userid: n.author_id }); v.status === "success" ? i.value = v.data[0] : console.error(v.message) } catch (v) { console.error(v) } } async function m() { try { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/", { token: s }); v.status === "success" ? (l.value = v.data, x()) : console.error(v.message) } catch (v) { console.error(v) } } function x() { const v = l.value.some($ => $.follow_user_id === n.author_id); a.value = v ? "已关注" : "关注" } async function g() { try { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/", { token: s, target_id: i.value.userid, target_username: i.value.username }); v.status === "success" && (a.value = a.value === "已关注" ? "关注" : "已关注"), alert(v.message) } catch (v) { console.error(v) } } async function k() { try { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/", { userid: n.author_id }); if (v.status == "success") { c.value = v.data.comic; for (let $ = 0; $ < c.value.length; $++)r.value.push({ item_path: "https://www.sunyuanling.com/image/comic/thumbnail/" + c.value[$].content_file_list.split(/[,，]/)[0], work_id: c.value[$].id }) } } catch (v) { console.error(v) } } function y(v) { _.value = v.work_id, d("chose_item", { work_id: _.value }) } return W(async () => { await p(), await m(), await k() }), (v, $) => n.author_id && i.value ? (h(), w("div", eh, [o("div", th, [o("div", sh, [o("div", oh, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + i.value.user_avatar }, null, 8, nh)]), o("div", ih, [o("span", null, S(i.value.username), 1)])]), o("div", { class: ge(["author_follow", a.value === "已关注" ? "off_follow" : "on_follow"]), onClick: g }, [o("div", lh, [o("span", null, S(a.value), 1)])], 2), o("div", ah, [ch, M(Xf, { msg_list: b(r), onChose_item: y }, null, 8, ["msg_list"])])])])) : I("", !0) } }, _h = G(rh, [["__scopeId", "data-v-7a95bcb3"]]), uh = { class: "scroll_box" }, dh = { class: "scroll_box_content" }, fh = { class: "btn_box" }, hh = ["src"], ph = ["src"], gh = ["onClick"], mh = ["onClick"], vh = ["src"], wh = { key: 0, class: "work_count" }, yh = ["src"], kh = { __name: "scroll_box_bottom", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 }, page_count_svg: { type: String, default: "https://www.sunyuanling.com/assets/page_count.svg" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null), a = () => { i.value && i.value.forEach((g, k) => { g.style.backgroundColor = n.value[k % n.value.length] }) }; let c = f(s.msg_list); V(() => s.msg_list, () => { c.value = s.msg_list }); const r = t, _ = g => { r("chose_item", g) }, d = g => g < .5 ? 2 * g * g : -1 + (4 - 2 * g) * g, u = (g, k) => { const y = l.value.scrollLeft, v = performance.now(), $ = E => { const L = E - v, T = Math.min(L / k, 1), N = d(T); l.value.scrollLeft = y + g * N, T < 1 && requestAnimationFrame($) }; requestAnimationFrame($) }, p = () => { u(-s.scrollDistance, s.animationDuration) }, m = () => { u(s.scrollDistance, s.animationDuration) }; W(async () => { a(), c.value = s.msg_list; for (let g = 0; g < s.msg_list.length; g++)c.value[g].work_count = await x(s.msg_list[g].Illustration_id) }); async function x(g) { try { const k = await fetch("https://www.sunyuanling.com/api/get_work_info/GetIllInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: g }) }); if (k.ok) { const y = await k.json(); if (y.status == "success") return y.data[0].content_file_list.split(/[,，]/).length } } catch (k) { console.log(k) } } return (g, k) => (h(), w("div", uh, [o("div", dh, [o("div", fh, [o("div", { class: "left_btn", onClick: p }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, hh)]), o("div", { class: "right_btn", onClick: m }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, ph)])]), o("div", { class: "list", ref_key: "list", ref: l }, [(h(!0), w(B, null, se(b(c), (y, v) => (h(), w("div", { class: "item", key: v }, [s.msg_type === "tags" ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_item", ref: i, onClick: $ => _(y) }, [o("span", null, S(y), 1)], 8, gh)) : I("", !0), s.msg_type === "image" ? (h(), w("div", { key: 1, class: "image_item", onClick: $ => _({ item: y, work_id: y.work_id }) }, [o("img", { src: y.item_path, class: "image" }, null, 8, vh), y.work_count > 1 ? (h(), w("div", wh, [o("img", { src: s.page_count_svg, class: "icon" }, null, 8, yh), o("span", null, S(y.work_count), 1)])) : I("", !0)], 8, mh)) : I("", !0)]))), 128))], 512)])])) } }, bh = G(kh, [["__scopeId", "data-v-76b4fc98"]]), $h = e => (Y("data-v-97cc03ab"), e = e(), q(), e), xh = { key: 0, class: "author_info" }, Sh = { class: "content" }, Ch = { class: "author_info" }, Th = { class: "author_avatar" }, Eh = ["src"], Ah = { class: "author_name" }, Ih = { class: "follow_btn" }, Oh = { class: "others_work" }, Nh = $h(() => o("div", { class: "others_work_title" }, "其他作品", -1)), jh = { __name: "author_info", props: { author_id: { type: String, default: "10086" } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = Ee("token"), n = e, i = f(null), l = f([]), a = f("关注"); let c = f(), r = f([]), _ = f(), d = t; async function u(v, $) { try { const E = await fetch(v, { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify($) }); return E.ok ? await E.json() : (console.error(`HTTP error: ${E.status}`), { status: "error", message: "Request failed" }) } catch (E) { return console.error(`Fetch error: ${E}`), { status: "error", message: "Fetch error" } } } async function p() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { userid: n.author_id }); v.status === "success" ? i.value = v.data[0] : console.error(v.message) } async function m() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/", { token: s }); v.status === "success" ? (l.value = v.data, x()) : console.error(v.message) } function x() { const v = l.value.some($ => $.follow_user_id === n.author_id); a.value = v ? "已关注" : "关注" } async function g() { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/", { token: s, target_id: i.value.userid, target_username: i.value.username }); v.status === "success" && (a.value = a.value === "已关注" ? "关注" : "已关注"), alert(v.message) } async function k() { try { const v = await u("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/", { userid: n.author_id }); if (v.status == "success") { c.value = v.data.comic; for (let $ = 0; $ < c.value.length; $++)r.value.push({ item_path: "https://www.sunyuanling.com/image/comic/thumbnail/" + c.value[$].content_file_list.split(/[,，]/)[0], work_id: c.value[$].id }) } } catch (v) { console.error(v) } } function y(v) { _.value = v.work_id, d("chose_item", { work_id: _.value }) } return W(async () => { await p(), await m(), await k() }), (v, $) => n.author_id && i.value ? (h(), w("div", xh, [o("div", Sh, [o("div", Ch, [o("div", Th, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + i.value.user_avatar }, null, 8, Eh)]), o("div", Ah, [o("span", null, S(i.value.username), 1)]), o("div", { class: ge(["author_follow", a.value === "已关注" ? "off_follow" : "on_follow"]), onClick: g }, [o("div", Ih, [o("span", null, S(a.value), 1)])], 2)]), o("div", Oh, [Nh, M(bh, { msg_list: b(r), onChose_item: y }, null, 8, ["msg_list"])])])])) : I("", !0) } }, Lh = G(jh, [["__scopeId", "data-v-97cc03ab"]]), Ph = { class: "content" }, Uh = { class: "item" }, Gh = ["src"], Rh = ["src"], Dh = { class: "share" }, Mh = ["src"], Fh = { __name: "interaction_bar", props: { like_svg: { type: String, default: "https://www.sunyuanling.com/assets/like.svg" }, is_like_svg: { type: String, default: "https://www.sunyuanling.com/assets/is_like.svg" }, collect: { type: String, default: "https://www.sunyuanling.com/assets/no_work_like.svg" }, is_collect: { type: String, default: "https://www.sunyuanling.com/assets/work_like.svg" }, share_svg: { type: String, default: "https://www.sunyuanling.com/assets/share.svg" }, like_status: { type: Boolean, default: !1 }, collect_status: { type: Boolean, default: !1 } }, emits: ["like_status", "collect_status"], setup(e, { emit: t }) { let s = f(null), n = e, i = t, l = f({ like_svg: n.like_svg, is_like_svg: n.is_like_svg, collect: n.collect, is_collect: n.is_collect, share_svg: n.share_svg, like_status: n.like_status, collect_status: n.collect_status }), a = f({ like: !1, collect: !1 }); function c() { if (!a.value.like) { a.value.like = !0; let _ = !l.value.like_status; i("like_status", _), l.value.like_status = _, setTimeout(() => { a.value.like = !1 }, 50) } } function r() { if (!a.value.collect) { a.value.collect = !0; let _ = !l.value.collect_status; i("collect_status", _), l.value.collect_status = _, setTimeout(() => { a.value.collect = !1 }, 50) } } return V(() => n, _ => { l.value = { ..._ } }, { deep: !0 }), W(() => { l.value = { ...n } }), (_, d) => (h(), w("div", { class: "interaction_bar", ref_key: "interaction_bar", ref: s }, [o("div", Ph, [o("div", Uh, [o("div", { class: "like", onClick: c }, [o("img", { src: b(l).like_status ? b(l).is_like_svg : b(l).like_svg, class: "icon" }, null, 8, Gh)]), o("div", { class: "collect", onClick: r }, [o("img", { src: b(l).collect_status ? b(l).is_collect : b(l).collect, class: "icon" }, null, 8, Rh)]), o("div", Dh, [o("img", { src: b(l).share_svg, class: "icon" }, null, 8, Mh)])])])], 512)) } }, Zi = G(Fh, [["__scopeId", "data-v-c0cbaf92"]]), zn = e => (Y("data-v-a74544c5"), e = e(), q(), e), Hh = { class: "work_info_bar" }, Vh = { class: "content" }, zh = { class: "title" }, Bh = { class: "brief_introduction" }, Wh = { class: "tags_box" }, Jh = { key: 0, class: "age_classification" }, Kh = { class: "tag_item" }, Yh = { class: "work_data", style: { color: "rgba(133,133,133,1)" } }, qh = { class: "work_data_item" }, Qh = zn(() => o("img", { src: "https://www.sunyuanling.com/assets/like.svg", class: "icon" }, null, -1)), Xh = { class: "work_data_item" }, Zh = zn(() => o("img", { src: "https://www.sunyuanling.com/assets/work_like.svg", class: "icon", style: { width: "25px", height: "25px" } }, null, -1)), ep = { class: "work_data_item" }, tp = zn(() => o("img", { src: "https://www.sunyuanling.com/assets/show.svg", class: "icon" }, null, -1)), sp = { class: "work_create_time" }, op = { __name: "work_info_bar", props: { title: { type: String, default: "作品标题" }, brief_introduction: { type: String, default: "作品简介" }, age_classification: { type: String, default: "18" }, tags: { type: Array, default: () => ["标签一"] }, work_data: { type: Object, default: () => ({ like: "100", collect: "100", watch: "100" }) }, work_create_time: { type: String, default: "2024年7月26日13:08:38" } }, setup(e) { return (t, s) => (h(), w("div", Hh, [o("div", Vh, [o("div", zh, [o("span", null, S(e.title), 1)]), o("div", Bh, [o("span", null, S(e.brief_introduction), 1)]), o("div", Wh, [e.age_classification !== "16" ? (h(), w("span", Jh, [o("span", null, "R-" + S(e.age_classification), 1)])) : I("", !0), o("div", Kh, [(h(!0), w(B, null, se(e.tags, (n, i) => (h(), w("div", { class: "tag", key: i }, [o("span", null, "# " + S(n), 1)]))), 128))])]), o("div", Yh, [o("div", qh, [Qh, o("span", null, S(e.work_data.like), 1)]), o("div", Xh, [Zh, o("span", null, S(e.work_data.collect), 1)]), o("div", ep, [tp, o("span", null, S(e.work_data.watch), 1)])]), o("div", sp, [o("span", null, S(e.work_create_time), 1)])])])) } }, np = G(op, [["__scopeId", "data-v-a74544c5"]]), ip = ["maxlength", "rows", "placeholder"], lp = { __name: "auto_textarea", props: { modelValue: { type: String, default: "" }, maxlength: { type: Number, default: 3e3 }, rows: { type: Number, default: 1 }, placeholder: { type: String, default: "发表一条友善的评论" }, initialWidth: { type: String, default: "100%" }, initialHeight: { type: String, default: "auto" }, allowResizeWidth: { type: Boolean, default: !1 }, allowResizeHeight: { type: Boolean, default: !1 }, fontsize: { type: Number, default: 16 }, lineheight: { type: Number, default: 1.5 } }, emits: ["update:modelValue"], setup(e, { emit: t }) { const s = t, n = e, i = f(null), l = f(n.modelValue), a = () => { i.value && (i.value.style.height = "auto", i.value.style.height = `${i.value.scrollHeight}px`) }; return V(() => n.modelValue, c => { l.value = c, a() }), V(() => l.value, c => { s("update:modelValue", c), a() }), W(() => { a() }), (c, r) => ue((h(), w("textarea", { ref_key: "textarea", ref: i, maxlength: e.maxlength, rows: e.rows, placeholder: e.placeholder, style: st({ width: e.initialWidth, height: e.initialHeight, resize: e.allowResizeWidth && e.allowResizeHeight ? "both" : e.allowResizeHeight ? "vertical" : "none", fontSize: e.fontsize + "px", lineHeight: e.lineheight }), "onUpdate:modelValue": r[0] || (r[0] = _ => l.value = _), onInput: a }, null, 44, ip)), [[Oe, l.value]]) } }, ap = G(lp, [["__scopeId", "data-v-e16a4fd9"]]), cp = e => (Y("data-v-ac0bc4e8"), e = e(), q(), e), rp = { class: "send_msg_box" }, _p = { class: "user_avatar" }, up = ["src"], dp = cp(() => o("span", null, "发送", -1)), fp = [dp], hp = { __name: "send_msg_box", props: { user_avatar_path: { type: String, default: "work_like.svg" }, msg_info: { type: Object, default: () => ({ work_id: "", work_type: "", token: "", send_userid: "", is_root_comment: "", content: "", main_userid: "", main_comment_id: "", reply_comment_id: "" }) } }, emits: ["send_msg", "msg_info", "send_ready_ok"], setup(e, { emit: t }) { const s = e, n = t; let i = f(""); const l = async () => { n("send_msg", i.value), n("msg_info", s.msg_info), n("send_ready_ok", !0), i.value = "" }; return V(i, () => { i.value != "" && i.value && (n("send_msg", i.value), n("msg_info", s.msg_info)) }), (a, c) => (h(), w("div", rp, [o("div", _p, [o("img", { class: "avatar_img", src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.user_avatar_path }, null, 8, up)]), M(ap, { modelValue: b(i), "onUpdate:modelValue": c[0] || (c[0] = r => de(i) ? i.value = r : i = r) }, null, 8, ["modelValue"]), o("div", { class: "send_btn", onClick: l }, fp)])) } }, gn = G(hp, [["__scopeId", "data-v-ac0bc4e8"]]), pp = e => (Y("data-v-77fe6318"), e = e(), q(), e), gp = { class: "comments-section" }, mp = { class: "user_info" }, vp = { class: "avatar" }, wp = ["src"], yp = { class: "msg_content" }, kp = ["onClick"], bp = { class: "msg_text" }, $p = { class: "msg_time" }, xp = ["onClick"], Sp = ["src"], Cp = { class: "like_count" }, Tp = ["onClick"], Ep = { key: 0, class: "reply_box" }, Ap = { key: 1 }, Ip = { class: "content" }, Op = { class: "user_info" }, Np = { class: "avatar" }, jp = ["src"], Lp = { class: "msg_content" }, Pp = ["onClick"], Up = { class: "msg_text" }, Gp = { style: { "margin-right": "10px", color: "rgba(0,150,250,1)", cursor: "pointer" } }, Rp = { class: "msg_time" }, Dp = ["onClick"], Mp = ["src"], Fp = { class: "like_count" }, Hp = ["onClick"], Vp = { key: 0, class: "reply_box" }, zp = { key: 0, class: "show_more_sub_comment" }, Bp = pp(() => o("span", null, "查看更多", -1)), Wp = [Bp], Jp = { __name: "msg_box", props: { comments: { type: Array, default: () => [] }, work_id: { type: String, default: "1" }, work_type: { type: String, default: "comic" }, token: { type: String, default: "" }, user_avatar_path: { type: String, default: "work_like.svg" } }, emits: ["get_more_comment", "send_reply_msg", "sub_msg_ready_ok"], setup(e, { emit: t }) { const s = e; let n = t; function i() { n("get_more_comment") } const l = f({}); let a = f(""), c = f({ content: "", is_root_comment: 0, main_comment_id: 0, main_userid: "", reply_comment_id: 0, token: "", work_id: "", work_type: "" }), r = f(!1); function _(E) { r.value = E, n("sub_msg_ready_ok", r.value) } function d(E) { let T = c.value.content; delete E.content, c.value = E, c.value.content = T } function u(E, L) { Object.keys(l.value).forEach(T => { l.value[T] = !1 }), L && Object.keys(l.value).forEach(T => { T !== E && (l.value[T] = !1) }), l.value[E] = !l.value[E] } function p(E) { a.value = E, c.value.content = E, n("send_reply_msg", c.value) } V(a, () => { }); const m = f(1), x = f(1); function g() { m.value += 3, i() } function k() { x.value += 3 } const y = Ie(() => s.comments.slice(0, m.value)); function v(E) { return E.slice(0, x.value) } function $(E) { console.log(E) } return (E, L) => (h(), w("div", gp, [(h(!0), w(B, null, se(y.value, T => (h(), w("div", { key: T.comment_id, class: "msg_box" }, [o("div", { class: ge(["content", T.is_main ? "" : "is_reply"]) }, [o("div", mp, [o("div", vp, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + T.user_avatar, alt: "avatar" }, null, 8, wp)])]), o("div", yp, [o("div", { class: "username", onClick: N => $(T.userid) }, [o("span", null, S(T.username), 1)], 8, kp), o("div", bp, [o("span", null, S(T.msg_content), 1)]), o("div", $p, [o("span", null, S(T.time), 1), o("div", { class: "like", onClick: N => b(ps)(T.comment_id, "like", s.token, s.work_type, s.work_id) }, [o("img", { class: "icon", src: T.user_is_like_comment[0] ? "https://www.sunyuanling.com/assets/is_hand_like.svg" : "https://www.sunyuanling.com/assets/hand_like.svg", style: { width: "15px", height: "15px" } }, null, 8, Sp)], 8, xp), o("div", Cp, [o("span", null, S(T.like_comment_count), 1)]), o("span", { class: "reply_btn", onClick: N => u(T.comment_id, !0) }, "回复", 8, Tp)]), l.value[T.comment_id] ? (h(), w("div", Ep, [M(gn, { user_avatar_path: s.user_avatar_path, onSend_msg: p, msg_info: { work_id: s.work_id, work_type: s.work_type, token: s.token, is_root_comment: 0, content: b(a), main_userid: T.userid, main_comment_id: T.comment_id, reply_comment_id: T.comment_id }, onMsg_info: d, onSend_ready_ok: _ }, null, 8, ["user_avatar_path", "msg_info"])])) : I("", !0), T.replies.length > 0 ? (h(), w("div", Ap, [(h(!0), w(B, null, se(v(T.replies), N => (h(), w("div", { key: N.comment_id, class: "msg_box is_reply" }, [o("div", Ip, [o("div", Op, [o("div", Np, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + N.user_avatar, alt: "avatar" }, null, 8, jp)])]), o("div", Lp, [o("div", { class: "username", onClick: R => $(N.userid) }, [o("span", null, S(N.username), 1)], 8, Pp), o("div", Up, [o("span", Gp, "@" + S(N.reply_username), 1), o("span", null, S(N.msg_content), 1)]), o("div", Rp, [o("span", null, S(N.time), 1), o("div", { class: "like", onClick: R => b(ps)(N.comment_id, "like", s.token, s.work_type, s.work_id) }, [o("img", { class: "icon", src: N.user_is_like_comment ? "https://www.sunyuanling.com/assets/is_hand_like.svg" : "https://www.sunyuanling.com/assets/hand_like.svg", style: { width: "15px", height: "15px" } }, null, 8, Mp)], 8, Dp), o("div", Fp, [o("span", null, S(N.like_comment_count), 1)]), o("span", { class: "reply_btn", onClick: R => u(N.comment_id, !1) }, "回复", 8, Hp)]), l.value[N.comment_id] ? (h(), w("div", Vp, [M(gn, { user_avatar_path: s.user_avatar_path, onSend_msg: p, msg_info: { work_id: s.work_id, work_type: s.work_type, token: s.token, is_root_comment: 0, content: b(a), main_userid: T.userid, main_comment_id: T.comment_id, reply_comment_id: N.comment_id }, onMsg_info: d, onSend_ready_ok: _ }, null, 8, ["user_avatar_path", "msg_info"])])) : I("", !0)])])]))), 128)), T.replies.length > x.value ? (h(), w("div", zp, [o("span", { onClick: k }, "查看更多")])) : I("", !0)])) : I("", !0)])], 2)]))), 128)), e.comments.length >= m.value ? (h(), w("div", { key: 0, class: "show_more_root_comment", onClick: g }, Wp)) : I("", !0)])) } }, Kp = G(Jp, [["__scopeId", "data-v-77fe6318"]]), Yp = e => (Y("data-v-13b8044e"), e = e(), q(), e), qp = { class: "index" }, Qp = Yp(() => o("div", { class: "title" }, [o("span", null, "评论")], -1)), Xp = { class: "content" }, Zp = { __name: "comment_section", props: { work_type: { type: String, default: "comic" }, work_id: { type: [String, Number], default: 1 }, token: { type: String, default: "" }, user_avatar_path: { type: String, default: "work_like.svg" } }, setup(e) { let t = e, s = f(5), n = f(0); async function i(g) { r.value.content = g, m.value && await yt(t.work_id, t.work_type, c, r.value.send_userid, r.value.is_root_comment, r.value.content, r.value.main_userid, r.value.main_comment_id, r.value.reply_comment_id), m.value = !1 } let l = f(); W(async () => { l.value = await hs(String(t.work_id), t.work_type, t.token) }); async function a() { s.value += 3, l.value = await hs(String(t.work_id), t.work_type, t.token, s.value, n.value) } let c = "sunyuanling", r = f({ work_id: t.work_id, work_type: t.work_type, token: c, send_userid: "", is_root_comment: 1, content: "", main_userid: "f575b4d3-0683-11ef-adf4-00ffc6b98bdb", main_comment_id: 0, reply_comment_id: 0, limit: s.value, offset: n.value }), _ = f(), d = f(!1); async function u(g) { d.value = g, await yt(t.work_id, t.work_type, c, "", _.value.is_root_comment, _.value.content, _.value.main_userid, _.value.main_comment_id, _.value.reply_comment_id) } function p(g) { _.value = g } let m = f(!1); async function x(g) { m.value = g, await yt(t.work_id, t.work_type, c, r.value.send_userid, r.value.is_root_comment, r.value.content, r.value.main_userid, r.value.main_comment_id, r.value.reply_comment_id) } return (g, k) => (h(), w("div", qp, [Qp, o("div", Xp, [M(gn, { onSend_msg: i, user_avatar_path: e.user_avatar_path, msg_info: b(r), onSend_ready_ok: x }, null, 8, ["user_avatar_path", "msg_info"]), b(l) ? (h(), re(Kp, { key: 0, comments: b(l), onGet_more_comment: k[0] || (k[0] = y => a()), work_id: e.work_id, work_type: e.work_type, token: b(c), user_avatar_path: e.user_avatar_path, onSend_reply_msg: p, onSub_msg_ready_ok: u }, null, 8, ["comments", "work_id", "work_type", "token", "user_avatar_path"])) : I("", !0)])])) } }, eg = G(Zp, [["__scopeId", "data-v-13b8044e"]]), tg = e => (Y("data-v-e15e03b0"), e = e(), q(), e), sg = { class: "ill_index", ref: "ill_index" }, og = { key: 0, class: "content" }, ng = { class: "item_box" }, ig = { key: 0, class: "img_box" }, lg = ["src", "onClick"], ag = tg(() => o("div", { class: "show_more_background" }, null, -1)), cg = { key: 0, class: "author_info_box_bottom" }, rg = { class: "comment_section" }, _g = { key: 1, class: "author_info_box" }, ug = { __name: "comic_index", props: { work_id: { type: String, default: "1" } }, setup(e) { const t = ke(), s = f(""), n = f(), i = f(!1), l = f(""); let a = f(1), c = f(null), r = f(null), _ = f(null), d = Ee("token"), u = f(!1), p = f(!1), m = f({ like: "100", collect: "100", watch: "100" }), x = f(JSON.parse(Ee("userinfo")).user_avatar); console.log(x.value); async function g(j) { u.value = j, u.value = await ht(s.value, "add", d, "comic", n.value.name) == 1 } async function k(j) { p.value = j, p.value = await pt(s.value, "add", d, "comic", n.value.name) == 1 } let y = 0; function v(j) { try { if (!r.value || !_.value || !j) return; let _e = window.innerHeight; r.value.getBoundingClientRect().bottom <= _e ? _.value.style.transform = "translateY(100%)" : _.value.style.transform = "translateY(0)", window.addEventListener("scroll", $) } catch (_e) { console.log(_e) } } function $() { if (_.value) { const j = window.scrollY; j > y ? _.value.style.transform = "translateY(100%)" : (_.value.style.transform = "translateY(0)", v(!0)), y = j } } W(() => { v(!0), window.addEventListener("scroll", $) }), $t(() => { window.removeEventListener("scroll", $), v(!1) }); function E() { a.value = n.value.content_file_list.split(/[,，]/).length + 1 } const L = e; V(() => L.work_id, j => { s.value = j }), V(() => t.getters.work_id, j => { s.value = j }), W(async () => { s.value = t.getters.work_id, await T(), await ft(parseInt(s.value), d, "comic", n.value.name), u.value = await ht(s.value, "search", d, "comic", n.value.name) == 1, p.value = await pt(s.value, "search", d, "comic", n.value.name) == 1, m.value.watch = await ft(s.value, d, "comic", n.value.name), m.value.like = await ht(s.value, "count", d, "comic", n.value.name), m.value.collect = await pt(s.value, "count", d, "comic", n.value.name) }), V(s, async () => { await T(), await ft(parseInt(s.value), d, "comic", n.value.name), u.value = await ht(s.value, "search", d, "comic", n.value.name) == 1, p.value = await pt(s.value, "search", d, "comic", n.value.name) == 1, m.value.watch = await ft(s.value, d, "comic", n.value.name), m.value.like = await ht(s.value, "count", d, "comic", n.value.name), m.value.collect = await pt(s.value, "count", d, "comic", n.value.name) }); async function T() { try { const j = await fetch("https://www.sunyuanling.com/api/get_work_info/GetComicinfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ work_id: s.value }) }); if (j.ok) { const _e = await j.json(); _e.status === "success" ? n.value = _e.data[0] : console.log(_e.message) } } catch (j) { console.log(j) } } function N(j) { i.value = !0, l.value = j, t.commit("SET_ITEM_PATH", j) } V(i, j => { j ? document.body.style.overflow = "hidden" : document.body.style.overflow = "" }); function R() { i.value = !1 } async function X(j) { s.value = j.work_id, console.log(s.value), await ft(s.value, d, "comic", n.value.name) } return (j, _e) => (h(), w(B, null, [o("div", sg, [M(Fn), n.value ? (h(), w("div", og, [o("div", ng, [(h(!0), w(B, null, se(n.value.content_file_list.split(/[,，]/), (J, me) => (h(), w("div", { class: "item", key: me }, [me < b(a) ? (h(), w("div", ig, [o("img", { src: "https://www.sunyuanling.com/image/comic/content_thumbnail/" + J, class: "item_img", onClick: ee => N(J) }, null, 8, lg)])) : I("", !0)]))), 128)), b(a) == 1 && n.value.content_file_list.split(/[,，]/).length > 1 ? (h(), w("div", { key: 0, class: "show_more_btn", ref_key: "show_more_btn", ref: c }, [ag, o("span", { onClick: _e[0] || (_e[0] = J => E()) }, "查看全部")], 512)) : I("", !0)]), o("div", { class: "fixed_interaction", ref_key: "fixed_interaction", ref: r }, [M(Zi, { like_status: b(u), collect_status: b(p), onLike_status: g, onCollect_status: k }, null, 8, ["like_status", "collect_status"])], 512), o("div", { class: "float_interaction", ref_key: "float_interaction", ref: _ }, [M(Zi, { like_status: b(u), collect_status: b(p), onLike_status: g, onCollect_status: k }, null, 8, ["like_status", "collect_status"])], 512), M(np, { work_data: b(m), work_create_time: n.value.create_time }, null, 8, ["work_data", "work_create_time"]), n.value ? (h(), w("div", cg, [M(Lh, { author_id: n.value.belong_to_userid, onChose_item: X }, null, 8, ["author_id"])])) : I("", !0), o("div", rg, [(h(), re(eg, { work_type: "comic", token: b(d), work_id: String(s.value), user_avatar_path: b(x), key: s.value }, null, 8, ["token", "work_id", "user_avatar_path"]))])])) : I("", !0), n.value ? (h(), w("div", _g, [M(_h, { author_id: n.value.belong_to_userid, onChose_item: X }, null, 8, ["author_id"])])) : I("", !0)], 512), i.value ? (h(), re(Hn, { key: 0, item_path: l.value, onClose_img_content_page: R }, null, 8, ["item_path"])) : I("", !0)], 64)) } }, dg = G(ug, [["__scopeId", "data-v-e15e03b0"]]), Bn = e => (Y("data-v-55c1891e"), e = e(), q(), e), fg = { key: 0, class: "work_info" }, hg = { class: "content" }, pg = { class: "work_info_item" }, gg = { class: "work_cover" }, mg = ["src"], vg = { class: "author_info" }, wg = { class: "info" }, yg = { class: "title" }, kg = { style: { "font-size": "24px", "font-weight": "bold" } }, bg = { class: "author_name", style: { display: "flex", gap: "10px" } }, $g = { style: { "font-size": "18px", "font-weight": "bold", color: "rgb(133,133,133)" } }, xg = { class: "most_new_chapter" }, Sg = { class: "title" }, Cg = { style: { color: "rgb(133,133,133)" } }, Tg = { class: "work_status" }, Eg = { class: "brief_introduction" }, Ag = { style: { "font-size": "14px", color: "rgb(133,133,133)" } }, Ig = { class: "work_data" }, Og = Bn(() => o("b", null, "万字", -1)), Ng = Bn(() => o("span", null, "点赞", -1)), jg = Bn(() => o("span", null, "收藏", -1)), Lg = { class: "author_box" }, Pg = { class: "author_avatar" }, Ug = ["src"], Gg = { class: "author_name" }, Rg = { __name: "work_info", props: { work_info: { type: Array, default: () => null }, author_info: { type: Object, default: () => null }, word_count: { type: [Number, String], default: 0 } }, setup(e) { return (t, s) => e.work_info && e.author_info.length != 0 ? (h(), w("div", fg, [o("div", hg, [o("div", pg, [o("div", gg, [o("img", { src: "https://www.sunyuanling.com/image/novel/" + e.work_info[0].work_cover }, null, 8, mg)]), o("div", vg, [o("div", wg, [o("div", yg, [o("span", kg, S(e.work_info[0].work_name), 1)]), o("div", bg, [o("span", null, [$e("作者："), o("b", null, S(e.author_info.username), 1)]), o("span", $g, " 最后更新时间：" + S(e.work_info[e.work_info.length - 1].create_time), 1)]), o("div", xg, [o("div", Sg, [o("span", Cg, "最新章节：" + S(e.work_info[e.work_info.length - 1].title), 1)])]), o("div", Tg, [o("span", null, S(e.work_info[0].work_status) + "·" + S(e.work_info[0].is_vip_work == 1 ? "VIP作品" : "免费作品"), 1)]), o("div", Eg, [o("span", Ag, S(e.work_info[0].brief_introduction), 1)]), o("div", Ig, [o("span", null, [$e(S((Math.round(e.word_count / 1e4 * 100) / 100).toFixed(2)) + " ", 1), Og]), Ng, jg])])]), o("div", Lg, [o("div", Pg, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.author_info.user_avatar }, null, 8, Ug)]), o("div", Gg, [o("span", null, S(e.author_info.username), 1)])])])])])) : I("", !0) } }, Dg = G(Rg, [["__scopeId", "data-v-55c1891e"]]), Mg = { class: "directory_page" }, Fg = { class: "content" }, Hg = { class: "item_box" }, Vg = ["onClick"], zg = { __name: "directory_page", props: { work_info: { type: Array, default: () => [] } }, emits: ["get_chapter"], setup(e, { emit: t }) { let s = t; function n(i, l, a) { return s("get_chapter", { belong_to_series_id: i, title: l, index: a }), { belong_to_series_id: i, title: l } } return (i, l) => (h(), w("div", Mg, [o("div", Fg, [o("div", Hg, [(h(!0), w(B, null, se(e.work_info, (a, c) => (h(), w("div", { class: "item", key: c }, [o("div", { class: "item_content", onClick: r => n(a.belong_to_series_id, a.title, c) }, S(a.title), 9, Vg)]))), 128))])])])) } }, Bg = G(zg, [["__scopeId", "data-v-1f5662f9"]]); async function Wg(e, t) { try { const s = await fetch("https://www.sunyuanling.com/api/get_work_info/GetNovelList/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: e, work_id: t }) }); if (s.ok) { const n = await s.json(); if (n.status == "success") return n.data; console.log(n.message) } else console.log("请求失败") } catch (s) { console.log(s) } } async function mn(e, t, s) { try { const n = await fetch("https://www.sunyuanling.com/api/get_work_info/GetNovelContent/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: e, work_id: t, title: s }) }); if (n.ok) { const i = await n.json(); if (i.status == "success") return i.data; console.log(i.message) } else console.log(n.status) } catch (n) { console.log(n) } } const Wn = e => (Y("data-v-0fb54e29"), e = e(), q(), e), Jg = { class: "directory_page" }, Kg = { class: "content" }, Yg = { class: "close_box" }, qg = Wn(() => o("span", null, null, -1)), Qg = Wn(() => o("span", null, "目录", -1)), Xg = Wn(() => o("img", { src: "https://www.sunyuanling.com/assets/close.svg", class: "icon" }, null, -1)), Zg = [Xg], em = { class: "item_box" }, tm = ["onClick"], sm = { __name: "directory_page", props: { work_info: { type: Array, default: () => [] } }, emits: ["get_chapter", "close_page"], setup(e, { emit: t }) { const s = t; function n(l, a, c) { return s("get_chapter", { belong_to_series_id: l, title: a, index: c }), { belong_to_series_id: l, title: a, index: c } } function i() { s("close_page") } return (l, a) => (h(), w("div", Jg, [o("div", Kg, [o("div", Yg, [qg, Qg, o("div", { class: "close_btn", onClick: a[0] || (a[0] = c => i()) }, Zg)]), o("div", em, [(h(!0), w(B, null, se(e.work_info, (c, r) => (h(), w("div", { class: "item", key: r }, [o("div", { class: "item_content", onClick: _ => n(c.belong_to_series_id, c.title, r) }, S(c.title), 9, tm)]))), 128))])])])) } }, om = G(sm, [["__scopeId", "data-v-0fb54e29"]]), Ne = e => (Y("data-v-2e2c05a4"), e = e(), q(), e), nm = { class: "novel_content" }, im = { class: "title" }, lm = ["innerHTML"], am = { class: "right_side" }, cm = Ne(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/left.svg" }, null, -1)), rm = Ne(() => o("span", null, "上一章", -1)), _m = [cm, rm], um = Ne(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/right.svg" }, null, -1)), dm = Ne(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/setting.svg" }, null, -1)), fm = Ne(() => o("span", null, "打开设置", -1)), hm = [dm, fm], pm = Ne(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/more.svg" }, null, -1)), gm = Ne(() => o("span", null, "目录", -1)), mm = [pm, gm], vm = ["src"], wm = { class: "light_mode" }, ym = Ne(() => o("div", { class: "title" }, "设置", -1)), km = { class: "item" }, bm = Ne(() => o("option", { value: "微软雅黑" }, "微软雅黑", -1)), $m = Ne(() => o("option", { value: "黑体" }, "黑体", -1)), xm = Ne(() => o("option", { value: "宋体" }, "宋体", -1)), Sm = Ne(() => o("option", { value: "楷体" }, "楷体", -1)), Cm = [bm, $m, xm, Sm], Tm = { class: "item" }, Em = Ne(() => o("option", { value: "14px" }, "14px", -1)), Am = Ne(() => o("option", { value: "16px" }, "16px", -1)), Im = Ne(() => o("option", { value: "18px" }, "18px", -1)), Om = Ne(() => o("option", { value: "20px" }, "20px", -1)), Nm = Ne(() => o("option", { value: "22px" }, "22px", -1)), jm = Ne(() => o("option", { value: "24px" }, "24px", -1)), Lm = Ne(() => o("option", { value: "26px" }, "26px", -1)), Pm = [Em, Am, Im, Om, Nm, jm, Lm], Um = { class: "item" }, Gm = { class: "item" }, Rm = { class: "item" }, Dm = { key: 1, class: "loading" }, Mm = Ne(() => o("div", { class: "loading_content" }, "加载中...", -1)), Fm = Ne(() => o("img", { src: "https://www.sunyuanling.com/image/loading.gif" }, null, -1)), Hm = [Mm, Fm], Vm = { __name: "novel_content", props: { content: { type: String, default: "" }, title: { type: String, default: "" }, work_info: { type: Array, default: () => [] }, chapter_index: { type: Number, default: 0 } }, setup(e) { const t = e, s = f(!1), n = f("Arial"), i = f("16px"), l = f("#ffffff"), a = f("#000000"), c = f(800), r = f(!1), _ = f(!1), d = f(t.content), u = f(t.title), p = f(t.chapter_index), m = f(null); async function x(L) { d.value = await mn("sunyuanling", L.belong_to_series_id, L.title), u.value = L.title, p.value = L.index } async function g(L) { let T = p.value; T += L, !(T < 0 || T >= t.work_info.length) && (p.value = T, d.value = await mn("sunyuanling", t.work_info[T].belong_to_series_id, t.work_info[T].title), u.value = t.work_info[T].title) } V(t, () => { d.value = t.content, u.value = t.title, p.value = t.chapter_index }); function k(L) { switch (L) { case "setting": s.value = !s.value, _.value = !1; break; case "directory": _.value = !_.value, s.value = !1; break; case "close_all": (_.value || s.value) && (_.value = !1, s.value = !1); break } } const y = L => { m.value && !m.value.contains(L.target) && k("close_all") }, v = () => { r.value = !r.value, $() }, $ = () => { const L = document.body, T = document.documentElement; T.style.setProperty("--fontFamily", n.value), T.style.setProperty("--fontSize", i.value), T.style.setProperty("--backgroundColor", r.value ? "#333" : l.value), T.style.setProperty("--fontColor", r.value ? "#f5f5f5" : a.value), T.style.setProperty("--pageWidth", `${c.value}px`), L.style.backgroundColor = r.value ? "#333" : l.value, L.style.color = r.value ? "#f5f5f5" : a.value }; V([n, i, l, a, c, r], $, { immediate: !0 }), W(() => { document.addEventListener("click", y), document.addEventListener("keydown", E) }), $t(() => { document.removeEventListener("click", y), document.removeEventListener("keydown", E), document.body.style.backgroundColor = "", document.body.style.color = "" }); const E = L => { L.key === "ArrowLeft" ? g(-1) : L.key === "ArrowRight" && g(1) }; return (L, T) => d.value ? (h(), w("div", { key: 0, class: "content", onClick: y }, [o("div", nm, [o("div", im, S(u.value), 1), o("div", { class: "content", innerHTML: d.value }, null, 8, lm), o("div", am, [o("div", { class: "previous_chapter align_center", onClick: T[0] || (T[0] = N => g(-1)) }, _m), o("div", { class: "next_chapter align_center", onClick: T[1] || (T[1] = N => g(1)) }, [um, $e(" 下一章 ")]), o("div", { class: "open_setting align_center", onClick: T[2] || (T[2] = Ki(N => k("setting"), ["stop"])) }, hm), o("div", { class: "directory align_center", onClick: T[3] || (T[3] = Ki(N => k("directory"), ["stop"])) }, mm), o("div", { class: "set_light_mode align_center", onClick: v }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/" + (r.value ? "moon.svg" : "sun.svg") }, null, 8, vm), o("div", wm, S(r.value ? "夜间模式" : "日间模式"), 1)]), _.value ? (h(), re(om, { key: 0, work_info: e.work_info, onGet_chapter: x, onClose_page: T[4] || (T[4] = N => k("close_all")) }, null, 8, ["work_info"])) : I("", !0), M(Ms, { name: "fade" }, { default: yo(() => [s.value ? (h(), w("div", { key: 0, class: "font_setting", ref_key: "settingsMenu", ref: m }, [ym, o("div", km, [$e(" 字体 "), ue(o("select", { "onUpdate:modelValue": T[5] || (T[5] = N => n.value = N), onChange: $ }, Cm, 544), [[Wi, n.value]])]), o("div", Tm, [$e(" 字号 "), ue(o("select", { "onUpdate:modelValue": T[6] || (T[6] = N => i.value = N), onChange: $ }, Pm, 544), [[Wi, i.value]])]), o("div", Um, [$e(" 背景 "), ue(o("input", { type: "color", "onUpdate:modelValue": T[7] || (T[7] = N => l.value = N), onInput: $ }, null, 544), [[Oe, l.value]])]), o("div", Gm, [$e(" 阅读页面宽度 "), ue(o("input", { type: "range", "onUpdate:modelValue": T[8] || (T[8] = N => c.value = N), min: "500", max: "1200", step: "100", onInput: $ }, null, 544), [[Oe, c.value]])]), o("div", Rm, [$e(" 字体颜色 "), ue(o("input", { type: "color", "onUpdate:modelValue": T[9] || (T[9] = N => a.value = N), onInput: $ }, null, 544), [[Oe, a.value]])])], 512)) : I("", !0)]), _: 1 })])])])) : d.value ? I("", !0) : (h(), w("div", Dm, Hm)) } }, zm = G(Vm, [["__scopeId", "data-v-2e2c05a4"]]), Bm = e => (Y("data-v-e929245f"), e = e(), q(), e), Wm = { key: 0, class: "novel_conteng_page" }, Jm = { key: 0, class: "novel_brief_introduction" }, Km = { class: "work_info" }, Ym = { class: "directory_page" }, qm = { key: 1, class: "novel_content" }, Qm = { key: 1, class: "wait" }, Xm = Bm(() => o("div", { class: "wait_text" }, [o("p", null, "正在加载中")], -1)), Zm = [Xm], ev = { __name: "novel_content_page", props: { work_id: { type: [String, Number], default: "10" }, token: { type: String, default: "" } }, setup(e) { let t = e, s = f(), n = f(), i = f(), l = f(), a = f(), c = f(""), r = f(!0), _ = f(!1), d = f(0); W(async () => { s.value = await Wg(t.token, t.work_id), n.value = s.value.author_info, i.value = s.value.work_list, l.value = s.value.word_count, console.log(t) }); async function u(p) { a.value = await mn("sunyuanling", p.belong_to_series_id, p.title), c.value = p.title, d.value = p.index, r.value = !1, _.value = !0 } return (p, m) => b(s) ? (h(), w("div", Wm, [b(r) ? (h(), w("div", Jm, [o("div", Km, [M(Dg, { work_info: b(i), author_info: b(n), word_count: b(l) }, null, 8, ["work_info", "author_info", "word_count"])]), o("div", Ym, [M(Bg, { work_info: b(i), onGet_chapter: u }, null, 8, ["work_info"])])])) : I("", !0), b(_) ? (h(), w("div", qm, [M(zm, { content: b(a), title: b(c), work_info: b(i), chapter_index: b(d) }, null, 8, ["content", "title", "work_info", "chapter_index"])])) : I("", !0)])) : b(s) ? I("", !0) : (h(), w("div", Qm, Zm)) } }, tv = G(ev, [["__scopeId", "data-v-e929245f"]]), sv = ["maxlength", "rows", "placeholder"], ov = { __name: "auto_textarea", props: { modelValue: { type: String, default: "" }, maxlength: { type: Number, default: 3e3 }, rows: { type: Number, default: 1 }, placeholder: { type: String, default: "发表一条友善的评论" }, initialWidth: { type: String, default: "100%" }, initialHeight: { type: String, default: "auto" }, allowResizeWidth: { type: Boolean, default: !1 }, allowResizeHeight: { type: Boolean, default: !1 }, fontsize: { type: Number, default: 16 }, lineheight: { type: Number, default: 1.5 } }, emits: ["update:modelValue"], setup(e, { emit: t }) { const s = t, n = e, i = f(null), l = f(n.modelValue), a = () => { i.value && (i.value.style.height = "auto", i.value.style.height = `${i.value.scrollHeight}px`) }; return V(() => n.modelValue, c => { l.value = c, a() }), V(() => l.value, c => { s("update:modelValue", c), a() }), W(() => { a() }), (c, r) => ue((h(), w("textarea", { ref_key: "textarea", ref: i, maxlength: e.maxlength, rows: e.rows, placeholder: e.placeholder, style: st({ width: e.initialWidth, height: e.initialHeight, resize: e.allowResizeWidth && e.allowResizeHeight ? "both" : e.allowResizeHeight ? "vertical" : "none", fontSize: e.fontsize + "px", lineHeight: e.lineheight }), "onUpdate:modelValue": r[0] || (r[0] = _ => l.value = _), onInput: a }, null, 44, sv)), [[Oe, l.value]]) } }, nv = G(ov, [["__scopeId", "data-v-4a8366ec"]]), iv = e => (Y("data-v-ecdf14a7"), e = e(), q(), e), lv = { class: "send_msg_box" }, av = { class: "user_avatar" }, cv = ["src"], rv = iv(() => o("span", null, "发送", -1)), _v = [rv], uv = { __name: "send_msg_box", props: { user_avatar_path: { type: String, default: "work_like.svg" }, msg_info: { type: Object, default: () => ({ work_id: "", work_type: "", token: "", send_userid: "", is_root_comment: "", content: "", main_userid: "", main_comment_id: "", reply_comment_id: "" }) } }, emits: ["send_msg", "msg_info", "send_ready_ok"], setup(e, { emit: t }) { const s = e, n = t; let i = f(""); const l = async () => { n("send_msg", i.value), n("msg_info", s.msg_info), n("send_ready_ok", !0), i.value = "" }; return V(i, () => { i.value != "" && i.value && (n("send_msg", i.value), n("msg_info", s.msg_info)) }), (a, c) => (h(), w("div", lv, [o("div", av, [o("img", { class: "avatar_img", src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.user_avatar_path }, null, 8, cv)]), M(nv, { modelValue: b(i), "onUpdate:modelValue": c[0] || (c[0] = r => de(i) ? i.value = r : i = r) }, null, 8, ["modelValue"]), o("div", { class: "send_btn", onClick: l }, _v)])) } }, vn = G(uv, [["__scopeId", "data-v-ecdf14a7"]]), dv = e => (Y("data-v-c09e10ad"), e = e(), q(), e), fv = { class: "comments-section" }, hv = { class: "user_info" }, pv = { class: "avatar" }, gv = ["src"], mv = { class: "msg_content" }, vv = ["onClick"], wv = { class: "msg_text" }, yv = { class: "msg_time" }, kv = ["onClick"], bv = ["src"], $v = { class: "like_count" }, xv = ["onClick"], Sv = { key: 0, class: "reply_box" }, Cv = { key: 1 }, Tv = { class: "content" }, Ev = { class: "user_info" }, Av = { class: "avatar" }, Iv = ["src"], Ov = { class: "msg_content" }, Nv = ["onClick"], jv = { class: "msg_text" }, Lv = { style: { "margin-right": "10px", color: "rgba(0,150,250,1)", cursor: "pointer" } }, Pv = { class: "msg_time" }, Uv = ["onClick"], Gv = ["src"], Rv = { class: "like_count" }, Dv = ["onClick"], Mv = { key: 0, class: "reply_box" }, Fv = { key: 0, class: "show_more_sub_comment" }, Hv = dv(() => o("span", null, "查看更多", -1)), Vv = [Hv], zv = { __name: "msg_box", props: { comments: { type: Array, default: () => [] }, work_id: { type: String, default: "1" }, work_type: { type: String, default: "comic" }, token: { type: String, default: "" }, user_avatar_path: { type: String, default: "work_like.svg" } }, emits: ["get_more_comment", "send_reply_msg", "sub_msg_ready_ok"], setup(e, { emit: t }) { const s = e; let n = t; function i() { n("get_more_comment") } const l = f({}); let a = f(""), c = f({ content: "", is_root_comment: 0, main_comment_id: 0, main_userid: "", reply_comment_id: 0, token: "", work_id: "", work_type: "" }), r = f(!1); function _(E) { r.value = E, n("sub_msg_ready_ok", r.value) } function d(E) { let T = c.value.content; delete E.content, c.value = E, c.value.content = T } function u(E, L) { Object.keys(l.value).forEach(T => { l.value[T] = !1 }), L && Object.keys(l.value).forEach(T => { T !== E && (l.value[T] = !1) }), l.value[E] = !l.value[E] } function p(E) { a.value = E, c.value.content = E, n("send_reply_msg", c.value) } V(a, () => { }); const m = f(1), x = f(1); function g() { m.value += 3, i() } function k() { x.value += 3 } const y = Ie(() => s.comments.slice(0, m.value)); function v(E) { return E.slice(0, x.value) } function $(E) { console.log(E) } return (E, L) => (h(), w("div", fv, [(h(!0), w(B, null, se(y.value, T => (h(), w("div", { key: T.comment_id, class: "msg_box" }, [o("div", { class: ge(["content", T.is_main ? "" : "is_reply"]) }, [o("div", hv, [o("div", pv, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + T.user_avatar, alt: "avatar" }, null, 8, gv)])]), o("div", mv, [o("div", { class: "username", onClick: N => $(T.userid) }, [o("span", null, S(T.username), 1)], 8, vv), o("div", wv, [o("span", null, S(T.msg_content), 1)]), o("div", yv, [o("span", null, S(T.time), 1), o("div", { class: "like", onClick: N => b(ps)(T.comment_id, "like", s.token, s.work_type, s.work_id) }, [o("img", { class: "icon", src: T.user_is_like_comment[0] ? "https://www.sunyuanling.com/assets/is_hand_like.svg" : "https://www.sunyuanling.com/assets/hand_like.svg", style: { width: "15px", height: "15px" } }, null, 8, bv)], 8, kv), o("div", $v, [o("span", null, S(T.like_comment_count), 1)]), o("span", { class: "reply_btn", onClick: N => u(T.comment_id, !0) }, "回复", 8, xv)]), l.value[T.comment_id] ? (h(), w("div", Sv, [M(vn, { user_avatar_path: s.user_avatar_path, onSend_msg: p, msg_info: { work_id: s.work_id, work_type: s.work_type, token: s.token, is_root_comment: 0, content: b(a), main_userid: T.userid, main_comment_id: T.comment_id, reply_comment_id: T.comment_id }, onMsg_info: d, onSend_ready_ok: _ }, null, 8, ["user_avatar_path", "msg_info"])])) : I("", !0), T.replies.length > 0 ? (h(), w("div", Cv, [(h(!0), w(B, null, se(v(T.replies), N => (h(), w("div", { key: N.comment_id, class: "msg_box is_reply" }, [o("div", Tv, [o("div", Ev, [o("div", Av, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + N.user_avatar, alt: "avatar" }, null, 8, Iv)])]), o("div", Ov, [o("div", { class: "username", onClick: R => $(N.userid) }, [o("span", null, S(N.username), 1)], 8, Nv), o("div", jv, [o("span", Lv, "@" + S(N.reply_username), 1), o("span", null, S(N.msg_content), 1)]), o("div", Pv, [o("span", null, S(N.time), 1), o("div", { class: "like", onClick: R => b(ps)(N.comment_id, "like", s.token, s.work_type, s.work_id) }, [o("img", { class: "icon", src: N.user_is_like_comment ? "https://www.sunyuanling.com/assets/is_hand_like.svg" : "https://www.sunyuanling.com/assets/hand_like.svg", style: { width: "15px", height: "15px" } }, null, 8, Gv)], 8, Uv), o("div", Rv, [o("span", null, S(N.like_comment_count), 1)]), o("span", { class: "reply_btn", onClick: R => u(N.comment_id, !1) }, "回复", 8, Dv)]), l.value[N.comment_id] ? (h(), w("div", Mv, [M(vn, { user_avatar_path: s.user_avatar_path, onSend_msg: p, msg_info: { work_id: s.work_id, work_type: s.work_type, token: s.token, is_root_comment: 0, content: b(a), main_userid: T.userid, main_comment_id: T.comment_id, reply_comment_id: N.comment_id }, onMsg_info: d, onSend_ready_ok: _ }, null, 8, ["user_avatar_path", "msg_info"])])) : I("", !0)])])]))), 128)), T.replies.length > x.value ? (h(), w("div", Fv, [o("span", { onClick: k }, "查看更多")])) : I("", !0)])) : I("", !0)])], 2)]))), 128)), e.comments.length >= m.value ? (h(), w("div", { key: 0, class: "show_more_root_comment", onClick: g }, Vv)) : I("", !0)])) } }, Bv = G(zv, [["__scopeId", "data-v-c09e10ad"]]), Wv = e => (Y("data-v-bfa55b53"), e = e(), q(), e), Jv = { class: "index" }, Kv = Wv(() => o("div", { class: "title" }, [o("span", null, "评论")], -1)), Yv = { class: "content" }, qv = { __name: "comment_section", props: { work_type: { type: String, default: "novel" }, work_id: { type: [String, Number], default: 1 }, token: { type: String, default: "" }, user_avatar_path: { type: String, default: "work_like.svg" } }, setup(e) { let t = e, s = f(5), n = f(0); async function i(g) { r.value.content = g, m.value && await yt(t.work_id, t.work_type, c, r.value.send_userid, r.value.is_root_comment, r.value.content, r.value.main_userid, r.value.main_comment_id, r.value.reply_comment_id), m.value = !1 } let l = f(); W(async () => { l.value = await hs(String(t.work_id), t.work_type, t.token) }); async function a() { s.value += 3, l.value = await hs(String(t.work_id), t.work_type, t.token, s.value, n.value) } let c = "sunyuanling", r = f({ work_id: t.work_id, work_type: t.work_type, token: c, send_userid: "", is_root_comment: 1, content: "", main_userid: "f575b4d3-0683-11ef-adf4-00ffc6b98bdb", main_comment_id: 0, reply_comment_id: 0, limit: s.value, offset: n.value }), _ = f(), d = f(!1); async function u(g) { d.value = g, await yt(t.work_id, t.work_type, c, "", _.value.is_root_comment, _.value.content, _.value.main_userid, _.value.main_comment_id, _.value.reply_comment_id) } function p(g) { _.value = g } let m = f(!1); async function x(g) { m.value = g, await yt(t.work_id, t.work_type, c, r.value.send_userid, r.value.is_root_comment, r.value.content, r.value.main_userid, r.value.main_comment_id, r.value.reply_comment_id) } return (g, k) => (h(), w("div", Jv, [Kv, o("div", Yv, [M(vn, { onSend_msg: i, user_avatar_path: e.user_avatar_path, msg_info: b(r), onSend_ready_ok: x }, null, 8, ["user_avatar_path", "msg_info"]), b(l) ? (h(), re(Bv, { key: 0, comments: b(l), onGet_more_comment: k[0] || (k[0] = y => a()), work_id: e.work_id, work_type: e.work_type, token: b(c), user_avatar_path: e.user_avatar_path, onSend_reply_msg: p, onSub_msg_ready_ok: u }, null, 8, ["comments", "work_id", "work_type", "token", "user_avatar_path"])) : I("", !0)])])) } }, Qv = G(qv, [["__scopeId", "data-v-bfa55b53"]]), Xv = { class: "novel_index" }, Zv = { __name: "novel_index", props: { work_id: { type: String, default: "10" } }, setup(e) { const t = Ee("token"), s = ke(); let n = f(JSON.parse(Ee("userinfo")).user_avatar); const i = e, l = f(i.work_id); return V(() => i.work_id, a => { l.value = a }), V(() => s.getters.work_id, a => { l.value = a }), W(() => { l.value = s.getters.work_id }), (a, c) => (h(), w("div", Xv, [M(Fn), M(tv, { work_id: l.value, token: b(t) }, null, 8, ["work_id", "token"]), M(Qv, { work_id: l.value.toString(), token: b(t), work_type: "novel", user_avatar_path: b(n) }, null, 8, ["work_id", "token", "user_avatar_path"])])) } }, ew = G(Zv, [["__scopeId", "data-v-2153b88d"]]), tw = { class: "content_index_page" }, sw = { __name: "content_index_page", setup(e) { const t = ke(); let s = Ie(() => t.getters.ill_page), n = Ie(() => t.getters.comic_page), i = Ie(() => t.getters.novel_page), l = Ie(() => t.getters.img_content_page); return (a, c) => (h(), w("div", tw, [b(s) ? (h(), re(Mf, { key: 0 })) : I("", !0), b(n) ? (h(), re(dg, { key: 1 })) : I("", !0), b(i) ? (h(), re(ew, { key: 2 })) : I("", !0), b(l) ? (h(), re(Hn, { key: 3 })) : I("", !0)])) } }; async function ow(e) { try { const t = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json", Authorization: "Bearer " + e }, body: JSON.stringify({ token: e }) }); if (t.ok) { const s = await t.json(); if (s.status == "success") return s.data; console.log(s.message) } else console.log(t.status) } catch (t) { console.log(t) } } async function nw(e, t, s) { let n = new FormData; n.append("files", e), n.append("data", JSON.stringify(s)), n.append("token", t); try { const i = await fetch("https://www.sunyuanling.com/api/update/UpdateUserBack/", { method: "POST", body: n }); if (!i.ok) { console.error("HTTP error:", i.status, i.statusText); const a = await i.json(); return a.status === "file_error" && (alert(a.message), console.log(a.message), alert("上传失败，请重试")), !1 } const l = await i.json(); return l.status === "success" ? !0 : l.status === "file_error" ? (alert(l.message), console.log(l.message), alert("上传失败，请重试"), !1) : (console.error("Upload failed:", l.message), !1) } catch (i) { return console.error("Error:", i), !1 } } async function iw(e) { try { const t = await fetch("https://www.sunyuanling.com/api/update/DeleteUserBack/", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: e }) }); if (t.ok) { const s = await t.json(); return s.status === "success" ? !0 : (console.error("Upload failed:", s.message), !1) } } catch (t) { console.error("Error:", t) } } async function lw(e, t, s) { let n = new FormData; n.append("token", e), n.append("files", s), console.log(s), n.append("data", t), console.log(n); try { const i = await fetch("https://www.sunyuanling.com/api/update/UpdateUserInfo/", { method: "POST", body: n }); if (i.ok) { const l = await i.json(); return l.status === "success" ? (alert(l.message), !0) : (console.log(l.message), !1) } else { const l = await i.json(); if (l.status === "file_error") return alert(l.message), !1 } } catch (i) { console.log(i) } } async function aw(e, t) { try { const s = await fetch("https://www.sunyuanling.com/api/update/UpdateUserSelectWork/", { method: "POST", headers: { "Content-Type": "application/json", Authorization: "Bearer " + e }, body: JSON.stringify({ select_work: t, token: e }) }); return s.ok && (await s.json()).status === "success" ? !0 : "更新失败" } catch (s) { console.log(s) } } async function el(e, t, s, n, i) { try { const l = await fetch("https://www.sunyuanling.com/api/update/UpdateUserCollect/", { method: "POST", headers: { "Content-Type": "application/json", Authorization: "Bearer " + e }, body: JSON.stringify({ token: e, collect_id: t, work_type: s, operate: n, open_operate: i }) }); if (l.ok) { const a = await l.json(); return a.status == "success" ? (console.log(a.message), !0) : (console.log(a.message), !1) } else return console.log(l.status), (await l.json()).message } catch (l) { console.log(l) } } const ms = e => (Y("data-v-d67ce23a"), e = e(), q(), e), cw = { class: "edit_box" }, rw = { class: "content" }, _w = { class: "title" }, uw = ms(() => o("span", null, null, -1)), dw = ms(() => o("span", null, "封面设置", -1)), fw = ms(() => o("img", { src: "https://www.sunyuanling.com/assets/close.svg", class: "icon" }, null, -1)), hw = [fw], pw = { class: "img_box" }, gw = ["src"], mw = ms(() => o("img", { src: "https://www.sunyuanling.com/assets/image.svg" }, null, -1)), vw = xo('<div class="tips_box" data-v-d67ce23a><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>适用格式：</span><span data-v-d67ce23a>.jpg .png .jpeg .webp</span></div><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>最大容量：</span><span data-v-d67ce23a>8M以内</span></div><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>建议尺寸：</span><span data-v-d67ce23a>1920*1080</span></div><div class="tips" data-v-d67ce23a><span data-v-d67ce23a>最大尺寸：</span><span data-v-d67ce23a>4096*4096</span></div></div><div class="tips_box" style="flex-direction:row;" data-v-d67ce23a><div class="tips" data-v-d67ce23a><img src="https://www.sunyuanling.com/assets/info.svg" class="icon" data-v-d67ce23a><span data-v-d67ce23a>根据您上传的图片及设备显示不同，图片四周有可能会显示不全。</span></div></div><span style="width:90%;margin:0px auto;font-size:14px;color:rgb(133,133,133);" data-v-d67ce23a> 请不要上传R-18或使用规则中禁止投稿的作品。如果您上传了相关图片，设置可能会被清除。 </span>', 3), ww = { class: "btn_box" }, yw = ms(() => o("span", null, "同意上传", -1)), kw = [yw], bw = ms(() => o("span", null, "取消", -1)), $w = [bw], xw = { __name: "edit_box", props: { token: { type: String, default: "" }, user_back_img: { type: String, default: "" } }, emits: ["close_page"], setup(e, { emit: t }) { const s = e, n = t, i = f(s.user_back_img), l = f(null); let a = f(); function c() { n("close_page", !1) } function r() { l.value.click() } function _(u) { const p = u.target.files[0]; if (p) { const m = new FileReader; m.onload = x => { i.value = x.target.result }, m.readAsDataURL(p) } a.value = p } async function d() { let u = { token: s.token }; await nw(a.value, s.token, u) ? c() : alert("上传失败") } return (u, p) => (h(), w("div", cw, [o("div", rw, [o("div", _w, [uw, dw, o("div", { class: "close_btn", onClick: p[0] || (p[0] = m => c()) }, hw)]), o("div", pw, [o("img", { src: i.value, class: "user_background_img" }, null, 8, gw), o("div", { class: "upload_img", onClick: p[1] || (p[1] = m => r()) }, [mw, o("input", { type: "file", accept: "image/*", ref_key: "upload_img", ref: l, style: { display: "none" }, onChange: _ }, null, 544)])]), vw, o("div", ww, [o("div", { class: "sure_btn btn", onClick: p[2] || (p[2] = m => d()) }, kw), o("div", { class: "cancel btn", onClick: p[3] || (p[3] = m => c()) }, $w)])])])) } }, Sw = G(xw, [["__scopeId", "data-v-d67ce23a"]]), ya = e => (Y("data-v-4c57662b"), e = e(), q(), e), Cw = { class: "user_background" }, Tw = { class: "content" }, Ew = ["src"], Aw = { class: "edit_btn_box" }, Iw = ya(() => o("img", { src: "https://www.sunyuanling.com/assets/edit.svg", class: "icon" }, null, -1)), Ow = [Iw], Nw = ya(() => o("img", { src: "https://www.sunyuanling.com/assets/delete.svg", class: "icon" }, null, -1)), jw = [Nw], Lw = { __name: "user_background", props: { user_back_img: { type: String, default: "" }, token: { type: String, default: "" } }, setup(e) { const t = e; let s = f(!1); function n() { window.confirm("确定删除背景图片吗？") && iw(t.token) } return (i, l) => (h(), w("div", Cw, [o("div", Tw, [o("img", { src: e.user_back_img, class: "user_background_img" }, null, 8, Ew), o("div", Aw, [o("div", { class: "edit_btn btn", onClick: l[0] || (l[0] = a => de(s) ? s.value = !0 : s = !0) }, Ow), o("div", { class: "delete_btn btn", onClick: n }, jw)])]), b(s) ? (h(), re(Sw, { key: 0, user_back_img: e.user_back_img, token: e.token, onClose_page: l[1] || (l[1] = a => de(s) ? s.value = !1 : s = !1) }, null, 8, ["user_back_img", "token"])) : I("", !0)])) } }, ka = G(Lw, [["__scopeId", "data-v-4c57662b"]]), Eo = e => (Y("data-v-af69538f"), e = e(), q(), e), Pw = { class: "more_info_box" }, Uw = { class: "content" }, Gw = { class: "title" }, Rw = Eo(() => o("span", null, null, -1)), Dw = Eo(() => o("span", null, "个人信息", -1)), Mw = Eo(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg", alt: "关闭" }, null, -1)), Fw = [Mw], Hw = { class: "user_avatar" }, Vw = ["src"], zw = { class: "address" }, Bw = Eo(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/location.svg", alt: "地址图标" }, null, -1)), Ww = { class: "sex" }, Jw = { class: "age" }, Kw = { class: "birthday" }, Yw = { __name: "more_info_box", props: { user_info: { type: Object, default: () => ({}) } }, emits: ["close_page"], setup(e, { emit: t }) { const s = e, n = t, i = f(""), l = f(""); function a() { n("close_page", !1) } function c(_) { const d = new Date, u = new Date(_); let p = d.getFullYear() - u.getFullYear(); const m = d.getMonth() - u.getMonth(); return (m < 0 || m === 0 && d.getDate() < u.getDate()) && p--, p } function r(_) { const d = [{ regex: /^\d{4}年\d{1,2}月\d{1,2}日$/, format: "YYYY年MM月DD日" }, { regex: /^\d{4}\/\d{1,2}\/\d{1,2}$/, format: "YYYY/MM/DD" }, { regex: /^\d{4}-\d{1,2}-\d{1,2}$/, format: "YYYY-MM-DD" }, { regex: /^\d{4}-\d{1,2}-\d{1,2}T\d{1,2}:\d{2}:\d{2}$/, format: "YYYY-MM-DDTHH:mm:ss" }]; for (const { regex: u, format: p } of d) if (u.test(_)) return _; return "未知格式" } return W(() => { s.user_info.birthday && (l.value = r(s.user_info.birthday), i.value = c(s.user_info.birthday)) }), (_, d) => (h(), w("div", Pw, [o("div", Uw, [o("div", Gw, [Rw, Dw, o("div", { class: "close_btn btn", onClick: d[0] || (d[0] = u => a()) }, Fw)]), o("div", Hw, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.user_info.user_avatar, alt: "用户头像" }, null, 8, Vw)]), o("div", zw, [Bw, o("span", null, S(e.user_info.user_address), 1)]), o("div", Ww, [o("span", null, "性别: " + S(e.user_info.sex), 1)]), o("div", Jw, [o("span", null, "年龄: " + S(i.value), 1)]), o("div", Kw, [o("span", null, "生日: " + S(l.value), 1)])])])) } }, qw = G(Yw, [["__scopeId", "data-v-af69538f"]]), Qw = ["maxlength", "rows", "placeholder"], Xw = { __name: "auto_textarea", props: { modelValue: { type: String, default: "" }, maxlength: { type: Number, default: 3e3 }, rows: { type: Number, default: 4 }, placeholder: { type: String, default: "自动文本框" }, initialWidth: { type: String, default: "100%" }, initialHeight: { type: String, default: "auto" }, allowResizeWidth: { type: Boolean, default: !1 }, allowResizeHeight: { type: Boolean, default: !0 }, fontsize: { type: Number, default: 16 }, lineheight: { type: Number, default: 1.5 } }, emits: ["update:modelValue"], setup(e, { emit: t }) { const s = t, n = e, i = f(null), l = f(n.modelValue), a = () => { i.value && (i.value.style.height = "auto", i.value.style.height = `${i.value.scrollHeight}px`) }; return V(() => n.modelValue, c => { l.value = c, a() }), V(() => l.value, c => { s("update:modelValue", c), a() }), W(() => { a() }), (c, r) => ue((h(), w("textarea", { ref_key: "textarea", ref: i, maxlength: e.maxlength, rows: e.rows, placeholder: e.placeholder, style: st({ width: e.initialWidth, height: e.initialHeight, resize: e.allowResizeWidth && e.allowResizeHeight ? "both" : e.allowResizeHeight ? "vertical" : "none", fontSize: e.fontsize + "px", lineHeight: e.lineheight }), "onUpdate:modelValue": r[0] || (r[0] = _ => l.value = _), onInput: a }, null, 44, Qw)), [[Oe, l.value]]) } }, Zw = G(Xw, [["__scopeId", "data-v-837771fc"]]), e1 = { class: "select_title" }, t1 = ["src"], s1 = ["src"], o1 = { key: 0, class: "select_list" }, n1 = ["onClick"], i1 = { class: "select_item_text" }, l1 = ["src"], a1 = { __name: "select", props: { modelValue: { type: String, default: "" }, select_title: { type: String, default: "新建系列" }, select_list: { type: Array, default: () => ["新建系列"] }, drop_down_icon_path: { type: String, default: "https://www.sunyuanling.com/assets/drop_down.svg" }, drop_up_icon_path: { type: String, default: "https://www.sunyuanling.com/assets/drop_up.svg" }, select_item_check: { type: String, default: "https://www.sunyuanling.com/assets/correct.svg" } }, emits: ["update:modelValue", "select-item"], setup(e, { emit: t }) { const s = e, n = f(s.drop_down_icon_path), i = f(s.drop_up_icon_path), l = f(s.select_title), a = f(s.select_list), c = f(s.select_item_check), r = f(!1), _ = f(s.modelValue), d = f(!1), u = t; V(_, v => { v !== s.modelValue && u("update:modelValue", v) }), V(() => s.select_title, v => { l.value = v }), V(() => s.select_list, v => { a.value = v }), V(() => s.drop_down_icon_path, v => { n.value = v }), V(() => s.drop_up_icon_path, v => { i.value = v }), V(() => s.select_item_check, v => { c.value = v }); function p() { r.value = !r.value } function m(v, $) { $.stopPropagation(), _.value = v, l.value = v, r.value = !1 } function x() { d.value = !0 } function g(v) { d.value || (r.value = !1), d.value = !1 } document.addEventListener("click", g), $t(() => { document.removeEventListener("click", g) }); function k(v) { v.style.maxHeight = "none", v.style.opacity = "1" } function y(v) { v.style.maxHeight = "0", v.style.opacity = "0" } return W(() => { n.value = s.drop_down_icon_path, i.value = s.drop_up_icon_path, l.value = s.select_title, a.value = s.select_list, c.value = s.select_item_check }), (v, $) => (h(), w("div", { class: "select_box", onClick: x }, [o("div", { class: "select", onClick: p }, [o("span", e1, S(l.value), 1), r.value ? (h(), w("img", { key: 1, class: "drop_down", src: i.value }, null, 8, s1)) : (h(), w("img", { key: 0, class: "drop_down", src: n.value }, null, 8, t1))]), M(Ms, { name: "select-list", onAfterEnter: k, onAfterLeave: y }, { default: yo(() => [r.value ? (h(), w("div", o1, [(h(!0), w(B, null, se(a.value, (E, L) => (h(), w("div", { class: "select_item", key: L, onClick: T => m(E, T) }, [o("span", i1, S(E), 1), _.value === E ? (h(), w("img", { key: 0, class: "select_item_check", src: c.value }, null, 8, l1)) : I("", !0)], 8, n1))), 128))])) : I("", !0)]), _: 1 })])) } }, c1 = G(a1, [["__scopeId", "data-v-f302d91e"]]), Ke = e => (Y("data-v-ab37d22a"), e = e(), q(), e), r1 = { class: "edit_info_box" }, _1 = { class: "content" }, u1 = Ke(() => o("span", null, null, -1)), d1 = Ke(() => o("span", { style: { "font-weight": "bold", "font-size": "18px" } }, "修改个人信息", -1)), f1 = Ke(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg", alt: "关闭" }, null, -1)), h1 = [f1], p1 = { class: "user_background" }, g1 = Ke(() => o("span", { class: "b" }, "个人头像", -1)), m1 = { class: "avatar" }, v1 = ["src"], w1 = Ke(() => o("img", { src: "https://www.sunyuanling.com/assets/image.svg" }, null, -1)), y1 = [w1], k1 = Ke(() => o("span", { class: "b" }, "用户名", -1)), b1 = { class: "username" }, $1 = Ke(() => o("span", { class: "b" }, "自我介绍", -1)), x1 = { class: "introduce focus" }, S1 = Ke(() => o("span", { class: "b" }, "个人网站", -1)), C1 = { class: "person_website" }, T1 = Ke(() => o("span", { class: "b" }, "性别", -1)), E1 = { class: "sex" }, A1 = Ke(() => o("span", { class: "b" }, "地址", -1)), I1 = { class: "address" }, O1 = Ke(() => o("span", { class: "b" }, "生日", -1)), N1 = { class: "birthday" }, j1 = { class: "btn_box" }, L1 = Ke(() => o("span", null, "确定", -1)), P1 = [L1], U1 = Ke(() => o("span", null, "取消", -1)), G1 = [U1], R1 = { __name: "edit_info_box", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, emits: ["close_page"], setup(e, { emit: t }) { const s = e, n = t, i = f({ ...s.user_info }), l = f(`https://www.sunyuanling.com/image/avatar_thumbnail/${i.value.user_avatar}`), a = f(); V(() => s.user_info, p => { i.value = { ...p }, l.value = `https://www.sunyuanling.com/image/avatar_thumbnail/${p.user_avatar}` }); function c(p) { i.value.birthday = p.target.value } function r() { const p = document.querySelector('input[type="file"]'); p == null || p.click() } function _(p) { const m = p.target.files[0]; if (m) { const x = URL.createObjectURL(m); l.value = x, i.value.avatar_file = m } a.value = m } async function d() { let p = {}; p.token = s.token, p.username = i.value.username, p.user_self_introduction = i.value.user_self_introduction, p.user_address = i.value.user_address, p.user_self_website = i.value.user_self_website, p.sex = i.value.sex, p.birthday = i.value.birthday, p = JSON.stringify(p), console.log(p), await lw(s.token, p, a.value) ? u() : alert("上传失败") } function u() { n("close_page") } return (p, m) => (h(), w("div", r1, [o("div", _1, [o("div", { class: "title" }, [u1, d1, o("div", { class: "close_btn btn", onClick: u }, h1)]), o("div", p1, [M(ka, { user_back_img: "https://www.sunyuanling.com/image/" + i.value.user_back_img }, null, 8, ["user_back_img"])]), g1, o("div", m1, [o("img", { src: l.value, ref: "avatar_img", alt: "用户头像" }, null, 8, v1), o("div", { class: "upload_avatar", onClick: r }, y1), o("input", { type: "file", accept: "image/*", ref: "upload_img", onChange: _, style: { display: "none" } }, null, 544)]), k1, o("div", b1, [ue(o("input", { type: "text", placeholder: "用户名", "onUpdate:modelValue": m[0] || (m[0] = x => i.value.username = x), class: "focus" }, null, 512), [[Oe, i.value.username]])]), $1, o("div", x1, [M(Zw, { modelValue: i.value.user_self_introduction, "onUpdate:modelValue": m[1] || (m[1] = x => i.value.user_self_introduction = x) }, null, 8, ["modelValue"])]), S1, o("div", C1, [ue(o("input", { type: "text", placeholder: "个人网站", "onUpdate:modelValue": m[2] || (m[2] = x => i.value.user_self_website = x), class: "focus" }, null, 512), [[Oe, i.value.user_self_website]])]), T1, o("div", E1, [M(c1, { modelValue: i.value.sex, "onUpdate:modelValue": m[3] || (m[3] = x => i.value.sex = x), select_title: i.value.sex, select_list: ["男", "女", "任意"] }, null, 8, ["modelValue", "select_title"])]), A1, o("div", I1, [ue(o("input", { type: "text", "onUpdate:modelValue": m[4] || (m[4] = x => i.value.user_address = x), class: "focus" }, null, 512), [[Oe, i.value.user_address]])]), O1, o("div", N1, [ue(o("input", { type: "date", "onUpdate:modelValue": m[5] || (m[5] = x => i.value.birthday = x), onChange: c, class: "focus" }, null, 544), [[Oe, i.value.birthday]])]), o("div", j1, [o("div", { class: "sure_btn focus", onClick: m[6] || (m[6] = x => d()) }, P1), o("div", { class: "cancel_btn focus", onClick: u }, G1)])])])) } }, D1 = G(R1, [["__scopeId", "data-v-ab37d22a"]]), Jn = e => (Y("data-v-afe195a6"), e = e(), q(), e), M1 = { key: 0, class: "user_info" }, F1 = { class: "content" }, H1 = { class: "user_avatar" }, V1 = ["src"], z1 = { class: "info_box" }, B1 = { class: "username", style: { "font-weight": "bold", "font-size": "20px" } }, W1 = { class: "user_stats" }, J1 = { class: "user_follow" }, K1 = { class: "user_fans" }, Y1 = { class: "user_address" }, q1 = Jn(() => o("img", { src: "https://www.sunyuanling.com/assets/location.svg", alt: "地址图标", class: "icon" }, null, -1)), Q1 = Jn(() => o("span", null, "查看个人资料", -1)), X1 = [Q1], Z1 = Jn(() => o("span", null, "编辑个人资料", -1)), ey = [Z1], ty = { __name: "user_info", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, setup(e) { let t = f(!1), s = f(!1); return (n, i) => e.user_info ? (h(), w("div", M1, [o("div", F1, [o("div", H1, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.user_info.user_avatar, alt: "用户头像" }, null, 8, V1)]), o("div", z1, [o("span", B1, S(e.user_info.username), 1), o("div", W1, [o("span", J1, S(e.user_info.follow) + " 关注 ", 1), o("span", K1, S(e.user_info.fans) + " 粉丝 ", 1)]), o("div", Y1, [q1, o("span", null, S(e.user_info.user_address), 1)]), o("div", { class: "user_more_info_box", onClick: i[0] || (i[0] = l => de(t) ? t.value = !0 : t = !0) }, X1)]), o("div", { class: "edit_info_btn btn", onClick: i[1] || (i[1] = l => de(s) ? s.value = !0 : s = !0) }, ey)]), b(t) ? (h(), re(qw, { key: 0, user_info: e.user_info, onClose_page: i[2] || (i[2] = l => de(t) ? t.value = !1 : t = !1) }, null, 8, ["user_info"])) : I("", !0), b(s) ? (h(), re(D1, { key: 1, user_info: e.user_info, token: e.token, onClose_page: i[3] || (i[3] = l => de(s) ? s.value = !1 : s = !1) }, null, 8, ["user_info", "token"])) : I("", !0)])) : I("", !0) } }, sy = G(ty, [["__scopeId", "data-v-afe195a6"]]), Fs = e => (Y("data-v-58f64e0c"), e = e(), q(), e), oy = { class: "scroll_box" }, ny = { class: "scroll_box_content" }, iy = { class: "btn_box" }, ly = ["src"], ay = ["src"], cy = ["onClick"], ry = { key: 0, class: "work_info_ill" }, _y = { class: "work_info_box" }, uy = Fs(() => o("span", null, "插画作品", -1)), dy = { class: "work_info" }, fy = ["src", "onClick"], hy = { class: "info_box" }, py = { style: { "font-size": "18px", "font-weight": "bold" } }, gy = { key: 1, class: "work_info_comic" }, my = { class: "work_info_box" }, vy = Fs(() => o("span", null, "漫画作品", -1)), wy = { class: "work_info" }, yy = ["src", "onClick"], ky = { class: "info_box" }, by = { style: { "font-size": "18px", "font-weight": "bold" } }, $y = { key: 2, class: "work_info_novel" }, xy = { class: "work_info_box" }, Sy = Fs(() => o("span", null, "小说作品", -1)), Cy = { class: "work_info" }, Ty = ["src", "onClick"], Ey = { class: "info_box" }, Ay = { style: { "font-size": "18px", "font-weight": "bold" } }, Iy = Fs(() => o("img", { src: "https://www.sunyuanling.com/assets/add.svg" }, null, -1)), Oy = Fs(() => o("span", null, "新增精选", -1)), Ny = [Iy, Oy], jy = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: [Array, Object], default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 }, work_type: { type: String, default: "ill" } }, emits: ["chose_item", "open_select_box"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null), a = () => { i.value && i.value.forEach((x, g) => { x.style.backgroundColor = n.value[g % n.value.length] }) }, c = t, r = x => { c("chose_item", x), console.log(x) }; function _() { c("open_select_box", !0) } const d = x => x < .5 ? 2 * x * x : -1 + (4 - 2 * x) * x, u = (x, g) => { const k = l.value.scrollLeft, y = performance.now(), v = $ => { const E = $ - y, L = Math.min(E / g, 1), T = d(L); l.value.scrollLeft = k + x * T, L < 1 && requestAnimationFrame(v) }; requestAnimationFrame(v) }, p = () => { u(-s.scrollDistance, s.animationDuration) }, m = () => { u(s.scrollDistance, s.animationDuration) }; return W(() => { a() }), (x, g) => (h(), w("div", oy, [o("div", ny, [o("div", iy, [o("div", { class: "left_btn", onClick: p }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, ly)]), o("div", { class: "right_btn", onClick: m }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, ay)])]), o("div", { class: "list", ref_key: "list", ref: l }, [(h(!0), w(B, null, se(s.msg_list, (k, y) => (h(), w("div", { class: "item", key: y }, [s.msg_type === "image" ? (h(), w("div", { key: 0, class: "image_item", onClick: v => r(k) }, [k.work_type == "ill" ? (h(), w("div", ry, [o("div", _y, [uy, o("div", dy, [o("img", { src: "https://www.sunyuanling.com/image/thumbnail/" + k.work_info[0].content_file_list.split(/[,，]/)[0], class: "image", onClick: v => r({ work_type: "ill", work_id: k.work_id }) }, null, 8, fy), o("div", hy, [o("span", py, S(k.work_info[0].name), 1), o("span", null, S(k.work_info[0].brief_introduction), 1)])])])])) : I("", !0), k.work_type == "comic" ? (h(), w("div", gy, [o("div", my, [vy, o("div", wy, [o("img", { src: "https://www.sunyuanling.com/image/comic/thumbnail/" + k.work_info[0].content_file_list.split(/[,，]/)[0], onClick: v => r({ work_type: "comic", work_id: k.work_id }) }, null, 8, yy), o("div", ky, [o("span", by, S(k.work_info[0].work_name), 1), o("span", null, S(k.work_info[0].brief_introduction), 1)])])])])) : I("", !0), k.work_type == "novel" ? (h(), w("div", $y, [o("div", xy, [Sy, o("div", Cy, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + k.work_info[0].work_cover, onClick: v => r({ work_type: "novel", work_id: k.work_id }) }, null, 8, Ty), o("div", Ey, [o("span", Ay, S(k.work_info[0].work_name), 1), o("span", null, S(k.work_info[0].brief_introduction), 1), o("span", null, S(k.work_info[0].work_count) + "字  " + S(Math.ceil(k.work_info[0].work_count / 500)) + "分钟", 1)])])])])) : I("", !0)], 8, cy)) : I("", !0)]))), 128)), o("div", { class: "add_select", onClick: g[0] || (g[0] = k => _()) }, Ny)], 512)])])) } }, Ly = G(jy, [["__scopeId", "data-v-58f64e0c"]]); async function ba(e, t) { const s = "https://www.sunyuanling.com/api/get_work_info/"; try { for (let n = 0; n < t.length; n++) { const i = t[n], l = i.work_type, a = i.work_id; try { const c = { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: e, work_id: a }) }; let r; switch (l) { case "ill": r = "GetIllInfo/"; break; case "comic": r = "GetComicinfo/"; break; case "novel": r = "GetNovelInfo/"; break; default: console.error(`未知的工作类型: ${l}`); continue }const _ = await fetch(s + r, c); if (_.ok) { const d = await _.json(); d.status === "success" ? i.work_info = d.data : console.error(`获取工作信息失败: ${d.message}`) } else console.error(`请求失败: ${_.status} ${_.statusText}`) } catch (c) { console.error(`处理 ${l} 类型工作时出错:`, c) } } return t } catch (n) { throw console.error("获取工作信息时发生错误:", n), n } } async function Kn(e) { try { const t = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/", { method: "POST", body: JSON.stringify({ token: e }) }); if (t.ok) { const s = await t.json(); return s.status === "success" ? s.data : s.message } else console.log("Error:", t.status) } catch (t) { console.error("获取工作信息时发生错误:", t) } } async function Yo(e) { try { const t = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserCollect/", { method: "POST", body: JSON.stringify({ token: e }) }); if (t.ok) { const s = await t.json(); return s.status === "success" ? s.data : s.message } else console.log("Error:", t.status) } catch (t) { console.log(t) } } const We = e => (Y("data-v-155d6c1b"), e = e(), q(), e), Py = { key: 0, class: "add_select_page" }, Uy = { class: "content" }, Gy = We(() => o("span", null, null, -1)), Ry = We(() => o("span", null, [o("b", null, "新增精选作品")], -1)), Dy = We(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), My = [Dy], Fy = { class: "choose_item" }, Hy = We(() => o("span", null, "插画", -1)), Vy = [Hy], zy = We(() => o("span", null, "小说", -1)), By = [zy], Wy = We(() => o("span", null, "漫画", -1)), Jy = [Wy], Ky = { key: 0, class: "item_page_ill" }, Yy = We(() => o("span", null, "选择插画作品", -1)), qy = { class: "ill_item_list" }, Qy = ["onClick"], Xy = ["src"], Zy = We(() => o("img", { src: "https://www.sunyuanling.com/assets/correct.svg", alt: "", class: "icon" }, null, -1)), ek = [Zy], tk = { key: 1, class: "item_page_novel" }, sk = We(() => o("span", null, "选择小说作品", -1)), ok = { class: "novel_item_list" }, nk = ["onClick"], ik = ["src"], lk = We(() => o("img", { src: "https://www.sunyuanling.com/assets/correct.svg", alt: "", class: "icon" }, null, -1)), ak = [lk], ck = { key: 2, class: "item_page_comic" }, rk = We(() => o("span", null, "选择漫画作品", -1)), _k = { class: "comic_item_list" }, uk = ["onClick"], dk = ["src"], fk = We(() => o("img", { src: "https://www.sunyuanling.com/assets/correct.svg", alt: "", class: "icon" }, null, -1)), hk = [fk], pk = { class: "tips" }, gk = { class: "btn_box" }, mk = We(() => o("span", null, "确定", -1)), vk = [mk], wk = We(() => o("span", null, "取消", -1)), yk = [wk], kk = { __name: "add_select_page", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, emits: ["close_page"], setup(e, { emit: t }) { const s = e, n = t; function i() { n("close_page", !1) } const l = f(), a = f(0), c = f({ ill: [], novel: [], comic: [] }), r = f(JSON.parse(s.user_info.select_work)), _ = Ie(() => 5 - (c.value.ill.length + c.value.novel.length + c.value.comic.length)); function d() { r.value.ill != null && (c.value.ill = r.value.ill), r.value.novel != null && (c.value.novel = r.value.novel), r.value.comic != null && (c.value.comic = r.value.comic) } function u(x, g) { return !Array.isArray(x) || x.length === 0 || g === void 0 || g === null ? !1 : x.some(k => k == g) } function p(x, g) { let k; g === "ill" ? k = x.Illustration_id : g === "novel" ? k = x.work_id : g === "comic" && (k = x.id); const y = c.value[g]; u(y, k) ? c.value[g] = y.filter(v => v !== k) : c.value.ill.length + c.value.novel.length + c.value.comic.length < 5 ? y.length < 5 ? c.value[g].push(k) : alert("选择的作品数量已达单个类型上限（5个）") : alert("选择的作品数量已达总上限（5个）") } async function m() { await aw(s.token, c.value) ? (alert("提交成功"), i()) : alert("提交失败") } return W(async () => { l.value = await Kn(s.token), d() }), (x, g) => l.value ? (h(), w("div", Py, [o("div", Uy, [o("div", { class: "title" }, [Gy, Ry, o("div", { class: "close_btn", onClick: i }, My)]), o("div", Fy, [o("div", { class: ge(["item", a.value == 0 ? "choose_status" : ""]), onClick: g[0] || (g[0] = k => a.value = 0) }, Vy, 2), o("div", { class: ge(["item", a.value == 1 ? "choose_status" : ""]), onClick: g[1] || (g[1] = k => a.value = 1) }, By, 2), o("div", { class: ge(["item", a.value == 2 ? "choose_status" : ""]), onClick: g[2] || (g[2] = k => a.value = 2) }, Jy, 2)]), a.value == 0 ? (h(), w("div", Ky, [Yy, o("div", qy, [(h(!0), w(B, null, se(l.value.ill, (k, y) => (h(), w("div", { class: "ill_item", key: y }, [o("div", { class: "item_page_img", onClick: v => p(k, "ill") }, [o("img", { src: "https://www.sunyuanling.com/image/thumbnail/" + k.content_file_list.split(/[,，]/)[0] }, null, 8, Xy), u(c.value.ill, k.Illustration_id) ? (h(), w("div", { key: 0, class: ge(["correct_box", u(c.value.ill, k.Illustration_id) ? "correct_box_choose" : ""]) }, ek, 2)) : I("", !0)], 8, Qy)]))), 128))])])) : I("", !0), a.value == 1 ? (h(), w("div", tk, [sk, o("div", ok, [(h(!0), w(B, null, se(l.value.novel, (k, y) => (h(), w("div", { class: "novel_item", key: y }, [o("div", { class: "item_page_img", onClick: v => p(k, "novel") }, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + k.work_cover }, null, 8, ik), u(c.value.novel, k.work_id) ? (h(), w("div", { key: 0, class: ge(["correct_box", u(c.value.novel, k.work_id) ? "correct_box_choose" : ""]) }, ak, 2)) : I("", !0)], 8, nk)]))), 128))])])) : I("", !0), a.value == 2 ? (h(), w("div", ck, [rk, o("div", _k, [(h(!0), w(B, null, se(l.value.comic, (k, y) => (h(), w("div", { class: "comic_item", key: y }, [o("div", { class: "item_page_img", onClick: v => p(k, "comic") }, [o("img", { src: "https://www.sunyuanling.com/image/comic/thumbnail/" + k.content_file_list.split(/[,，]/)[0] }, null, 8, dk), u(c.value.comic, k.id) ? (h(), w("div", { key: 0, class: ge(["correct_box", u(c.value.comic, k.id) ? "correct_box_choose" : ""]) }, hk, 2)) : I("", !0)], 8, uk)]))), 128))])])) : I("", !0), o("div", pk, [o("span", null, "一共可以选择5个作品 当前还可选择" + S(_.value), 1)]), o("div", gk, [o("div", { class: "submit btn_choose", onClick: g[3] || (g[3] = k => m()) }, vk), o("div", { class: "cancel btn_choose", onClick: i }, yk)])])])) : I("", !0) } }, bk = G(kk, [["__scopeId", "data-v-155d6c1b"]]), $k = { key: 0, class: "user_index_select" }, xk = o("div", { class: "title" }, [o("span", null, [o("b", null, "精选")])], -1), Sk = { class: "content" }, Ck = { __name: "user_index_select", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, setup(e) { const t = ke(), s = e; let n = f(JSON.parse(s.user_info.select_work)), i = f(!1); function l() { let c = []; for (let r in n.value) for (let _ of n.value[r]) c.push({ work_type: r, work_id: _ }); return console.log(c), c } function a(c) { console.log(c), c.work_type == "ill" ? (t.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c.work_id), t.commit("SET_WORK_TYPE", c.work_type)) : c.work_type == "comic" ? (t.commit("SET_CONTENT_PAGE", { key: "comic_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c.work_id), t.commit("SET_WORK_TYPE", c.work_type)) : c.work_type == "novel" && (t.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c.work_id), t.commit("SET_WORK_TYPE", c.work_type)) } return W(async () => { l(), n.value = await ba(s.token, l()), console.log(n.value) }), (c, r) => b(n) ? (h(), w("div", $k, [xk, o("div", Sk, [M(Ly, { msg_list: b(n), onOpen_select_box: r[0] || (r[0] = _ => de(i) ? i.value = !0 : i = !0), onChose_item: a }, null, 8, ["msg_list"])]), b(i) ? (h(), re(bk, { key: 0, onClose_page: r[1] || (r[1] = _ => de(i) ? i.value = !1 : i = !1), user_info: e.user_info, token: e.token }, null, 8, ["user_info", "token"])) : I("", !0)])) : I("", !0) } }, Tk = { class: "scroll_box" }, Ek = { class: "scroll_box_content" }, Ak = { class: "btn_box" }, Ik = ["src"], Ok = ["src"], Nk = ["onClick"], jk = { __name: "scroll_box_copy", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: [Array, Object], default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f([]), a = () => { l.value.forEach((m, x) => { m.style.backgroundColor = n.value[x % n.value.length] }) }, c = t, r = m => { c("chose_item", m) }, _ = m => m < .5 ? 2 * m * m : -1 + (4 - 2 * m) * m, d = (m, x) => { const g = i.value.scrollLeft, k = performance.now(), y = v => { const $ = v - k, E = Math.min($ / x, 1), L = _(E); i.value.scrollLeft = g + m * L, E < 1 && requestAnimationFrame(y) }; requestAnimationFrame(y) }, u = () => { d(-s.scrollDistance, s.animationDuration) }, p = () => { d(s.scrollDistance, s.animationDuration) }; return W(() => { l.value = document.querySelectorAll(".tags_item"), it(() => { a() }), a() }), (m, x) => (h(), w("div", Tk, [o("div", Ek, [o("div", Ak, [o("div", { class: "left_btn", onClick: u }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, Ik)]), o("div", { class: "right_btn", onClick: p }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, Ok)])]), o("div", { class: "list", ref_key: "list", ref: i }, [(h(!0), w(B, null, se(s.msg_list, (g, k) => (h(), w("div", { class: "item", key: k }, [s.msg_type === "tags" && g != "" && g ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_items", ref: l, onClick: y => r(g) }, [o("span", null, S(g), 1)], 8, Nk)) : I("", !0)]))), 128))], 512)])])) } }, $a = G(jk, [["__scopeId", "data-v-647485f7"]]), Lk = { class: "ill_select" }, Pk = { class: "header" }, Uk = { class: "title" }, Gk = { class: "work_count_box" }, Rk = { class: "work_item_list" }, Dk = ["src", "onClick"], Mk = { class: "work_name" }, Fk = { __name: "ill_select", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, emits: ["choose_item"], setup(e, { emit: t }) { const s = ke(), n = e; function i(u) { s.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), s.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), s.commit("SET_WORK_ID", u.work_id), s.commit("SET_WORK_TYPE", u.work_type) } const l = f(JSON.parse(n.user_info.select_work).ill || []), a = f([]), c = f([]), r = f([]); async function _(u) { const p = u.map(m => ({ work_id: m, work_type: "ill" })); a.value = await ba(n.token, p), console.log(a.value) } function d() { const u = new Set; r.value.forEach(p => { p.work_tags.split(/[,，]/).forEach(x => u.add(x.trim())) }), c.value = Array.from(u), console.log(c.value) } return W(async () => { await _(l.value), r.value = await Kn(n.token), r.value = r.value.ill || [], console.log(r.value), d() }), (u, p) => (h(), w("div", Lk, [o("div", Pk, [o("h2", Uk, [$e("插画作品标签 "), o("div", Gk, [o("span", null, S(r.value.length), 1)])])]), c.value.length > 0 ? (h(), re($a, { key: 0, msg_list: c.value, msg_type: "tags" }, null, 8, ["msg_list"])) : I("", !0), o("div", Rk, [(h(!0), w(B, null, se(r.value, (m, x) => (h(), w("div", { class: "work_item", key: x }, [o("img", { src: "https://www.sunyuanling.com/image/thumbnail/" + m.content_file_list.split(/[，,]/)[0], alt: "Work Thumbnail", class: "thumbnail", onClick: g => i({ work_type: "ill", work_id: m.Illustration_id }) }, null, 8, Dk), o("span", Mk, S(m.name), 1)]))), 128))])])) } }, Hk = G(Fk, [["__scopeId", "data-v-9bfcdf97"]]), Vk = { class: "ill_select" }, zk = { class: "header" }, Bk = { class: "title" }, Wk = { class: "work_count_box" }, Jk = { class: "work_item_list" }, Kk = ["src", "onClick"], Yk = { class: "work_name" }, qk = { __name: "novel_select", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, emits: ["choose_item"], setup(e, { emit: t }) { const s = ke(), n = e; function i(r) { s.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), s.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), s.commit("SET_WORK_ID", r.work_id), s.commit("SET_WORK_TYPE", r.work_type) } const l = f([]), a = f([]); function c() { const r = new Set; console.log(a.value.work_tags), a.value.forEach(_ => { _.work_tags.split(/[,，]/).forEach(u => r.add(u.trim())) }), l.value = Array.from(r), console.log(l.value) } return W(async () => { a.value = await Kn(n.token), a.value = a.value.novel || [], console.log(a.value), c() }), (r, _) => (h(), w("div", Vk, [o("div", zk, [o("h2", Bk, [$e("小说作品标签 "), o("div", Wk, [o("span", null, S(a.value.length), 1)])])]), l.value.length > 0 ? (h(), re($a, { key: 0, msg_list: l.value, msg_type: "tags" }, null, 8, ["msg_list"])) : I("", !0), o("div", Jk, [(h(!0), w(B, null, se(a.value, (d, u) => (h(), w("div", { class: "work_item", key: u }, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + d.work_cover, alt: "Work Thumbnail", class: "thumbnail", onClick: p => i({ work_type: "novel", work_id: d.work_id }) }, null, 8, Kk), o("span", Yk, S(d.work_name), 1)]))), 128))])])) } }, Qk = G(qk, [["__scopeId", "data-v-ef97fac2"]]), Ft = e => (Y("data-v-2df3aaca"), e = e(), q(), e), Xk = { class: "collect_page" }, Zk = { class: "content" }, e0 = { class: "is_open" }, t0 = { class: "switch_work_type" }, s0 = { class: "switch_open_status" }, o0 = { class: "title" }, n0 = Ft(() => o("span", null, "作品", -1)), i0 = { key: 0, class: "collect_control_box" }, l0 = Ft(() => o("span", null, "全选", -1)), a0 = [l0], c0 = Ft(() => o("span", null, "取消收藏", -1)), r0 = [c0], _0 = Ft(() => o("span", null, "设置为不公开", -1)), u0 = [_0], d0 = Ft(() => o("span", null, "设置为公开", -1)), f0 = [d0], h0 = Ft(() => o("span", null, "结束", -1)), p0 = [h0], g0 = { key: 1, class: "collect_list" }, m0 = { key: 0, class: "item_box" }, v0 = { class: "work_type" }, w0 = { class: "work_item" }, y0 = ["onClick"], k0 = ["src"], b0 = { key: 0, class: "age_tag" }, $0 = { class: "age_num" }, x0 = { key: 1, class: "work_count" }, S0 = { class: "work_num" }, C0 = ["onClick"], T0 = Ft(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/correct.svg" }, null, -1)), E0 = [T0], A0 = { class: "work_name" }, I0 = { class: "author_info" }, O0 = { class: "author_avatar" }, N0 = ["src"], j0 = { class: "author_name" }, L0 = { key: 2, class: "if_all_none" }, P0 = Ft(() => o("span", null, "这里空空如也什么也没有", -1)), U0 = [P0], G0 = { __name: "collect_page", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, setup(e) { const t = ke(); function s(y) { console.log(y), y.work_type == "ill" ? (t.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", y.item.workid), t.commit("SET_WORK_TYPE", y.work_type)) : y.work_type == "comic" ? (t.commit("SET_CONTENT_PAGE", { key: "comic_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", y.item.workid), t.commit("SET_WORK_TYPE", y.work_type)) : y.work_type == "novel" && (t.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", y.item.workid), t.commit("SET_WORK_TYPE", y.work_type)) } const n = e, i = f([]), l = f(1), a = f("all"), c = f(!1), r = f([]); function _(y) { const v = r.value.indexOf(y); v > -1 ? r.value.splice(v, 1) : r.value.push(y), console.log(r.value) } async function d() { let y = []; for (let v = 0; v < r.value.length; v++)y.push(await el(n.token, r.value[v].id, r.value[v].type, "delete", null)); y.includes(!1) ? alert("删除失败") : (alert("删除成功"), i.value = await Yo(n.token)), r.value = [] } async function u(y) { let v = []; for (let $ = 0; $ < r.value.length; $++)v.push(await el(n.token, r.value[$].id, r.value[$].type, "set_open", y)); v.includes(!1) ? alert("设置失败") : (alert("设置成功"), i.value = await Yo(n.token)), r.value = [] } function p() { r.value = [...m.value] } V(c, () => { c.value == !1 && (r.value = []) }), W(async () => { i.value = await Yo(n.token), console.log(i.value) }); const m = Ie(() => i.value.filter(y => { const v = y.is_open == l.value, $ = a.value === "all" || y.type === a.value; return v && $ })); function x(y) { switch (y) { case "novel": return "小说"; case "ill": return "插画"; case "comic": return "漫画"; default: return "其他" } } function g(y) { const { type: v, work_info: $ } = y, E = "https://www.sunyuanling.com/image/"; return v === "novel" ? `${E}novel/thumbnail/${$.work_cover}` : v === "ill" ? `${E}thumbnail/${$.content_file_list.split(/[,，]/)[0]}` : v === "comic" ? `${E}comic/thumbnail/${$.content_file_list.split(/[，,]/)[0]}` : "" } function k(y) { const { content_file_list: v } = y.work_info; return v ? v.split(/[,，]/).length : 0 } return (y, v) => (h(), w("div", Xk, [o("div", Zk, [o("div", e0, [o("div", t0, [o("span", { onClick: v[0] || (v[0] = $ => a.value = "all"), class: ge(a.value == "all" ? "switch_work_type_choose" : "") }, "所有作品", 2), o("span", { onClick: v[1] || (v[1] = $ => a.value = "ill"), class: ge(a.value == "ill" ? "switch_work_type_choose" : "") }, "插画", 2), o("span", { onClick: v[2] || (v[2] = $ => a.value = "comic"), class: ge(a.value == "comic" ? "switch_work_type_choose" : "") }, "漫画", 2), o("span", { onClick: v[3] || (v[3] = $ => a.value = "novel"), class: ge(a.value == "novel" ? "switch_work_type_choose" : "") }, "小说", 2)]), o("div", s0, [o("span", { onClick: v[4] || (v[4] = $ => l.value = 1), class: ge(l.value == 1 ? "switch_work_type_choose" : "") }, "公开", 2), o("span", { onClick: v[5] || (v[5] = $ => l.value = 0), class: ge(l.value == 0 ? "switch_work_type_choose" : "") }, "不公开", 2)])]), o("div", o0, [n0, o("span", { style: { cursor: "pointer" }, onClick: v[6] || (v[6] = $ => c.value = !c.value) }, "管理收藏")]), c.value ? (h(), w("div", i0, [o("div", { class: "control_item", onClick: v[7] || (v[7] = $ => p()) }, a0), o("div", { class: "control_item", onClick: v[8] || (v[8] = $ => d()) }, r0), l.value == 1 ? (h(), w("div", { key: 0, class: "control_item", onClick: v[9] || (v[9] = $ => u(0)) }, u0)) : I("", !0), l.value == 0 ? (h(), w("div", { key: 1, class: "control_item", onClick: v[10] || (v[10] = $ => u(1)) }, f0)) : I("", !0), o("div", { class: "control_item", onClick: v[11] || (v[11] = $ => c.value = !1), style: { "align-self": "flex-end", position: "absolute", right: "10px" } }, p0)])) : I("", !0), m.value.length ? (h(), w("div", g0, [(h(!0), w(B, null, se(m.value, ($, E) => (h(), w("div", { class: "collect_item", key: E }, [$.work_status === "normal" ? (h(), w("div", m0, [o("div", v0, [o("span", null, S(x($.type)), 1)]), o("div", w0, [o("div", { class: "image_container", onClick: L => s({ work_id: $.id, work_type: $.type, item: $ }) }, [o("img", { src: g($), alt: "作品封面" }, null, 8, k0), $.work_info.age_classification && $.work_info.age_classification > 18 ? (h(), w("div", b0, [o("span", $0, S($.work_info.age_classification), 1)])) : I("", !0), k($) > 1 ? (h(), w("div", x0, [o("span", S0, S(k($)), 1)])) : I("", !0), c.value ? (h(), w("div", { key: 2, class: "choose_work_box", onClick: L => _($) }, [o("div", { class: "choose_box", style: st({ backgroundColor: r.value.includes($) ? "rgba(0,150,250,1)" : "" }) }, E0, 4)], 8, C0)) : I("", !0)], 8, y0), o("div", A0, [o("span", null, S($.type === "ill" ? $.work_info.name : $.work_info.work_name), 1)]), o("div", I0, [o("div", O0, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + $.authorinfo.user_avatar, alt: "作者头像" }, null, 8, N0)]), o("div", j0, [o("span", null, S($.authorinfo.username), 1)])])])])) : I("", !0)]))), 128))])) : I("", !0), m.value.length <= 1 || !m.value ? (h(), w("div", L0, U0)) : I("", !0)])])) } }, R0 = G(G0, [["__scopeId", "data-v-2df3aaca"]]), D0 = { key: 0, class: "user_select_box" }, M0 = { class: "content" }, F0 = { class: "select_page" }, H0 = { __name: "user_select_box", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, setup(e) { f(JSON.parse(e.user_info.select_work)); let s = f(0); return (n, i) => e.user_info ? (h(), w("div", D0, [o("div", M0, [o("div", F0, [o("div", { class: ge(["page_item", b(s) == 0 ? "choose_item" : ""]), onClick: i[0] || (i[0] = l => de(s) ? s.value = 0 : s = 0) }, " 主页 ", 2), o("div", { class: ge(["page_item", b(s) == 1 ? "choose_item" : ""]), onClick: i[1] || (i[1] = l => de(s) ? s.value = 1 : s = 1) }, " 插画 ", 2), o("div", { class: ge(["page_item", b(s) == 2 ? "choose_item" : ""]), onClick: i[2] || (i[2] = l => de(s) ? s.value = 2 : s = 2) }, " 小说 ", 2), o("div", { class: ge(["page_item", b(s) == 3 ? "choose_item" : ""]), onClick: i[3] || (i[3] = l => de(s) ? s.value = 3 : s = 3) }, " 收藏 ", 2)]), b(s) == 0 ? (h(), re(Ck, { key: 0, user_info: e.user_info, token: e.token }, null, 8, ["user_info", "token"])) : I("", !0), b(s) == 1 ? (h(), re(Hk, { key: 1, user_info: e.user_info, token: e.token }, null, 8, ["user_info", "token"])) : I("", !0), b(s) == 2 ? (h(), re(Qk, { key: 2, user_info: e.user_info, token: e.token }, null, 8, ["user_info", "token"])) : I("", !0), b(s) == 3 ? (h(), re(R0, { key: 3, user_info: e.user_info, token: e.token }, null, 8, ["user_info", "token"])) : I("", !0)])])) : I("", !0) } }, V0 = G(H0, [["__scopeId", "data-v-86c850a0"]]), z0 = e => (Y("data-v-bb9d873f"), e = e(), q(), e), B0 = { class: "go_back" }, W0 = z0(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/left.svg" }, null, -1)), J0 = [W0], K0 = { __name: "go_back", setup(e) { const t = ke(), s = f(null); function n() { t.dispatch("goBack").then(() => { it(() => { s.value && s.value.click() }) }) } return (i, l) => (h(), w("div", B0, [o("div", { class: "btn_box", onClick: n, ref_key: "btn_box", ref: s }, J0, 512)])) } }, Y0 = G(K0, [["__scopeId", "data-v-bb9d873f"]]), q0 = { key: 0, class: "user_center_page" }, Q0 = { class: "content" }, X0 = { __name: "user_center_page", props: { userid: { type: String, default: "" }, token: { type: String, default: "sunyuanling" } }, setup(e) { const t = e; let s = f(); return W(async () => { s.value = await ow(t.token), s.value = s.value[0], console.log(s.value) }), (n, i) => (h(), w(B, null, [b(s) ? (h(), w("div", q0, [o("div", Q0, [M(ka, { user_back_img: "https://www.sunyuanling.com/image/content_thumbnail/" + b(s).user_back_img, token: e.token }, null, 8, ["user_back_img", "token"]), M(sy, { user_info: b(s), token: e.token }, null, 8, ["user_info", "token"]), M(V0, { user_info: b(s), token: e.token }, null, 8, ["user_info", "token"])])])) : I("", !0), M(Y0)], 64)) } }; async function Z0(e = null, t = null) { try { const s = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json", Authorization: "Bearer " + e }, body: JSON.stringify({ token: e, userid: t }) }); if (s.ok) { const n = await s.json(); if (n.status == "success") return n.data; console.log(n.message) } else console.log(s.status) } catch (s) { console.log(s) } } const eb = { class: "user_background" }, tb = { class: "content" }, sb = ["src"], ob = { __name: "user_background", props: { user_back_img: { type: String, default: "" }, token: { type: String, default: "" } }, setup(e) { return (t, s) => (h(), w("div", eb, [o("div", tb, [e.user_back_img ? (h(), w("img", { key: 0, src: e.user_back_img, class: "user_background_img" }, null, 8, sb)) : I("", !0)])])) } }, nb = G(ob, [["__scopeId", "data-v-2e2ae019"]]), Ao = e => (Y("data-v-90dd34a6"), e = e(), q(), e), ib = { class: "more_info_box" }, lb = { class: "content" }, ab = { class: "title" }, cb = Ao(() => o("span", null, null, -1)), rb = Ao(() => o("span", null, "个人信息", -1)), _b = Ao(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg", alt: "关闭" }, null, -1)), ub = [_b], db = { class: "user_avatar" }, fb = ["src"], hb = { class: "address" }, pb = Ao(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/location.svg", alt: "地址图标" }, null, -1)), gb = { class: "sex" }, mb = { class: "age" }, vb = { class: "birthday" }, wb = { __name: "more_info_box", props: { user_info: { type: Object, default: () => ({}) } }, emits: ["close_page"], setup(e, { emit: t }) { const s = e, n = t, i = f(""), l = f(""); function a() { n("close_page", !1) } function c(_) { const d = new Date, u = new Date(_); let p = d.getFullYear() - u.getFullYear(); const m = d.getMonth() - u.getMonth(); return (m < 0 || m === 0 && d.getDate() < u.getDate()) && p--, p } function r(_) { const d = [{ regex: /^\d{4}年\d{1,2}月\d{1,2}日$/, format: "YYYY年MM月DD日" }, { regex: /^\d{4}\/\d{1,2}\/\d{1,2}$/, format: "YYYY/MM/DD" }, { regex: /^\d{4}-\d{1,2}-\d{1,2}$/, format: "YYYY-MM-DD" }, { regex: /^\d{4}-\d{1,2}-\d{1,2}T\d{1,2}:\d{2}:\d{2}$/, format: "YYYY-MM-DDTHH:mm:ss" }]; for (const { regex: u, format: p } of d) if (u.test(_)) return _; return "未知格式" } return W(() => { s.user_info.birthday && (l.value = r(s.user_info.birthday), i.value = c(s.user_info.birthday)) }), (_, d) => (h(), w("div", ib, [o("div", lb, [o("div", ab, [cb, rb, o("div", { class: "close_btn btn", onClick: d[0] || (d[0] = u => a()) }, ub)]), o("div", db, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.user_info.user_avatar, alt: "用户头像" }, null, 8, fb)]), o("div", hb, [pb, o("span", null, S(e.user_info.user_address), 1)]), o("div", gb, [o("span", null, "性别: " + S(e.user_info.sex), 1)]), o("div", mb, [o("span", null, "年龄: " + S(i.value), 1)]), o("div", vb, [o("span", null, "生日: " + S(l.value), 1)])])])) } }, yb = G(wb, [["__scopeId", "data-v-90dd34a6"]]), xa = e => (Y("data-v-e2d28d31"), e = e(), q(), e), kb = { key: 0, class: "user_info" }, bb = { class: "content" }, $b = { class: "user_avatar" }, xb = ["src"], Sb = { class: "info_box" }, Cb = { class: "username", style: { "font-weight": "bold", "font-size": "20px" } }, Tb = { class: "user_stats" }, Eb = { class: "user_follow" }, Ab = { class: "user_fans" }, Ib = { class: "user_address" }, Ob = xa(() => o("img", { src: "https://www.sunyuanling.com/assets/location.svg", alt: "地址图标", class: "icon" }, null, -1)), Nb = xa(() => o("span", null, "查看个人资料", -1)), jb = [Nb], Lb = { __name: "user_info", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" } }, setup(e) { let t = f(!1); return (s, n) => e.user_info ? (h(), w("div", kb, [o("div", bb, [o("div", $b, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + e.user_info.user_avatar, alt: "用户头像" }, null, 8, xb)]), o("div", Sb, [o("span", Cb, S(e.user_info.username), 1), o("div", Tb, [o("span", Eb, S(e.user_info.follow) + " 关注 ", 1), o("span", Ab, S(e.user_info.fans) + " 粉丝 ", 1)]), o("div", Ib, [Ob, o("span", null, S(e.user_info.user_address), 1)]), o("div", { class: "user_more_info_box", onClick: n[0] || (n[0] = i => de(t) ? t.value = !0 : t = !0) }, jb)])]), b(t) ? (h(), re(yb, { key: 0, user_info: e.user_info, onClose_page: n[1] || (n[1] = i => de(t) ? t.value = !1 : t = !1) }, null, 8, ["user_info"])) : I("", !0)])) : I("", !0) } }, Pb = G(Lb, [["__scopeId", "data-v-e2d28d31"]]), Yn = e => (Y("data-v-5db97c57"), e = e(), q(), e), Ub = { class: "scroll_box" }, Gb = { class: "scroll_box_content" }, Rb = { class: "btn_box" }, Db = ["src"], Mb = ["src"], Fb = ["onClick"], Hb = { key: 0, class: "work_info_ill" }, Vb = { class: "work_info_box" }, zb = Yn(() => o("span", null, "插画作品", -1)), Bb = { class: "work_info" }, Wb = ["src", "onClick"], Jb = { class: "info_box" }, Kb = { style: { "font-size": "18px", "font-weight": "bold" } }, Yb = { key: 1, class: "work_info_comic" }, qb = { class: "work_info_box" }, Qb = Yn(() => o("span", null, "漫画作品", -1)), Xb = { class: "work_info" }, Zb = ["src", "onClick"], e$ = { class: "info_box" }, t$ = { style: { "font-size": "18px", "font-weight": "bold" } }, s$ = { key: 2, class: "work_info_novel" }, o$ = { class: "work_info_box" }, n$ = Yn(() => o("span", null, "小说作品", -1)), i$ = { class: "work_info" }, l$ = ["src", "onClick"], a$ = { class: "info_box" }, c$ = { style: { "font-size": "18px", "font-weight": "bold" } }, r$ = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: [Array, Object], default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 }, work_type: { type: String, default: "ill" } }, emits: ["chose_item", "open_select_box"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null), a = () => { i.value && i.value.forEach((m, x) => { m.style.backgroundColor = n.value[x % n.value.length] }) }, c = t, r = m => { c("chose_item", m), console.log(m) }, _ = m => m < .5 ? 2 * m * m : -1 + (4 - 2 * m) * m, d = (m, x) => { const g = l.value.scrollLeft, k = performance.now(), y = v => { const $ = v - k, E = Math.min($ / x, 1), L = _(E); l.value.scrollLeft = g + m * L, E < 1 && requestAnimationFrame(y) }; requestAnimationFrame(y) }, u = () => { d(-s.scrollDistance, s.animationDuration) }, p = () => { d(s.scrollDistance, s.animationDuration) }; return W(() => { a() }), (m, x) => (h(), w("div", Ub, [o("div", Gb, [o("div", Rb, [o("div", { class: "left_btn", onClick: u }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, Db)]), o("div", { class: "right_btn", onClick: p }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, Mb)])]), o("div", { class: "list", ref_key: "list", ref: l }, [(h(!0), w(B, null, se(s.msg_list, (g, k) => (h(), w("div", { class: "item", key: k }, [s.msg_type === "image" ? (h(), w("div", { key: 0, class: "image_item", onClick: y => r(g) }, [g.work_type == "ill" ? (h(), w("div", Hb, [o("div", Vb, [zb, o("div", Bb, [o("img", { src: "https://www.sunyuanling.com/image/thumbnail/" + g.work_info[0].content_file_list.split(/[,，]/)[0], class: "image", onClick: y => r({ work_type: "ill", work_id: g.work_id }) }, null, 8, Wb), o("div", Jb, [o("span", Kb, S(g.work_info[0].name), 1), o("span", null, S(g.work_info[0].brief_introduction), 1)])])])])) : I("", !0), g.work_type == "comic" ? (h(), w("div", Yb, [o("div", qb, [Qb, o("div", Xb, [o("img", { src: "https://www.sunyuanling.com/image/comic/thumbnail/" + g.work_info[0].content_file_list.split(/[,，]/)[0], onClick: y => r({ work_type: "comic", work_id: g.work_id }) }, null, 8, Zb), o("div", e$, [o("span", t$, S(g.work_info[0].work_name), 1), o("span", null, S(g.work_info[0].brief_introduction), 1)])])])])) : I("", !0), g.work_type == "novel" ? (h(), w("div", s$, [o("div", o$, [n$, o("div", i$, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + g.work_info[0].work_cover, onClick: y => r({ work_type: "novel", work_id: g.work_id }) }, null, 8, l$), o("div", a$, [o("span", c$, S(g.work_info[0].work_name), 1), o("span", null, S(g.work_info[0].brief_introduction), 1), o("span", null, S(g.work_info[0].work_count) + "字  " + S(Math.ceil(g.work_info[0].work_count / 500)) + "分钟", 1)])])])])) : I("", !0)], 8, Fb)) : I("", !0)]))), 128))], 512)])])) } }, _$ = G(r$, [["__scopeId", "data-v-5db97c57"]]); async function u$(e, t = null, s) { const n = "https://www.sunyuanling.com/api/get_work_info/"; try { for (let i = 0; i < s.length; i++) { const l = s[i], a = l.work_type, c = l.work_id; try { const r = { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: e, work_id: c, userid: t }) }; let _; switch (a) { case "ill": _ = "GetIllInfo/"; break; case "comic": _ = "GetComicinfo/"; break; case "novel": _ = "GetNovelInfo/"; break; default: console.error(`未知的工作类型: ${a}`); continue }const d = await fetch(n + _, r); if (d.ok) { const u = await d.json(); u.status === "success" ? l.work_info = u.data : console.error(`获取工作信息失败: ${u.message}`) } else console.error(`请求失败: ${d.status} ${d.statusText}`) } catch (r) { console.error(`处理 ${a} 类型工作时出错:`, r) } } return s } catch (i) { throw console.error("获取工作信息时发生错误:", i), i } } async function Sa(e, t) { try { const s = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/", { method: "POST", body: JSON.stringify({ token: e, userid: t }) }); if (s.ok) { const n = await s.json(); return n.status === "success" ? n.data : n.message } else console.log("Error:", s.status) } catch (s) { console.error("获取工作信息时发生错误:", s) } } async function d$(e, t) { try { const s = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserCollect/", { method: "POST", body: JSON.stringify({ token: e, userid: t }) }); if (s.ok) { const n = await s.json(); return n.status === "success" ? n.data : n.message } else console.log("Error:", s.status) } catch (s) { console.log(s) } } const Ca = e => (Y("data-v-361c53b7"), e = e(), q(), e), f$ = { key: 0, class: "user_index_select" }, h$ = Ca(() => o("div", { class: "title" }, [o("span", null, [o("b", null, "精选")])], -1)), p$ = { class: "content" }, g$ = { key: 1, class: "if_all_none" }, m$ = Ca(() => o("span", null, "这里空空如也什么也没有", -1)), v$ = [m$], w$ = { __name: "user_index_select", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" }, userid: { type: String, default: "" } }, setup(e) { const t = ke(), s = e; let n = f(JSON.parse(s.user_info.select_work)), i = f(!1); function l() { let c = []; for (let r in n.value) for (let _ of n.value[r]) c.push({ work_type: r, work_id: _ }); return console.log(c), c } function a(c) { console.log(c), c.work_type == "ill" ? (t.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c.work_id), t.commit("SET_WORK_TYPE", c.work_type)) : c.work_type == "comic" ? (t.commit("SET_CONTENT_PAGE", { key: "comic_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c.work_id), t.commit("SET_WORK_TYPE", c.work_type)) : c.work_type == "novel" && (t.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c.work_id), t.commit("SET_WORK_TYPE", c.work_type)) } return W(async () => { l(), n.value = await u$(s.token, s.userid, l()), console.log(n.value) }), (c, r) => b(n) && b(n).length > 0 ? (h(), w("div", f$, [h$, o("div", p$, [M(_$, { msg_list: b(n), onOpen_select_box: r[0] || (r[0] = _ => de(i) ? i.value = !0 : i = !0), onChose_item: a }, null, 8, ["msg_list"])])])) : (h(), w("div", g$, v$)) } }, y$ = G(w$, [["__scopeId", "data-v-361c53b7"]]), k$ = { class: "scroll_box" }, b$ = { class: "scroll_box_content" }, $$ = { class: "btn_box" }, x$ = ["src"], S$ = ["src"], C$ = ["onClick"], T$ = { __name: "scroll_box_copy", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: [Array, Object], default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f([]), a = () => { l.value.forEach((m, x) => { m.style.backgroundColor = n.value[x % n.value.length] }) }, c = t, r = m => { c("chose_item", m) }, _ = m => m < .5 ? 2 * m * m : -1 + (4 - 2 * m) * m, d = (m, x) => { const g = i.value.scrollLeft, k = performance.now(), y = v => { const $ = v - k, E = Math.min($ / x, 1), L = _(E); i.value.scrollLeft = g + m * L, E < 1 && requestAnimationFrame(y) }; requestAnimationFrame(y) }, u = () => { d(-s.scrollDistance, s.animationDuration) }, p = () => { d(s.scrollDistance, s.animationDuration) }; return W(() => { l.value = document.querySelectorAll(".tags_item"), it(() => { a() }), a() }), (m, x) => (h(), w("div", k$, [o("div", b$, [o("div", $$, [o("div", { class: "left_btn", onClick: u }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, x$)]), o("div", { class: "right_btn", onClick: p }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, S$)])]), o("div", { class: "list", ref_key: "list", ref: i }, [(h(!0), w(B, null, se(s.msg_list, (g, k) => (h(), w("div", { class: "item", key: k }, [s.msg_type === "tags" && g != "" && g ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_items", ref: l, onClick: y => r(g) }, [o("span", null, S(g), 1)], 8, C$)) : I("", !0)]))), 128))], 512)])])) } }, Ta = G(T$, [["__scopeId", "data-v-9f8cdb6f"]]), E$ = e => (Y("data-v-ba5721b7"), e = e(), q(), e), A$ = { key: 0, class: "ill_select" }, I$ = { class: "header" }, O$ = { class: "title" }, N$ = { class: "work_count_box" }, j$ = { class: "work_item_list" }, L$ = ["src", "onClick"], P$ = { class: "work_name" }, U$ = { key: 1, class: "if_all_none" }, G$ = E$(() => o("span", null, "这里空空如也什么也没有", -1)), R$ = [G$], D$ = { __name: "ill_select", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" }, userid: { type: String, default: "" } }, emits: ["choose_item"], setup(e, { emit: t }) { const s = ke(), n = e; function i(r) { s.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), s.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), s.commit("SET_WORK_ID", r.work_id), s.commit("SET_WORK_TYPE", r.work_type) } f([]); const l = f([]), a = f([]); function c() { const r = new Set; a.value.forEach(_ => { _.work_tags.split(/[,，]/).forEach(u => r.add(u.trim())) }), l.value = Array.from(r), console.log(l.value) } return W(async () => { a.value = await Sa(n.token, n.userid), a.value = a.value.ill || [], console.log(a.value), c() }), (r, _) => a.value ? (h(), w("div", A$, [o("div", I$, [o("h2", O$, [$e("插画作品标签 "), o("div", N$, [o("span", null, S(a.value.length), 1)])])]), l.value.length > 0 ? (h(), re(Ta, { key: 0, msg_list: l.value, msg_type: "tags" }, null, 8, ["msg_list"])) : I("", !0), o("div", j$, [(h(!0), w(B, null, se(a.value, (d, u) => (h(), w("div", { class: "work_item", key: u }, [o("img", { src: "https://www.sunyuanling.com/image/thumbnail/" + d.content_file_list.split(/[，,]/)[0], alt: "Work Thumbnail", class: "thumbnail", onClick: p => i({ work_type: "ill", work_id: d.Illustration_id }) }, null, 8, L$), o("span", P$, S(d.name), 1)]))), 128))])])) : (h(), w("div", U$, R$)) } }, M$ = G(D$, [["__scopeId", "data-v-ba5721b7"]]), F$ = e => (Y("data-v-1d41760a"), e = e(), q(), e), H$ = { key: 0, class: "ill_select" }, V$ = { class: "header" }, z$ = { class: "title" }, B$ = { class: "work_count_box" }, W$ = { class: "work_item_list" }, J$ = ["src", "onClick"], K$ = { class: "work_name" }, Y$ = { key: 1, class: "if_all_none" }, q$ = F$(() => o("span", null, "这里空空如也什么也没有", -1)), Q$ = [q$], X$ = { __name: "novel_select", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" }, userid: { type: String, default: "" } }, emits: ["choose_item"], setup(e, { emit: t }) { const s = ke(), n = e; function i(r) { s.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), s.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), s.commit("SET_WORK_ID", r.work_id), s.commit("SET_WORK_TYPE", r.work_type) } const l = f([]), a = f([]); function c() { const r = new Set; console.log(a.value.work_tags), a.value.forEach(_ => { _.work_tags.split(/[,，]/).forEach(u => r.add(u.trim())) }), l.value = Array.from(r), console.log(l.value) } return W(async () => { a.value = await Sa(n.token, n.userid), a.value = a.value.novel || [], console.log(a.value), c() }), (r, _) => a.value ? (h(), w("div", H$, [o("div", V$, [o("h2", z$, [$e("小说作品标签 "), o("div", B$, [o("span", null, S(a.value.length), 1)])])]), l.value.length > 0 ? (h(), re(Ta, { key: 0, msg_list: l.value, msg_type: "tags" }, null, 8, ["msg_list"])) : I("", !0), o("div", W$, [(h(!0), w(B, null, se(a.value, (d, u) => (h(), w("div", { class: "work_item", key: u }, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + d.work_cover, alt: "Work Thumbnail", class: "thumbnail", onClick: p => i({ work_type: "novel", work_id: d.work_id }) }, null, 8, J$), o("span", K$, S(d.work_name), 1)]))), 128))])])) : (h(), w("div", Y$, Q$)) } }, Z$ = G(X$, [["__scopeId", "data-v-1d41760a"]]), qn = e => (Y("data-v-aa1282fb"), e = e(), q(), e), e2 = { class: "collect_page" }, t2 = { class: "content" }, s2 = { class: "is_open" }, o2 = { class: "switch_work_type" }, n2 = qn(() => o("div", { class: "title" }, [o("span", null, "作品")], -1)), i2 = { key: 0, class: "collect_list" }, l2 = { key: 0, class: "item_box" }, a2 = { class: "work_type" }, c2 = { class: "work_item" }, r2 = ["onClick"], _2 = ["src"], u2 = { key: 0, class: "age_tag" }, d2 = { class: "age_num" }, f2 = { key: 1, class: "work_count" }, h2 = { class: "work_num" }, p2 = ["onClick"], g2 = qn(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/correct.svg" }, null, -1)), m2 = [g2], v2 = { class: "work_name" }, w2 = { class: "author_info" }, y2 = { class: "author_avatar" }, k2 = ["src"], b2 = { class: "author_name" }, $2 = { key: 1, class: "if_all_none" }, x2 = qn(() => o("span", null, "这里空空如也什么也没有", -1)), S2 = [x2], C2 = { __name: "collect_page", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" }, userid: { type: String, default: "" } }, setup(e) { const t = ke(); function s(x) { console.log(x), x.work_type == "ill" ? (t.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", x.item.workid), t.commit("SET_WORK_TYPE", x.work_type)) : x.work_type == "comic" ? (t.commit("SET_CONTENT_PAGE", { key: "comic_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", x.item.workid), t.commit("SET_WORK_TYPE", x.work_type)) : x.work_type == "novel" && (t.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", x.item.workid), t.commit("SET_WORK_TYPE", x.work_type)) } const n = e, i = f([]), l = f(1), a = f("all"), c = f(!1), r = f([]); function _(x) { const g = r.value.indexOf(x); g > -1 ? r.value.splice(g, 1) : r.value.push(x), console.log(r.value) } V(c, () => { c.value == !1 && (r.value = []) }), W(async () => { i.value = await d$(n.token, n.userid), console.log(i.value) }); const d = Ie(() => i.value.filter(x => { const g = x.is_open == l.value, k = a.value === "all" || x.type === a.value; return g && k })); function u(x) { switch (x) { case "novel": return "小说"; case "ill": return "插画"; case "comic": return "漫画"; default: return "其他" } } function p(x) { const { type: g, work_info: k } = x, y = "https://www.sunyuanling.com/image/"; return g === "novel" ? `${y}novel/thumbnail/${k.work_cover}` : g === "ill" ? `${y}thumbnail/${k.content_file_list.split(/[,，]/)[0]}` : g === "comic" ? `${y}comic/thumbnail/${k.content_file_list.split(/[，,]/)[0]}` : "" } function m(x) { const { content_file_list: g } = x.work_info; return g ? g.split(/[,，]/).length : 0 } return (x, g) => (h(), w("div", e2, [o("div", t2, [o("div", s2, [o("div", o2, [o("span", { onClick: g[0] || (g[0] = k => a.value = "all"), class: ge(a.value == "all" ? "switch_work_type_choose" : "") }, "所有作品", 2), o("span", { onClick: g[1] || (g[1] = k => a.value = "ill"), class: ge(a.value == "ill" ? "switch_work_type_choose" : "") }, "插画", 2), o("span", { onClick: g[2] || (g[2] = k => a.value = "comic"), class: ge(a.value == "comic" ? "switch_work_type_choose" : "") }, "漫画", 2), o("span", { onClick: g[3] || (g[3] = k => a.value = "novel"), class: ge(a.value == "novel" ? "switch_work_type_choose" : "") }, "小说", 2)])]), n2, d.value.length ? (h(), w("div", i2, [(h(!0), w(B, null, se(d.value, (k, y) => (h(), w("div", { class: "collect_item", key: y }, [k.work_status === "normal" ? (h(), w("div", l2, [o("div", a2, [o("span", null, S(u(k.type)), 1)]), o("div", c2, [o("div", { class: "image_container", onClick: v => s({ work_id: k.id, work_type: k.type, item: k }) }, [o("img", { src: p(k), alt: "作品封面" }, null, 8, _2), k.work_info.age_classification && k.work_info.age_classification > 18 ? (h(), w("div", u2, [o("span", d2, S(k.work_info.age_classification), 1)])) : I("", !0), m(k) > 1 ? (h(), w("div", f2, [o("span", h2, S(m(k)), 1)])) : I("", !0), c.value ? (h(), w("div", { key: 2, class: "choose_work_box", onClick: v => _(k) }, [o("div", { class: "choose_box", style: st({ backgroundColor: r.value.includes(k) ? "rgba(0,150,250,1)" : "" }) }, m2, 4)], 8, p2)) : I("", !0)], 8, r2), o("div", v2, [o("span", null, S(k.type === "ill" ? k.work_info.name : k.work_info.work_name), 1)]), o("div", w2, [o("div", y2, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + k.authorinfo.user_avatar, alt: "作者头像" }, null, 8, k2)]), o("div", b2, [o("span", null, S(k.authorinfo.username), 1)])])])])) : I("", !0)]))), 128))])) : I("", !0), d.value.length <= 1 || !d.value ? (h(), w("div", $2, S2)) : I("", !0)])])) } }, T2 = G(C2, [["__scopeId", "data-v-aa1282fb"]]), E2 = { key: 0, class: "user_select_box" }, A2 = { class: "content" }, I2 = { class: "select_page" }, O2 = { __name: "user_select_box", props: { user_info: { type: Object, default: () => ({}) }, token: { type: String, default: "" }, userid: { type: String, default: "" } }, setup(e) { f(JSON.parse(e.user_info.select_work)); let s = f(0); return (n, i) => e.user_info ? (h(), w("div", E2, [o("div", A2, [o("div", I2, [o("div", { class: ge(["page_item", b(s) == 0 ? "choose_item" : ""]), onClick: i[0] || (i[0] = l => de(s) ? s.value = 0 : s = 0) }, " 主页 ", 2), o("div", { class: ge(["page_item", b(s) == 1 ? "choose_item" : ""]), onClick: i[1] || (i[1] = l => de(s) ? s.value = 1 : s = 1) }, " 插画 ", 2), o("div", { class: ge(["page_item", b(s) == 2 ? "choose_item" : ""]), onClick: i[2] || (i[2] = l => de(s) ? s.value = 2 : s = 2) }, " 小说 ", 2), o("div", { class: ge(["page_item", b(s) == 3 ? "choose_item" : ""]), onClick: i[3] || (i[3] = l => de(s) ? s.value = 3 : s = 3) }, " 收藏 ", 2)]), b(s) == 0 ? (h(), re(y$, { key: 0, user_info: e.user_info, token: e.token, userid: e.userid }, null, 8, ["user_info", "token", "userid"])) : I("", !0), b(s) == 1 ? (h(), re(M$, { key: 1, user_info: e.user_info, token: e.token, userid: e.userid }, null, 8, ["user_info", "token", "userid"])) : I("", !0), b(s) == 2 ? (h(), re(Z$, { key: 2, user_info: e.user_info, token: e.token, userid: e.userid }, null, 8, ["user_info", "token", "userid"])) : I("", !0), b(s) == 3 ? (h(), re(T2, { key: 3, user_info: e.user_info, token: e.token, userid: e.userid }, null, 8, ["user_info", "token", "userid"])) : I("", !0)])])) : I("", !0) } }, N2 = G(O2, [["__scopeId", "data-v-4cd7936e"]]), j2 = e => (Y("data-v-5d75093a"), e = e(), q(), e), L2 = { class: "go_back" }, P2 = j2(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/left.svg" }, null, -1)), U2 = [P2], G2 = { __name: "go_back", setup(e) { const t = ke(), s = f(null); function n() { t.dispatch("goBack").then(() => { it(() => { s.value && s.value.click() }) }) } return (i, l) => (h(), w("div", L2, [o("div", { class: "btn_box", onClick: n, ref_key: "btn_box", ref: s }, U2, 512)])) } }, R2 = G(G2, [["__scopeId", "data-v-5d75093a"]]), D2 = { key: 0, class: "user_center_page" }, M2 = { class: "content" }, F2 = { __name: "user_center_page", props: { userid: { type: String, default: "10086" }, token: { type: String, default: "" } }, setup(e) { const t = e; let s = f(); return W(async () => { s.value = await Z0(t.token, t.userid), s.value = s.value[0], console.log(s.value) }), (n, i) => (h(), w(B, null, [b(s) ? (h(), w("div", D2, [o("div", M2, [M(nb, { user_back_img: "https://www.sunyuanling.com/image/content_thumbnail/" + (b(s).user_back_img ? b(s).user_back_img : "20240525174916_f4f4acc7280f4eabb9fc1712929c3ccc.png"), token: e.token }, null, 8, ["user_back_img", "token"]), M(Pb, { user_info: b(s), token: e.token }, null, 8, ["user_info", "token"]), M(N2, { user_info: b(s), token: e.token, userid: e.userid }, null, 8, ["user_info", "token", "userid"])])])) : I("", !0), M(R2)], 64)) } }, H2 = e => (Y("data-v-6111f172"), e = e(), q(), e), V2 = { class: "scroll_box" }, z2 = { class: "scroll_box_content" }, B2 = { class: "btn_box" }, W2 = ["src"], J2 = ["src"], K2 = ["onClick"], Y2 = ["src"], q2 = { key: 0, class: "age_tag" }, Q2 = { key: 1, class: "page_count" }, X2 = H2(() => o("img", { src: "https://www.sunyuanling.com/assets/page_count.svg" }, null, -1)), Z2 = { class: "cartoon_title", style: { width: "100%", "margin-left": "15px" } }, e8 = ["onClick"], t8 = { class: "user_avatar" }, s8 = ["src"], o8 = { class: "username" }, n8 = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = ke(), n = e, i = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), l = f(null), a = f(null), c = () => { l.value && l.value.forEach((g, k) => { g.style.backgroundColor = i.value[k % i.value.length] }) }, r = t, _ = g => { r("chose_item", g) }, d = g => g < .5 ? 2 * g * g : -1 + (4 - 2 * g) * g, u = (g, k) => { const y = a.value.scrollLeft, v = performance.now(), $ = E => { const L = E - v, T = Math.min(L / k, 1), N = d(T); a.value.scrollLeft = y + g * N, T < 1 && requestAnimationFrame($) }; requestAnimationFrame($) }, p = () => { u(-n.scrollDistance, n.animationDuration) }, m = () => { u(n.scrollDistance, n.animationDuration) }; function x(g, k) { s.commit("SET_OTHER_USERID", g), s.commit("SET_SINGLE_PAGE_STATUS", { key: "other_user_center_page", value: !0 }), console.log(g) } return W(() => { c(), console.log(n) }), (g, k) => (h(), w("div", V2, [o("div", z2, [o("div", B2, [o("div", { class: "left_btn", onClick: p }, [o("img", { src: n.left_btn, class: "icon" }, null, 8, W2)]), o("div", { class: "right_btn", onClick: m }, [o("img", { src: n.right_btn, class: "icon" }, null, 8, J2)])]), o("div", { class: "list", ref_key: "list", ref: a }, [(h(!0), w(B, null, se(n.msg_list, (y, v) => (h(), w("div", { class: "item", key: v }, [n.msg_type === "image" ? (h(), w("div", { key: 0, class: "image_item", onClick: $ => _(y.Illustration_id) }, [o("img", { src: "https://www.sunyuanling.com/image/thumbnail/" + y.content_file_list.split(/[,，]/)[0], class: "image" }, null, 8, Y2), y.age_classification >= 17 ? (h(), w("div", q2, "R-" + S(y.age_classification), 1)) : I("", !0), y.content_file_list.split(/[,，]/).length > 1 ? (h(), w("div", Q2, [X2, $e(" " + S(y.content_file_list.split(/[,，]/).length), 1)])) : I("", !0)], 8, K2)) : I("", !0), o("div", Z2, [o("span", null, S(y.work_name), 1)]), o("div", { class: "user_info", onClick: $ => x(y.belong_to_user_id) }, [o("div", t8, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + y.user_avatar }, null, 8, s8)]), o("div", o8, [o("span", null, S(y.belong_to_user), 1)])], 8, e8)]))), 128))], 512)])])) } }, i8 = G(n8, [["__scopeId", "data-v-6111f172"]]), Ea = e => (Y("data-v-1d540ee7"), e = e(), q(), e), l8 = { class: "recommendation" }, a8 = Ea(() => o("h3", null, "推荐作品", -1)), c8 = { class: "work_box_list" }, r8 = { class: "work_item" }, _8 = { class: "age_tag" }, u8 = { class: "page_count" }, d8 = Ea(() => o("svg", { t: "1715784414381", class: "icon", viewBox: "0 0 1024 1024", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "p-id": "9622", width: "200", height: "200" }, [o("path", { d: "M819.2 128H409.6c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4V230.4c0-56.32-46.08-102.4-102.4-102.4z m51.2 512c0 28.16-23.04 51.2-51.2 51.2H409.6c-28.16 0-51.2-23.04-51.2-51.2V230.4c0-28.16 23.04-51.2 51.2-51.2h409.6c28.16 0 51.2 23.04 51.2 51.2v409.6z m-204.8 204.8c0 28.16-23.04 51.2-51.2 51.2H204.8c-28.16 0-51.2-23.04-51.2-51.2V435.2c0-28.16 23.04-51.2 51.2-51.2h51.2v-51.2H204.8c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4v-51.2h-51.2v51.2z", fill: "#fff", "p-id": "9623" })], -1)), f8 = ["src"], h8 = { class: "work_title" }, p8 = { class: "user_info" }, g8 = { class: "user_avatar" }, m8 = ["src"], v8 = { class: "username" }, w8 = { name: "recommendation" }, y8 = Object.assign(w8, { setup(e) { let t = f("https://www.sunyuanling.com/image/thumbnail/105716156_p0.jpg"), s = f("R-18"), n = f("12"), i = f("作品标题"), l = f("https://www.sunyuanling.com/image/87328997_p0.jpg"), a = f("用户名"); return (c, r) => (h(), w("div", l8, [a8, o("div", c8, [(h(), w(B, null, se(17, _ => o("div", { class: "work_box", key: _ }, [o("div", r8, [o("div", _8, [o("span", null, S(b(s)), 1)]), o("div", u8, [d8, o("span", null, S(b(n)), 1)]), o("img", { src: b(t) }, null, 8, f8)]), o("div", h8, [o("span", null, S(b(i)), 1)]), o("div", p8, [o("div", g8, [o("img", { src: b(l) }, null, 8, m8)]), o("div", v8, [o("span", null, S(b(a)), 1)])])])), 64))])])) } }), Aa = G(y8, [["__scopeId", "data-v-1d540ee7"]]), Io = e => (Y("data-v-f24dc792"), e = e(), q(), e), k8 = { class: "ranking" }, b8 = Io(() => o("span", null, [o("b", null, "每日排行榜")], -1)), $8 = { class: "work_list" }, x8 = { class: "item" }, S8 = { class: "rank" }, C8 = { class: "page_count" }, T8 = ["src"], E8 = Io(() => o("div", { class: "work_title" }, null, -1)), A8 = { class: "user_info" }, I8 = { class: "user_avatar" }, O8 = ["src"], N8 = { class: "username" }, j8 = Io(() => o("svg", { t: "1715776937217", class: "icon", viewBox: "0 0 1024 1024", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "p-id": "4252", width: "200", height: "200" }, [o("path", { d: "M510.86222222 1020.58666667c281.71377778 0 510.86222222-229.14844445 510.86222223-510.86222222S792.576-1.13777778 510.86222222-1.13777778 0 228.01066667 0 509.72444445s229.14844445 510.86222222 510.86222222 510.86222222z m0-950.72711112c242.57422222 0 439.86488889 197.29066667 439.86488889 439.8648889S753.43644445 949.58933333 510.86222222 949.58933333c-242.57422222 0-439.86488889-197.29066667-439.86488889-439.86488888S268.288 69.85955555 510.86222222 69.85955555zM307.65511111 532.48c-13.88088889-13.88088889-13.88088889-36.29511111 0-50.176l260.89244444-260.89244445c13.88088889-13.88088889 36.29511111-13.88088889 50.176 0 13.88088889 13.88088889 13.88088889 36.29511111 0 50.176L382.976 507.33511111l235.86133333 235.86133334c13.88088889 13.88088889 13.88088889 36.29511111 0 50.176-6.94044445 6.94044445-16.04266667 10.35377778-25.03111111 10.35377777-9.10222222 0-18.20444445-3.41333333-25.03111111-10.35377777L307.65511111 532.48z", fill: "#333303", "p-id": "4253" })], -1)), L8 = [j8], P8 = Io(() => o("svg", { t: "1715776983773", class: "icon", viewBox: "0 0 1024 1024", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "p-id": "6057", width: "200", height: "200" }, [o("path", { d: "M896 512a384 384 0 1 0-384 384 384 384 0 0 0 384-384z m64 0A448 448 0 1 1 512 64a448 448 0 0 1 448 448z", "p-id": "6058" }), o("path", { d: "M425.28 310.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1 0 45.44l-224 224a32 32 0 0 1-45.44-45.44L626.88 512z", "p-id": "6059" })], -1)), U8 = [P8], G8 = { name: "ranking" }, R8 = Object.assign(G8, { setup(e) { let t = f(); W(() => { const r = new Date, _ = r.getFullYear(), d = r.getMonth() + 1, u = r.getDate(), p = _ + "年" + d + "月" + u + "日"; t.value = p }); let s = f("https://www.sunyuanling.com/image/thumbnail/65014220_p0.jpg"), n = f(1), i = f(12); f("作品标题"); let l = f("https://www.sunyuanling.com/image/87328997_p0.jpg"), a = f("用户名"); function c(r) { const _ = document.querySelector(".work_list"), d = .2 * 1e3, p = d / 24, m = Math.ceil(d / p); let x = 0; function g() { x < m && (_.scrollLeft += r / m, x++, requestAnimationFrame(g)) } g() } return (r, _) => (h(), w("div", k8, [b8, o("h3", null, S(b(t)) + "的排行榜", 1), o("div", $8, [(h(), w(B, null, se(10, d => o("div", { class: "work_item", key: d }, [o("div", x8, [o("div", S8, [o("span", null, S(b(n)), 1)]), o("div", C8, [o("span", null, S(b(i)), 1)]), o("img", { src: b(s) }, null, 8, T8)]), E8, o("div", A8, [o("div", I8, [o("img", { src: b(l) }, null, 8, O8)]), o("div", N8, [o("span", null, S(b(a)), 1)])])])), 64)), o("div", { class: "left_btn", onClick: _[0] || (_[0] = d => c(-400)) }, L8), o("div", { class: "right_btn", onClick: _[1] || (_[1] = d => c(400)) }, U8)])])) } }), Ia = G(R8, [["__scopeId", "data-v-f24dc792"]]); function at(e) { let t = document.cookie.split("; "); for (let s = 0; s < t.length; s++) { let n = t[s].split("="); if (n[0] === e) return n[1] } return null } const D8 = e => (Y("data-v-3525b2de"), e = e(), q(), e), M8 = { class: "illustration_page" }, F8 = D8(() => o("h3", null, "用户关注的作品", -1)), H8 = { name: "illustration_page", components: { recommendation: Aa, ranking: Ia } }, V8 = Object.assign(H8, { setup(e) { const t = ke(); let s = f(JSON.parse(at("userinfo"))), n = f([]); async function i() { try { const r = await (await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowToIll/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: s.value.userid }) })).json(); if (r.status == "success") { n.value = r.data; for (let _ = 0; _ < n.value.length; _++)n.value[_].belong_to_user_avatar = await l(n.value[_].belong_to_user_id); return r.data } else console.log(r.message) } catch (c) { console.log(c) } } async function l(c) { try { const r = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: c, token: null }) }); if (r.ok) { const _ = await r.json(); if (_.status == "success") return _.data[0].user_avatar } else console.log(r.status) } catch (r) { console.log(r) } } W(() => { i() }); function a(c) { t.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c), t.commit("SET_WORK_TYPE", "ill") } return (c, r) => (h(), w("div", M8, [F8, b(n) ? (h(), re(i8, { key: 0, msg_list: b(n), onChose_item: a }, null, 8, ["msg_list"])) : I("", !0), M(Aa), M(Ia)])) } }), z8 = G(V8, [["__scopeId", "data-v-3525b2de"]]), B8 = e => (Y("data-v-4d74fd5c"), e = e(), q(), e), W8 = { class: "scroll_box" }, J8 = { class: "scroll_box_content" }, K8 = { class: "btn_box" }, Y8 = ["src"], q8 = ["src"], Q8 = ["onClick"], X8 = ["src"], Z8 = { key: 0, class: "age_tag" }, ex = { key: 1, class: "page_count" }, tx = B8(() => o("img", { src: "https://www.sunyuanling.com/assets/page_count.svg" }, null, -1)), sx = { class: "cartoon_title", style: { width: "100%", "margin-left": "15px" } }, ox = ["onClick"], nx = { class: "user_avatar" }, ix = ["src"], lx = { class: "username" }, ax = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = ke(); function n(g, k) { s.commit("SET_OTHER_USERID", g), s.commit("SET_SINGLE_PAGE_STATUS", { key: "other_user_center_page", value: !0 }), console.log(g) } const i = e, l = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), a = f(null), c = f(null), r = () => { a.value && a.value.forEach((g, k) => { g.style.backgroundColor = l.value[k % l.value.length] }) }, _ = t, d = g => { _("chose_item", g) }, u = g => g < .5 ? 2 * g * g : -1 + (4 - 2 * g) * g, p = (g, k) => { const y = c.value.scrollLeft, v = performance.now(), $ = E => { const L = E - v, T = Math.min(L / k, 1), N = u(T); c.value.scrollLeft = y + g * N, T < 1 && requestAnimationFrame($) }; requestAnimationFrame($) }, m = () => { p(-i.scrollDistance, i.animationDuration) }, x = () => { p(i.scrollDistance, i.animationDuration) }; return W(() => { r() }), (g, k) => (h(), w("div", W8, [o("div", J8, [o("div", K8, [o("div", { class: "left_btn", onClick: m }, [o("img", { src: i.left_btn, class: "icon" }, null, 8, Y8)]), o("div", { class: "right_btn", onClick: x }, [o("img", { src: i.right_btn, class: "icon" }, null, 8, q8)])]), o("div", { class: "list", ref_key: "list", ref: c }, [(h(!0), w(B, null, se(i.msg_list, (y, v) => (h(), w("div", { class: "item", key: v }, [i.msg_type === "image" ? (h(), w("div", { key: 0, class: "image_item", onClick: $ => d(y.id) }, [o("img", { src: "https://www.sunyuanling.com/image/comic/thumbnail/" + y.content_file_list.split(/[,，]/)[0], class: "image" }, null, 8, X8), y.age_classification >= 17 ? (h(), w("div", Z8, "R-" + S(y.age_classification), 1)) : I("", !0), y.content_file_list.split(/[,，]/).length > 1 ? (h(), w("div", ex, [tx, $e(" " + S(y.content_file_list.split(/[,，]/).length), 1)])) : I("", !0)], 8, Q8)) : I("", !0), o("div", sx, [o("span", null, S(y.work_name), 1)]), o("div", { class: "user_info", onClick: $ => n(y.belong_to_userid) }, [o("div", nx, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + y.belong_to_avatar }, null, 8, ix)]), o("div", lx, [o("span", null, S(y.belong_to_user), 1)])], 8, ox)]))), 128))], 512)])])) } }, cx = G(ax, [["__scopeId", "data-v-4d74fd5c"]]), Oa = e => (Y("data-v-5d869bb5"), e = e(), q(), e), rx = { class: "recommendation_cartoon" }, _x = Oa(() => o("h3", null, "推荐的用户作品", -1)), ux = { class: "work_list" }, dx = { class: "work_img" }, fx = { class: "age_tag" }, hx = { class: "page_count" }, px = Oa(() => o("svg", { t: "1715784414381", class: "icon", viewBox: "0 0 1024 1024", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "p-id": "9622", width: "200", height: "200" }, [o("path", { d: "M819.2 128H409.6c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4V230.4c0-56.32-46.08-102.4-102.4-102.4z m51.2 512c0 28.16-23.04 51.2-51.2 51.2H409.6c-28.16 0-51.2-23.04-51.2-51.2V230.4c0-28.16 23.04-51.2 51.2-51.2h409.6c28.16 0 51.2 23.04 51.2 51.2v409.6z m-204.8 204.8c0 28.16-23.04 51.2-51.2 51.2H204.8c-28.16 0-51.2-23.04-51.2-51.2V435.2c0-28.16 23.04-51.2 51.2-51.2h51.2v-51.2H204.8c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4v-51.2h-51.2v51.2z", fill: "#ccd6de", "p-id": "9623" })], -1)), gx = ["src"], mx = { class: "work_title" }, vx = { class: "user_info" }, wx = { class: "user_avatar" }, yx = ["src"], kx = { class: "username" }, bx = { __name: "recommendation_cartoon", setup(e) { let t = f("https://www.sunyuanling.com/image/thumbnail/82181448_p0(1).jpg"), s = f("R-18"), n = f("12"), i = f("作品标题"), l = f("https://www.sunyuanling.com/image/avatar_thumbnail/104705167_p0.jpg"), a = f("用户名"); return (c, r) => (h(), w("div", rx, [_x, o("div", ux, [(h(), w(B, null, se(9, _ => o("div", { class: "work_item", key: _ }, [o("div", dx, [o("div", fx, S(b(s)), 1), o("div", hx, [px, $e(" " + S(b(n)), 1)]), o("img", { src: b(t) }, null, 8, gx)]), o("div", mx, S(b(i)), 1), o("div", vx, [o("div", wx, [o("img", { src: b(l) }, null, 8, yx)]), o("div", kx, S(b(a)), 1)])])), 64))])])) } }, Na = G(bx, [["__scopeId", "data-v-5d869bb5"]]), Oo = e => (Y("data-v-85255bdf"), e = e(), q(), e), $x = { class: "ranking" }, xx = Oo(() => o("h3", null, "每日排行榜", -1)), Sx = { class: "work_list_carton_page" }, Cx = { class: "work_img" }, Tx = { class: "rank" }, Ex = { class: "count_page" }, Ax = Oo(() => o("svg", { t: "1715784414381", class: "icon", viewBox: "0 0 1024 1024", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "p-id": "9622", width: "200", height: "200" }, [o("path", { d: "M819.2 128H409.6c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4V230.4c0-56.32-46.08-102.4-102.4-102.4z m51.2 512c0 28.16-23.04 51.2-51.2 51.2H409.6c-28.16 0-51.2-23.04-51.2-51.2V230.4c0-28.16 23.04-51.2 51.2-51.2h409.6c28.16 0 51.2 23.04 51.2 51.2v409.6z m-204.8 204.8c0 28.16-23.04 51.2-51.2 51.2H204.8c-28.16 0-51.2-23.04-51.2-51.2V435.2c0-28.16 23.04-51.2 51.2-51.2h51.2v-51.2H204.8c-56.32 0-102.4 46.08-102.4 102.4v409.6c0 56.32 46.08 102.4 102.4 102.4h409.6c56.32 0 102.4-46.08 102.4-102.4v-51.2h-51.2v51.2z", fill: "#ccd6de", "p-id": "9623" })], -1)), Ix = ["src"], Ox = { class: "work_title" }, Nx = { class: "user_info" }, jx = { class: "user_avatar" }, Lx = ["src"], Px = { class: "username" }, Ux = Oo(() => o("svg", { t: "1715776937217", class: "icon", viewBox: "0 0 1024 1024", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "p-id": "4252", width: "200", height: "200" }, [o("path", { d: "M510.86222222 1020.58666667c281.71377778 0 510.86222222-229.14844445 510.86222223-510.86222222S792.576-1.13777778 510.86222222-1.13777778 0 228.01066667 0 509.72444445s229.14844445 510.86222222 510.86222222 510.86222222z m0-950.72711112c242.57422222 0 439.86488889 197.29066667 439.86488889 439.8648889S753.43644445 949.58933333 510.86222222 949.58933333c-242.57422222 0-439.86488889-197.29066667-439.86488889-439.86488888S268.288 69.85955555 510.86222222 69.85955555zM307.65511111 532.48c-13.88088889-13.88088889-13.88088889-36.29511111 0-50.176l260.89244444-260.89244445c13.88088889-13.88088889 36.29511111-13.88088889 50.176 0 13.88088889 13.88088889 13.88088889 36.29511111 0 50.176L382.976 507.33511111l235.86133333 235.86133334c13.88088889 13.88088889 13.88088889 36.29511111 0 50.176-6.94044445 6.94044445-16.04266667 10.35377778-25.03111111 10.35377777-9.10222222 0-18.20444445-3.41333333-25.03111111-10.35377777L307.65511111 532.48z", fill: "#333303", "p-id": "4253" })], -1)), Gx = [Ux], Rx = Oo(() => o("svg", { t: "1715776983773", class: "icon", viewBox: "0 0 1024 1024", version: "1.1", xmlns: "http://www.w3.org/2000/svg", "p-id": "6057", width: "200", height: "200" }, [o("path", { d: "M896 512a384 384 0 1 0-384 384 384 384 0 0 0 384-384z m64 0A448 448 0 1 1 512 64a448 448 0 0 1 448 448z", "p-id": "6058" }), o("path", { d: "M425.28 310.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1 0 45.44l-224 224a32 32 0 0 1-45.44-45.44L626.88 512z", "p-id": "6059" })], -1)), Dx = [Rx], Mx = { name: "ranking" }, Fx = Object.assign(Mx, { setup(e) { let t = f("https://www.sunyuanling.com/image/thumbnail/100213135_p0.jpg"), s = f(1), n = f(12), i = f("作品标题"), l = f("https://www.sunyuanling.com/image/118839253_p1.jpg"), a = f("用户名"); function c(r) { const _ = document.querySelector(".work_list_carton_page"), d = .2 * 1e3, p = d / 24, m = Math.ceil(d / p); let x = 0; function g() { x < m && (_.scrollLeft += r / m, x++, requestAnimationFrame(g)) } g() } return (r, _) => (h(), w("div", $x, [xx, o("div", Sx, [(h(), w(B, null, se(10, d => o("div", { class: "work_item", key: d }, [o("div", Cx, [o("div", Tx, S(b(s)), 1), o("div", Ex, [Ax, $e(" " + S(b(n)), 1)]), o("img", { src: b(t) }, null, 8, Ix)]), o("div", Ox, [o("span", null, S(b(i)), 1)]), o("div", Nx, [o("div", jx, [o("img", { src: b(l) }, null, 8, Lx)]), o("div", Px, [o("span", null, S(b(a)), 1)])])])), 64)), o("div", { class: "left_btn", onClick: _[0] || (_[0] = d => c(-400)) }, Gx), o("div", { class: "right_btn", onClick: _[1] || (_[1] = d => c(400)) }, Dx)])])) } }), ja = G(Fx, [["__scopeId", "data-v-85255bdf"]]), Hx = e => (Y("data-v-a163e6f9"), e = e(), q(), e), Vx = { class: "cartoon_page" }, zx = Hx(() => o("h3", null, "已关注用户作品", -1)), Bx = { name: "cartoon_page", components: { recommendation_cartoon: Na, ranking: ja } }, Wx = Object.assign(Bx, { setup(e) { const t = ke(); let s = f(JSON.parse(at("userinfo"))); console.log(s.value); let n = f([]); async function i() { try { const c = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowToComic/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: s.value.userid }) }), r = await c.json(); if (c.ok) { console.log(r), n.value = r.data, console.log(n.value); for (let _ = 0; _ < n.value.length; _++)n.value[_].belong_to_avatar = await l(n.value[_].belong_to_userid) } else console.log("服务器错误") } catch (c) { console.log(c) } } async function l(c) { try { const r = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: c, token: null }) }); if (r.ok) { const _ = await r.json(); if (_.status == "success") return _.data[0].user_avatar } else console.log(r.status) } catch (r) { console.log(r) } } W(() => { i() }); function a(c) { t.commit("SET_CONTENT_PAGE", { key: "comic_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), t.commit("SET_WORK_ID", c) } return (c, r) => (h(), w("div", Vx, [zx, b(n) ? (h(), re(cx, { key: 0, msg_list: b(n), onChose_item: a }, null, 8, ["msg_list"])) : I("", !0), M(Na), M(ja)])) } }), Jx = G(Wx, [["__scopeId", "data-v-a163e6f9"]]), La = e => (Y("data-v-259b5e86"), e = e(), q(), e), Kx = { class: "recommendation_novel" }, Yx = La(() => o("h3", null, "编辑推荐作品", -1)), qx = { class: "recommendation_novel_list" }, Qx = { class: "novel_cover" }, Xx = { class: "novel_img" }, Zx = ["src"], eS = { class: "novel_info" }, tS = { class: "info_title" }, sS = { style: { color: "rgba(133,133,133,1)" } }, oS = { class: "user_info" }, nS = { class: "user_avatar" }, iS = ["src"], lS = { class: "username" }, aS = { class: "edit_msg" }, cS = La(() => o("div", { class: "edit_title" }, [o("span", { style: { color: "rgba(133,133,133,1)", "margin-bottom": "10px" } }, "小编寄语")], -1)), rS = { class: "edit_content" }, _S = { name: "recommendation_novel" }, uS = Object.assign(_S, { setup(e) { let t = f("https://www.sunyuanling.com/image/thumbnail/65014220_p0.jpg"), s = f({ state: "单篇完结作品", title: "作品标题", useravatar: "https://www.sunyuanling.com/image/avatar_thumbnail/100213135_p1.jpg", username: "用户名" }), n = f("编辑寄语，说的啥，不知道随便"); function i(l) { const a = document.querySelector(".recommendation_novel_list"), c = .2 * 1e3, _ = c / 24, d = Math.ceil(c / _); let u = 0; function p() { u < d && (a.scrollLeft += l / d, u++, requestAnimationFrame(p)) } p() } return (l, a) => (h(), w("div", Kx, [Yx, o("div", qx, [(h(), w(B, null, se(10, c => o("div", { class: "novel_item", key: c }, [o("div", Qx, [o("div", Xx, [o("img", { src: b(t) }, null, 8, Zx)]), o("div", eS, [o("div", tS, [o("span", sS, S(b(s).state), 1)]), o("span", null, S(b(s).title), 1), o("div", oS, [o("div", nS, [o("img", { src: b(s).useravatar }, null, 8, iS)]), o("div", lS, [o("span", null, S(b(s).username), 1)])])])]), o("div", aS, [cS, o("div", rS, [o("span", null, S(b(n)), 1)])])])), 64)), o("div", { class: "left_btn", onClick: a[0] || (a[0] = c => i(-400)) }, "1"), o("div", { class: "right_btn", onClick: a[1] || (a[1] = c => i(400)) }, "1")])])) } }), Pa = G(uS, [["__scopeId", "data-v-259b5e86"]]), Ua = e => (Y("data-v-e37779a0"), e = e(), q(), e), dS = { class: "ranking" }, fS = Ua(() => o("h5", { style: { "margin-bottom": "0px" } }, "每日排行榜", -1)), hS = { style: { "margin-top": "5px" } }, pS = { class: "ranking_work_list" }, gS = { class: "cover" }, mS = Ua(() => o("div", { class: "rank_svg" }, " 1 ", -1)), vS = ["src"], wS = { class: "work_info" }, yS = { class: "work_title" }, kS = { class: "work_chapter" }, bS = { class: "user_info" }, $S = { class: "user_avatar" }, xS = ["src"], SS = { class: "username" }, CS = { class: "work_tags" }, TS = { class: "brief_introduction" }, ES = { class: "read_data" }, AS = { name: "ranking" }, IS = Object.assign(AS, { setup(e) { let t = new Date, s = t.getFullYear(), n = t.getMonth() + 1, i = t.getDate(), l = s + "-" + n + "-" + i, a = f("https://www.sunyuanling.com/image/thumbnail/118839253_p1.jpg"); f(1); let c = f("作品标题"), r = f("章节标题"), _ = f("https://www.sunyuanling.com/image/avatar_thumbnail/116883317_p0.png"), d = f("用户名"), u = f(["标签1", "标签2", "标签3", "标签1", "标签2", "标签3", "标签1", "标签2", "标签3"]), p = f("作品简介"), m = f({ word: 1e3, read_time: 10, read_num: 1e3 }); function x(g) { const k = document.querySelector(".ranking_work_list"), y = .2 * 1e3, $ = y / 24, E = Math.ceil(y / $); let L = 0; function T() { L < E && (k.scrollLeft += g / E, L++, requestAnimationFrame(T)) } T() } return (g, k) => (h(), w("div", dS, [fS, o("h3", hS, S(b(l)) + "的排行榜", 1), o("div", pS, [(h(), w(B, null, se(5, y => o("div", { class: "work_item", key: y }, [o("div", gS, [mS, o("img", { src: b(a) }, null, 8, vS)]), o("div", wS, [o("div", yS, [o("span", null, S(b(c)), 1)]), o("div", kS, [o("span", null, S(b(r)), 1)]), o("div", bS, [o("div", $S, [o("img", { src: b(_) }, null, 8, xS)]), o("div", SS, [o("span", null, S(b(d)), 1)])]), o("div", CS, [(h(!0), w(B, null, se(b(u), (v, $) => (h(), w("span", { key: $, style: { "margin-right": "5px" } }, "#" + S(v), 1))), 128))]), o("div", TS, [o("span", null, S(b(p)), 1)]), o("div", ES, [o("span", null, S(b(m).word) + "字", 1), o("span", null, S(b(m).read_time) + "分钟", 1), o("span", null, S(b(m).read_num) + "次", 1)])])])), 64))]), o("div", { class: "left_btn", onClick: k[0] || (k[0] = y => x(-600)) }, "1"), o("div", { class: "right_btn", onClick: k[1] || (k[1] = y => x(600)) }, "1")])) } }), Ga = G(IS, [["__scopeId", "data-v-e37779a0"]]), OS = e => (Y("data-v-28137714"), e = e(), q(), e), NS = { class: "novel_page" }, jS = OS(() => o("h3", null, "已关注用户作品", -1)), LS = { class: "novel_list" }, PS = ["onClick"], US = ["src"], GS = { class: "novel_info" }, RS = { class: "novel_state mt" }, DS = { class: "novel_title mt" }, MS = ["onClick"], FS = { class: "novel_useravatar" }, HS = ["src"], VS = { class: "novel_username" }, zS = { class: "novel_tags mt" }, BS = { key: 0, style: { "margin-right": "5px" }, class: "age_tag" }, WS = { class: "novel_read_data mt" }, JS = { class: "word_count" }, KS = { class: "read_time" }, YS = { class: "like_count" }, qS = { name: "novel_page", components: { recommendation_novel: Pa, ranking: Ga } }, QS = Object.assign(qS, { setup(e) { const t = ke(); function s(u, p) { t.commit("SET_OTHER_USERID", u), t.commit("SET_SINGLE_PAGE_STATUS", { key: "other_user_center_page", value: !0 }), console.log(u) } let n = f("1111"), i = f("12"), l = f("45"), a = f(JSON.parse(at("userinfo"))), c = f([]); async function r() { try { const u = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowNovel/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: a.value.userid }) }); if (u.ok) { const p = await u.json(); console.log(p), c.value = p.data; for (let m = 0; m < c.value.length; m++)c.value[m].belong_to_avatar = await _(c.value[m].belong_to_userid) } else console.log("服务器错误") } catch (u) { console.log(u) } } async function _(u) { try { const p = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: u, token: null }) }); if (p.ok) { const m = await p.json(); if (m.status == "success") return m.data[0].user_avatar } else console.log(p.status) } catch (p) { console.log(p) } } W(() => { r() }); function d(u) { t.commit("SET_WORK_ID", u), t.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), t.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }) } return (u, p) => (h(), w("div", NS, [jS, o("div", LS, [(h(!0), w(B, null, se(b(c), (m, x) => (h(), w("div", { class: "novel_item", key: x }, [o("div", { class: "novel_cover", onClick: g => d(m.work_id) }, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + m.work_cover }, null, 8, US)], 8, PS), o("div", GS, [o("div", RS, [o("span", null, S(m.work_status), 1)]), o("div", DS, [o("span", null, S(m.work_name), 1)]), o("div", { class: "novel_userinfo mt", onClick: g => s(m.belong_to_userid) }, [o("div", FS, [o("img", { src: "https://www.sunyuanling.com/image/" + m.belong_to_avatar }, null, 8, HS)]), o("div", VS, [o("span", null, S(m.belong_to_username), 1)])], 8, MS), o("div", zS, [m.age_classification > 17 ? (h(), w("span", BS, "R-" + S(m.age_classification), 1)) : I("", !0), (h(!0), w(B, null, se(m.work_tags.split(/[,，]/), (g, k) => (h(), w("span", { class: "tags", key: k }, "#" + S(g), 1))), 128))]), o("div", WS, [o("div", JS, [o("span", null, S(b(n)) + "字", 1)]), o("div", KS, [o("span", null, S(b(i)) + "分钟", 1)]), o("div", YS, [o("span", null, S(b(l)) + "人喜欢", 1)])])])]))), 128))]), M(Pa), M(Ga)])) } }), XS = G(QS, [["__scopeId", "data-v-28137714"]]), ZS = e => (Y("data-v-eb84404d"), e = e(), q(), e), e4 = { class: "scroll_box" }, t4 = { class: "scroll_box_content" }, s4 = { class: "btn_box" }, o4 = ["src"], n4 = ["src"], i4 = ZS(() => o("div", { class: "image_item" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/add.svg" })], -1)), l4 = [i4], a4 = ["onClick"], c4 = ["onClick"], r4 = ["src"], _4 = ["src"], u4 = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "image" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 } }, emits: ["chose_item", "choose_cover_file", "clear_cover_file"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null); let a = f(null); const c = () => { i.value && i.value.forEach((v, $) => { v.style.backgroundColor = n.value[$ % n.value.length] }) }, r = t; let _ = f("https://www.sunyuanling.com/assets/select_correct.svg"), d = f(null), u = f(null); const p = (v, $) => { if (v != "custom_cover") { r("chose_item", "template_" + ($ + 1)), r("clear_cover_file", !0), d.value[$].style.boxShadow = "inset 0px 0px 10px 0px rgba(0, 150, 250, 1)", u.value[$].style.display = ""; for (let E = 0; E < d.value.length; E++)E != $ && (d.value[E].style.boxShadow = "none", u.value[E].style.display = "none") } else a.value.click(), r("chose_item", "custom_cover") }; function m(v) { let $ = v.target.files[0]; if ($.type.indexOf("image") == -1) { alert("请选择图片文件"); return } if ($.size > 1024 * 1024 * 35) { alert("请选择小于35M的图片"); return } $ && (r("choose_cover_file", $), console.log("文件传递父组件"), console.log($)) } const x = v => v < .5 ? 2 * v * v : -1 + (4 - 2 * v) * v, g = (v, $) => { const E = l.value.scrollLeft, L = performance.now(), T = N => { const R = N - L, X = Math.min(R / $, 1), j = x(X); l.value.scrollLeft = E + v * j, X < 1 && requestAnimationFrame(T) }; requestAnimationFrame(T) }, k = () => { g(-s.scrollDistance, s.animationDuration) }, y = () => { g(s.scrollDistance, s.animationDuration) }; return W(() => { c() }), V(() => s.msg_list, v => { i.value = l.value.querySelectorAll(".tags_item"), c() }), (v, $) => (h(), w("div", e4, [o("div", t4, [o("div", s4, [o("div", { class: "left_btn", onClick: k }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, o4)]), o("div", { class: "right_btn", onClick: y }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, n4)])]), o("div", { class: "list", ref_key: "list", ref: l }, [s.msg_type === "image" ? (h(), w("div", { key: 0, class: "item", onClick: $[0] || ($[0] = E => p("custom_cover")) }, l4)) : I("", !0), (h(!0), w(B, null, se(s.msg_list, (E, L) => (h(), w("div", { class: "item", key: L }, [s.msg_type === "tags" ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_item", ref: i, onClick: T => p(E) }, [o("span", null, S(E), 1)], 8, a4)) : I("", !0), s.msg_type === "image" ? (h(), w("div", { key: 1, class: "image_item", onClick: T => p(E, L) }, [o("img", { src: E, class: "image" }, null, 8, r4), o("div", { class: "select_box", ref_for: !0, ref_key: "select_box", ref: d }, [o("img", { src: b(_), class: "icon", ref_for: !0, ref_key: "select_icon", ref: u, style: { display: "none" } }, null, 8, _4)], 512)], 8, c4)) : I("", !0)]))), 128))], 512), o("input", { class: "select_cover", type: "file", ref_key: "select_cover", ref: a, id: "select_cover", style: { display: "none" }, accept: "image/*", onChange: m }, null, 544)])])) } }, Ra = G(u4, [["__scopeId", "data-v-eb84404d"]]); async function d4(e) { try { const t = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowWorkTags/", { method: "post", headers: { "Content-Type": "application/json", Authorization: "Bearer " + e }, body: JSON.stringify({ token: e }) }); return t.ok ? await t.json() : (console.log("获取关注作品标签失败"), !1) } catch (t) { return console.log(t), !1 } } async function f4(e = null, t = null) { try { const s = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "POST", body: JSON.stringify({ token: e, userid: t }) }); if (s.ok) { const n = await s.json(); return n.status == "success" ? n.data : !1 } else return console.log(s.status), !1 } catch (s) { console.log(s) } } const h4 = { class: "tag_box" }, p4 = { class: "switch_page" }, g4 = { __name: "index", setup(e) { const t = ke(), s = Ie(() => t.getters.indexPage), n = f(s.value), i = f({ data: [] }), l = Ie(() => i.value.data.length > 0 && i.value !== null && i.value !== void 0); function a(c) { t.commit("SET_INDEXPAGE", c), t.commit("SET_PAGESTATUS"), n.value = c } return V(() => t.getters.indexPage, c => { n.value = c }), W(async () => { a(s.value), console.log(t.getters.token); let c = await d4(Ee("token")); i.value = c, console.log(i.value) }), (c, r) => (h(), w(B, null, [o("div", h4, [l.value ? (h(), re(Ra, { key: 0, msg_type: "tags", msg_list: i.value.data }, null, 8, ["msg_list"])) : I("", !0)]), o("div", p4, [o("span", { class: ge({ active: n.value === 0 }), onClick: r[0] || (r[0] = _ => a(0)) }, "插画", 2), o("span", { class: ge({ active: n.value === 1 }), onClick: r[1] || (r[1] = _ => a(1)) }, "漫画", 2), o("span", { class: ge({ active: n.value === 2 }), onClick: r[2] || (r[2] = _ => a(2)) }, "小说", 2)]), n.value === 0 ? (h(), re(z8, { key: 0 })) : I("", !0), n.value === 1 ? (h(), re(Jx, { key: 1 })) : I("", !0), n.value === 2 ? (h(), re(XS, { key: 2 })) : I("", !0)], 64)) } }, Da = G(g4, [["__scopeId", "data-v-3d3a9c2b"]]); async function qo(e, t) { try { const s = await fetch("https://www.sunyuanling.com/api/notice_control/NoticeOperations/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ operate_type: t, token: e }) }); if (s.ok) { const n = await s.json(); if (n.status == "success") return n.data; console.log(n.message) } else console.log(s.status) } catch (s) { console.log(s) } } const Ye = e => (Y("data-v-61e7e448"), e = e(), q(), e), m4 = { class: "sidebar" }, v4 = Ye(() => o("div", { class: "title" }, [o("span", null, "首页")], -1)), w4 = { class: "sidebar_content" }, y4 = Ye(() => o("div", { class: "sidebar_content_item_icon" }, [o("img", { src: "https://www.sunyuanling.com/assets/photo.svg", class: "icon" })], -1)), k4 = Ye(() => o("div", { class: "sidebar_content_item_text" }, [o("span", null, "插画")], -1)), b4 = [y4, k4], $4 = Ye(() => o("div", { class: "sidebar_content_item_icon" }, [o("img", { src: "https://www.sunyuanling.com/assets/play.svg", class: "icon" })], -1)), x4 = Ye(() => o("div", { class: "sidebar_content_item_text" }, "动图", -1)), S4 = [$4, x4], C4 = Ye(() => o("div", { class: "sidebar_content_item_icon" }, [o("img", { src: "https://www.sunyuanling.com/assets/comic.svg", class: "icon" })], -1)), T4 = Ye(() => o("div", { class: "sidebar_content_item_text" }, [o("span", null, "漫画")], -1)), E4 = [C4, T4], A4 = Ye(() => o("div", { class: "sidebar_content_item_icon" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/novel.svg" })], -1)), I4 = Ye(() => o("div", { class: "sidebar_content_item_text" }, [o("span", null, "小说")], -1)), O4 = [A4, I4], N4 = xo('<br data-v-61e7e448><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/people.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>已关注用户的新作</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/find.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>发现</span></div></div><br data-v-61e7e448><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/rank_list.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>排行榜</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/smail.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>大家的新作</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/flag.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>比赛</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/red_love.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>约稿</span></div></div><br data-v-61e7e448><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/scroll.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>用户企划</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/pencil.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>绘图方法</span></div></div><div class="sidebar_content_item" data-v-61e7e448><div class="sidebar_content_item_icon" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/idea.svg" data-v-61e7e448></div><div class="sidebar_content_item_text" data-v-61e7e448><span data-v-61e7e448>创作点子</span></div></div>', 12), j4 = Ye(() => o("div", { class: "show_more_icon mr ml" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/drop_down.svg" })], -1)), L4 = Ye(() => o("div", { class: "show_more_text ml" }, [o("span", null, "查看更多")], -1)), P4 = [j4, L4], U4 = { class: "show_more_content" }, G4 = xo('<div class="show_more_content_item" data-v-61e7e448><div class="show_more_content_icon mr ml" data-v-61e7e448><img src="https://www.sunyuanling.com/assets/paper_airplane.svg" class="icon" data-v-61e7e448></div><div class="show_more_content_item_text mr ml" data-v-61e7e448><span data-v-61e7e448>动态</span></div></div><div class="show_more_content_item" data-v-61e7e448><div class="show_more_content_icon mr ml" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/blue_people.svg" data-v-61e7e448></div><div class="show_more_content_item_text mr ml" data-v-61e7e448>群组</div></div><div class="show_more_content_item" data-v-61e7e448><div class="show_more_content_icon mr ml" data-v-61e7e448><img class="icon" src="https://www.sunyuanling.com/assets/gift_pack.svg" data-v-61e7e448></div><div class="show_more_content_item_text mr ml" data-v-61e7e448>活动</div></div>', 3), R4 = Ye(() => o("div", { class: "show_more_content_icon mr ml" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/drop_up.svg" })], -1)), D4 = Ye(() => o("div", { class: "show_more_content_item_text mr ml" }, "收起", -1)), M4 = [R4, D4], F4 = { class: "other" }, H4 = { class: "notice" }, V4 = { name: "sidebar" }, z4 = Object.assign(V4, { setup(e) { let t = f(!1), s = f(!0), n = at("token"), i = f(); const l = ke(); function a(d) { switch (d) { case 0: l.commit("SET_PAGESTATUS", 0), l.commit("SET_INDEXPAGE", 0), l.commit("SET_SINGLE_PAGE_STATUS", { key: "index_page", value: !0 }); break; case 1: l.commit("SET_PAGESTATUS", 1), l.commit("SET_INDEXPAGE", 1), l.commit("SET_SINGLE_PAGE_STATUS", { key: "index_page", value: !0 }); break; case 2: l.commit("SET_PAGESTATUS", 2), l.commit("SET_INDEXPAGE", 2), l.commit("SET_SINGLE_PAGE_STATUS", { key: "index_page", value: !0 }); break } } function c() { s.value == !0 && (s.value = !1, t.value = !0) } function r() { s.value == !1 && (s.value = !0, t.value = !1) } async function _() { try { const d = await fetch("https://www.sunyuanling.com/api/notice_control/NoticeOperations/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ operate_type: "search", token: n }) }); if (d.ok) { const u = await d.json(); u.status == "success" ? i.value = u.data[0].content : console.log(u.message) } else console.log(d.status) } catch (d) { console.log(d) } } return W(async () => { await _() }), (d, u) => (h(), w("div", m4, [v4, o("div", w4, [o("div", { class: "sidebar_content_item", style: {}, onClick: u[0] || (u[0] = p => a(0)) }, b4), o("div", { class: "sidebar_content_item", onClick: u[1] || (u[1] = p => a(0)) }, S4), o("div", { class: "sidebar_content_item", onClick: u[2] || (u[2] = p => a(1)) }, E4), o("div", { class: "sidebar_content_item", onClick: u[3] || (u[3] = p => a(2)) }, O4), N4, ue(o("div", { class: "show_more", onClick: c }, P4, 512), [[Nt, b(s)]]), ue(o("div", U4, [G4, o("div", { class: "show_more_content_item", onClick: r }, M4)], 512), [[Nt, b(t)]]), o("div", F4, [o("span", null, S(b(i)), 1)])]), o("div", H4, [o("span", null, S(b(i)), 1)])])) } }), B4 = G(z4, [["__scopeId", "data-v-61e7e448"]]), Ht = e => (Y("data-v-bafa2ded"), e = e(), q(), e), W4 = { class: "submission_work_box_page" }, J4 = Ht(() => o("div", { class: "submission_work_box_icon" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/photo.svg" })], -1)), K4 = Ht(() => o("div", { class: "submission_work_box_text" }, "插画", -1)), Y4 = [J4, K4], q4 = Ht(() => o("div", { class: "submission_work_box_icon" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/play.svg" })], -1)), Q4 = Ht(() => o("div", { class: "submission_work_box_text" }, "动图", -1)), X4 = [q4, Q4], Z4 = Ht(() => o("div", { class: "submission_work_box_icon" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/comic.svg" })], -1)), e6 = Ht(() => o("div", { class: "submission_work_box_text" }, "漫画", -1)), t6 = [Z4, e6], s6 = Ht(() => o("div", { class: "submission_work_box_icon" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/novel.svg" })], -1)), o6 = Ht(() => o("div", { class: "submission_work_box_text" }, "小说", -1)), n6 = [s6, o6], i6 = { name: "submission_work_box" }, l6 = Object.assign(i6, { setup(e) { const t = ke(); function s(n) { t.commit("SET_UPLOAD_WORK_TYPE", n), t.commit("SET_SINGLE_PAGE_STATUS", { key: "upload_work", value: !0 }) } return (n, i) => (h(), w("div", W4, [o("div", { class: "submission_work_box_item", onClick: i[0] || (i[0] = l => s("ill")) }, Y4), o("div", { class: "submission_work_box_item", onClick: i[1] || (i[1] = l => s("ill")) }, X4), o("div", { class: "submission_work_box_item", onClick: i[2] || (i[2] = l => s("comic")) }, t6), o("div", { class: "submission_work_box_item", onClick: i[3] || (i[3] = l => s("novel")) }, n6)])) } }), a6 = G(l6, [["__scopeId", "data-v-bafa2ded"]]), Qn = e => (Y("data-v-0cb79eda"), e = e(), q(), e), c6 = { class: "header_box" }, r6 = { class: "header_box_back mt" }, _6 = { class: "header_box_background" }, u6 = { class: "header_box_background_img" }, d6 = ["src"], f6 = { class: "header_box_avatar_img" }, h6 = ["src"], p6 = { class: "header_box_username mt" }, g6 = { class: "header_box_userid mt" }, m6 = { class: "header_box_userdata mt" }, v6 = { class: "header_box_user_fldata", style: { cursor: "pointer" } }, w6 = Qn(() => o("span", null, "关注", -1)), y6 = { class: "header_box_user_fans", style: { cursor: "pointer" } }, k6 = Qn(() => o("span", null, "粉丝", -1)), b6 = xo('<br data-v-0cb79eda><div class="data_analysis mt hv" data-v-0cb79eda><span data-v-0cb79eda>数据分析</span></div><div class="my_works mt hv" data-v-0cb79eda><span data-v-0cb79eda>我的作品</span></div><div class="appointment_management mt hv" data-v-0cb79eda><span data-v-0cb79eda>约稿管理</span></div><br data-v-0cb79eda><div class="collection mt hv" data-v-0cb79eda><span data-v-0cb79eda>收藏</span></div><div class="browseing_history mt hv" data-v-0cb79eda><span data-v-0cb79eda>浏览历史</span></div><div class="bookmark mt hv" data-v-0cb79eda><span data-v-0cb79eda>书签</span></div><br data-v-0cb79eda><div class="title mt" data-v-0cb79eda><span data-v-0cb79eda>Language</span></div><div class="setting mt hv" data-v-0cb79eda><span data-v-0cb79eda>设置</span></div><div class="send_backword mt hv" data-v-0cb79eda><span data-v-0cb79eda>发送反馈</span></div>', 12), $6 = Qn(() => o("span", null, "退出登录", -1)), x6 = [$6], S6 = { name: "header_box" }, C6 = Object.assign(S6, { setup(e) { const t = ke(); let s = f("https://www.sunyuanling.com/image/97165605_p0.jpg"), n = f("https://www.sunyuanling.com/image/87328997_p0.jpg"), i = f("孙源玲"), l = f("@userid"), a = f(100), c = f(100), r = f([]); r.value = at("userinfo"), r.value = JSON.parse(r.value); async function _() { try { const y = await (await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: r.value.userid }) })).json(); y.status == "success" ? (r.value = y.data[0], p()) : console.log(y.meesage) } catch (k) { console.log(k) } } async function d() { try { const k = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFans/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: r.value.userid }) }), y = await k.json(); k.ok ? y.status == "success" ? c.value = y.data.length : console.log(y.message) : console.error("连接错误") } catch (k) { console.log(k) } } async function u() { try { const k = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollow/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: r.value.userid }) }), y = await k.json(); k.ok ? y.status == "success" ? a.value = y.data.length : console.log(y.message) : console.error("连接错误") } catch (k) { console.log(k) } } async function p() { i.value = r.value.username, l.value = "@" + r.value.userid, await u(), await d(), n.value = "https://www.sunyuanling.com/image/" + r.value.user_avatar, s.value = "https://www.sunyuanling.com/image/" + r.value.user_back_img } W(() => { _() }); function m() { console.log("用户中心跳转"), t.commit("SET_SINGLE_PAGE_STATUS", { key: "user_center_page", value: !0 }) } function x() { console.log("退出登录"), g(), window.location.href = "https://localhost:3000" } function g() { document.cookie.split(";").forEach(y => { const [v, $] = y.split("="); document.cookie = `${v}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;` }) } return (k, y) => (h(), w("div", c6, [o("div", r6, [o("div", _6, [o("div", u6, [o("img", { src: b(s) }, null, 8, d6)])]), o("div", { class: "header_box_avatar", style: { cursor: "pointer" }, onClick: m }, [o("div", f6, [o("img", { src: b(n) }, null, 8, h6)])])]), o("div", p6, [o("span", null, S(b(i)), 1)]), o("div", g6, [o("span", null, S(b(l)), 1)]), o("div", m6, [o("div", v6, [o("span", null, S(b(a)), 1), w6]), o("div", y6, [o("span", null, S(b(c)), 1), k6])]), b6, o("div", { class: "logout mt hv", onClick: x }, x6)])) } }), T6 = G(C6, [["__scopeId", "data-v-0cb79eda"]]), Hs = e => (Y("data-v-05ad96ed"), e = e(), q(), e), E6 = { class: "chat_page" }, A6 = { class: "title" }, I6 = Hs(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/left.svg" }, null, -1)), O6 = [I6], N6 = Hs(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), j6 = [N6], L6 = { class: "item" }, P6 = { class: "chat_list" }, U6 = { class: "list_title" }, G6 = Hs(() => o("span", null, "好友", -1)), R6 = [G6], D6 = Hs(() => o("span", null, "群聊", -1)), M6 = [D6], F6 = { class: "list_content" }, H6 = { class: "little_title" }, V6 = { key: 0, class: "friend_list" }, z6 = ["onClick"], B6 = { class: "user_avatar" }, W6 = { class: "avatar" }, J6 = { key: 0 }, K6 = { key: 1 }, Y6 = { key: 1, class: "group_list" }, q6 = ["onClick"], Q6 = { class: "user_avatar" }, X6 = { class: "avatar" }, Z6 = { class: "chat_content" }, e3 = { key: 0, class: "chat_content_head" }, t3 = { class: "friend_avatar", style: { "margin-left": "10px", "margin-right": "10px", width: "60px", height: "60px", "border-radius": "50%" } }, s3 = ["src"], o3 = { key: 1, class: "chat_content_head" }, n3 = { class: "friend_avatar", style: { "margin-left": "10px", "margin-right": "10px", width: "60px", height: "60px", "border-radius": "50%" } }, i3 = ["src"], l3 = { key: 0, style: { "margin-right": "10px", "align-self": "flex-end", display: "flex", "justify-content": "flex-end", width: "100%", "align-items": "center" } }, a3 = { class: "receive_content", style: { "background-color": "#e5e5ea", padding: "10px", "border-radius": "10px", "max-width": "70%", "word-wrap": "break-word" } }, c3 = { style: { "word-break": "break-all" } }, r3 = { class: "receive_avatar", style: { "margin-left": "10px", display: "flex", "align-items": "center" } }, _3 = ["src"], u3 = { key: 1, style: { "margin-left": "10px", "align-items": "flex-end", display: "flex", width: "100%" } }, d3 = { class: "send_avatar", style: { "margin-right": "10px" } }, f3 = ["src"], h3 = { class: "send_content", style: { "background-color": "#007bff", color: "white", padding: "10px", "border-radius": "10px", "max-width": "70%", "word-wrap": "break-word" } }, p3 = { style: { "word-break": "break-all" } }, g3 = { key: 0, style: { "margin-right": "10px", "align-self": "flex-end", display: "flex", "justify-content": "flex-end", width: "100%", "align-items": "center" } }, m3 = { class: "receive_content", style: { "background-color": "#e5e5ea", padding: "10px", "border-radius": "10px", "max-width": "70%", "word-wrap": "break-word" } }, v3 = { style: { "word-break": "break-all" } }, w3 = { class: "receive_avatar", style: { "margin-left": "10px", display: "flex", "align-items": "center" } }, y3 = ["src"], k3 = { key: 1, style: { "margin-left": "10px", "align-items": "flex-end", display: "flex", width: "100%" } }, b3 = { class: "send_avatar", style: { "margin-right": "10px" } }, $3 = ["src"], x3 = { class: "send_content", style: { "background-color": "#007bff", color: "white", padding: "10px", "border-radius": "10px", "max-width": "70%", "word-wrap": "break-word" } }, S3 = { style: { "word-break": "break-all" } }, C3 = { class: "send_box" }, T3 = Hs(() => o("span", null, "最新消息", -1)), E3 = [T3], A3 = { name: "chat_page" }, I3 = Object.assign(A3, { emits: ["close_page"], setup(e, { emit: t }) { const s = ke(); function n() { s.commit("SET_SINGLE_PAGE_STATUS", { key: "chat_page", value: !1 }) } let i = f(JSON.parse(at("userinfo"))), l = f([]), a = f("好友列表"), c = f(null), r = f(null), _ = f([]), d = f(!0), u = f(!1), p = f([]), m = f([{}]), x = f(), g = f(null), k, y = f([{}]), v = f(null), $ = f(null); function E(Q) { Q.target.innerText == "好友" ? (c.value.style.borderBottom = "2px solid #000000", r.value.style.borderBottom = "none", a.value = "好友列表", d.value = !0, u.value = !1) : (r.value.style.borderBottom = "2px solid #000000", c.value.style.borderBottom = "none", a.value = "群聊列表", u.value = !0, d.value = !1) } V(a, (Q, le) => { console.log(Q) }); async function L(Q) { async function le(xe) { try { const ne = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetFriendList/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: xe }) }); if (ne.ok) { const fe = await ne.json(); if (fe.status === "success") { let Ue = []; console.log(fe.data); for (let qe = 0; qe < fe.data.length; qe++) { let Ge = fe.data[qe]; console.log(`Fetching avatar for friend id: ${Ge.friendid}`); let Qe = await N(Ge.type, Ge.friendid); console.log(`Fetched avatar URL: ${Qe}`), Ue.push({ ...Ge, avatarUrl: Qe }) } l.value = Ue } else console.log(fe.message) } else console.log(ne.status) } catch (ne) { console.log(ne) } } await le(i.value.userid) } async function T(Q) { async function le(xe) { try { const ne = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetGroupList/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: xe }) }); if (ne.ok) { const fe = await ne.json(); fe.status == "success" ? (p.value = fe.data, console.log(p.value)) : console.log(fe.message) } else console.log(ne.status) } catch (ne) { console.log(ne) } } await le(i.value.userid) } async function N(Q, le) { if (Q === "friend") try { const xe = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: le }) }); if (xe.ok) { const ne = await xe.json(); if (ne.status === "success") return x.value = "https://www.sunyuanling.com/image/" + ne.data[0].user_avatar, "https://www.sunyuanling.com/image/" + ne.data[0].user_avatar; console.log(ne.message) } } catch (xe) { console.log(xe) } else Q === "group" && console.log("group"); return "https://www.sunyuanling.com/assets/default_avatar.svg" } const R = {}; async function X() { console.log(m.value); for (let Q = 0; Q < m.value.length; Q++) { let le = m.value[Q]; if (!R[le.sender_id]) { let xe = await N("friend", le.sender_id); xe ? R[le.sender_id] = xe : R[le.sender_id] = "https://www.sunyuanling.com/assets/default_avatar.svg" } m.value[Q].avatar = R[le.sender_id] } } V(m, (Q, le) => { console.log(Q), X() }); let j = f(); async function _e(Q, le) { console.log(Q), Q === "friend" ? (y.value = [], _.value = le, _.value.type = "friend", await N("friend", _.value.friendid), ee("one_to_one", i.value.userid, _.value.friendid, null, null), oe("friend", i.value.userid, _.value.friendid), setTimeout(() => { v.value.scrollTop = v.value.scrollHeight }, 100)) : Q === "group" && (m.value = [], _.value = le, _.value.type = "group", console.log(_.value), await J(_.value.group_id), ee("many_to_many", i.value.userid, null, null, _.value.group_id), await oe("group", i.value.userid, _.value.group_id), setTimeout(() => { v.value.scrollTop = v.value.scrollHeight }, 100)) } async function J(Q) { try { const le = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetGroupInfo/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ group_id: Q, userid: i.value.userid }) }); if (le.ok) { const xe = await le.json(); xe.status == "success" ? (j.value = xe.data[0], console.log(j.value)) : console.log(xe.message) } else console.log(le.status) } catch (le) { console.log(le) } } function me() { v.value && (v.value.scrollTop = v.value.scrollHeight) } function ee(Q, le, xe = null, ne = "", fe = null) { const Ue = `wss://127.0.0.1:2234/ws/chat/?userid=${i.value.userid}`; k = new WebSocket(Ue), k.onopen = () => { console.log("WebSocket 连接成功") }, k.onmessage = qe => { console.log("收到消息:", qe.data); const Ge = JSON.parse(qe.data); Ge.status == "warning" && alert(Ge.message), te(qe.data) }, k.onclose = () => { console.log("WebSocket 连接关闭") }, k.onerror = qe => { console.log("WebSocket 连接错误:", qe) } } async function te(Q) { JSON.parse(Q), _.value.type == "friend" ? await oe("friend", i.value.userid, _.value.friendid) : _.value.type == "group" && (await oe("group", i.value.userid, _.value.groupid), console.log(m.value), setTimeout(() => { v.value.scrollTop = v.value.scrollHeight }, 100)) } async function oe(Q, le, xe = null, ne = null) { if (Q == "friend") try { const fe = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserHistoryMsg/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ msg_type: "friend", userid: le, friend_id: xe, group_id: ne }) }); if (fe.ok) { const Ue = await fe.json(); Ue.status == "success" && (y.value = Ue.data) } else console.log(fe.status) } catch (fe) { console.log(fe) } else if (Q == "group") try { const fe = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserHistoryMsg/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ msg_type: "group", userid: i.value.userid, group_id: _.value.group_id, friend_id: xe }) }); if (fe.ok) { const Ue = await fe.json(); Ue.status == "success" && (console.log(Ue.data), m.value = Ue.data) } else console.log(fe.status) } catch (fe) { console.log(fe) } } async function ve() { try { let Q = $.value; if (_.value.type == "friend") { let le = JSON.stringify({ type: "one_to_one", send_msg_user_id: i.value.userid, to_user_id: _.value.friendid, content: Q, to_group_id: null }); k.send(le), y.value.push({ ID: 1, content: Q, group_id: null, receive_id: _.value.friendid, receiver_read_status: "已读", sender_id: i.value.userid, time: new Date().toLocaleString(), type: "one_to_one" }), $.value = "", setTimeout(() => { v.value.scrollTop = v.value.scrollHeight }, 10) } else if (_.value.type == "group") { console.log(_.value.group_id); let le = JSON.stringify({ type: "many_to_many", send_msg_user_id: i.value.userid, to_user_id: null, content: Q, to_group_id: _.value.group_id }); k.send(le), m.value.push({ ID: 1, content: Q, group_id: _.value.group_id, receive_id: null, receiver_read_status: "已读", sender_id: i.value.userid, time: new Date().toLocaleString(), type: "many_to_many" }), $.value = "", setTimeout(() => { v.value.scrollTop = v.value.scrollHeight }, 10) } } catch (Q) { console.log(Q) } } return W(() => { L(), T(), c.value.style.borderBottom = "2px solid #000000", r.value.style.borderBottom = "none" }), (Q, le) => { const xe = er("lazy"); return h(), w("div", E6, [o("div", A6, [o("div", { class: "back_index_page", onClick: le[0] || (le[0] = ne => n()) }, O6), o("div", { class: "close_btn", onClick: n }, j6)]), o("div", L6, [o("div", P6, [o("div", U6, [o("div", { class: "title_item", ref_key: "friend_title", ref: c, onClick: E }, R6, 512), o("div", { class: "title_item", ref_key: "group_title", ref: r, onClick: E }, M6, 512)]), o("div", F6, [o("span", H6, S(b(a)), 1), b(d) ? (h(), w("div", V6, [(h(!0), w(B, null, se(b(l), (ne, fe) => (h(), w("div", { class: "list_content_item", key: fe, onClick: Ue => _e("friend", ne) }, [o("div", B6, [ue(o("img", W6, null, 512), [[xe, ne.avatarUrl]])]), ne.notes ? I("", !0) : (h(), w("span", J6, S(ne.friendname), 1)), ne.notes ? (h(), w("span", K6, S(ne.notes), 1)) : I("", !0)], 8, z6))), 128))])) : I("", !0), b(u) ? (h(), w("div", Y6, [(h(!0), w(B, null, se(b(p), (ne, fe) => (h(), w("div", { class: "list_content_item", key: fe, onClick: Ue => _e("group", ne) }, [o("div", Q6, [ue(o("img", X6, null, 512), [[xe, "https://www.sunyuanling.com/image/" + ne.group_avatar]])]), o("span", null, S(ne.group_name), 1)], 8, q6))), 128))])) : I("", !0)])]), o("div", Z6, [b(_).friendname != "" && b(_).friendname != null && b(_).friendname != null ? (h(), w("div", e3, [o("div", t3, [o("img", { class: "avatar", src: b(x), style: { width: "50px", height: "50px", "object-fit": "cover", "border-radius": "50%" } }, null, 8, s3)]), o("span", null, S(b(_).friendname), 1)])) : b(_).group_name != "" && b(_).group_name != null && b(_).group_name != null ? (h(), w("div", o3, [o("div", n3, [o("img", { class: "avatar", src: "https://www.sunyuanling.com/image/" + b(_).group_avatar, style: { width: "50px", height: "50px", "object-fit": "cover", "border-radius": "50%" } }, null, 8, i3)]), o("span", null, S(b(_).group_name), 1)])) : I("", !0), b(_).friendname != "" && b(_).friendname != null && b(_).friendname != null ? (h(), w("div", { key: 2, class: "message_list", ref_key: "message_list", ref: v }, [(h(!0), w(B, null, se(b(y), (ne, fe) => (h(), w("div", { class: "message_item", key: fe, style: { position: "relative", display: "flex", "margin-bottom": "10px", "align-items": "center" } }, [ne.sender_id == b(i).userid ? (h(), w("div", l3, [o("div", a3, [o("span", c3, S(ne.content), 1)]), o("div", r3, [o("img", { class: "avatar", src: "https://www.sunyuanling.com/image/" + b(i).user_avatar, style: { width: "50px", height: "50px", "object-fit": "cover", "border-radius": "50%" } }, null, 8, _3)])])) : (h(), w("div", u3, [o("div", d3, [o("img", { class: "avatar", src: b(x), style: { width: "50px", height: "50px", "object-fit": "cover", "border-radius": "50%" } }, null, 8, f3)]), o("div", h3, [o("span", p3, S(ne.content), 1)])]))]))), 128))], 512)) : b(_).group_name != "" && b(_).group_name != null && b(_).group_name != null ? (h(), w("div", { key: 3, class: "message_list", ref_key: "message_list", ref: v }, [(h(!0), w(B, null, se(b(m), (ne, fe) => (h(), w("div", { class: "message_item", key: fe, style: { position: "relative", display: "flex", "margin-bottom": "10px", "align-items": "center" } }, [ne.sender_id == b(i).userid ? (h(), w("div", g3, [o("div", m3, [o("span", v3, S(ne.content), 1)]), o("div", w3, [o("img", { class: "avatar", src: "https://www.sunyuanling.com/image/" + b(i).user_avatar, style: { width: "50px", height: "50px", "object-fit": "cover", "border-radius": "50%" } }, null, 8, y3)])])) : (h(), w("div", k3, [o("div", b3, [o("img", { class: "avatar", src: b(m)[fe].avatar || "https://www.sunyuanling.com/assets/default_avatar.svg", style: { width: "50px", height: "50px", "object-fit": "cover", "border-radius": "50%" } }, null, 8, $3)]), o("div", x3, [o("span", S3, S(ne.content), 1)])]))]))), 128))], 512)) : I("", !0), o("div", C3, [o("div", { class: "send_msg_box", ref_key: "msg", ref: g }, [ue(o("textarea", { id: "msg", placeholder: "请输入消息", "onUpdate:modelValue": le[1] || (le[1] = ne => de($) ? $.value = ne : $ = ne) }, null, 512), [[Oe, b($)]])], 512), o("div", { class: "send_btn", onClick: le[2] || (le[2] = ne => ve()) }, "发送"), o("div", { class: "jump_end", onClick: le[3] || (le[3] = ne => me()) }, E3)])])])]) } } }), O3 = G(I3, [["__scopeId", "data-v-05ad96ed"]]), No = e => (Y("data-v-6e00eec0"), e = e(), q(), e), N3 = { class: "ill_page" }, j3 = { class: "content" }, L3 = No(() => o("div", { class: "sort_fun_box" }, " 排序方法 ", -1)), P3 = No(() => o("div", { class: "popular_works" }, " 热门作品 ", -1)), U3 = { class: "title" }, G3 = No(() => o("span", null, "作品", -1)), R3 = { key: 0, class: "work_count" }, D3 = { class: "ill_box" }, M3 = { key: 0, class: "age_classifiction" }, F3 = { class: "page_count" }, H3 = No(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/page_count.svg", style: { "margin-right": "5px" } }, null, -1)), V3 = ["src", "onClick"], z3 = { class: "work_title" }, B3 = { class: "author_info" }, W3 = ["src"], J3 = { class: "author_name" }, K3 = { name: "ill_page" }, Y3 = Object.assign(K3, { props: { ill_data: { type: Object, default() { } } }, emits: ["work_count"], setup(e, { emit: t }) { const s = new ke; let n = e, i = f(n.ill_data); const l = t; V(() => n.ill_data, async (_, d) => { i.value = _, await c(), l("work_count", { type: "ill", count: i.value.length }) }), W(async () => { i.value = n.ill_data }); async function a(_) { const d = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "POST", body: JSON.stringify({ userid: _ }) }); if (d.ok) { const u = await d.json(); if (u.status == "success") return "https://www.sunyuanling.com/image/avatar_thumbnail/" + u.data[0].user_avatar } } async function c() { for (let _ = 0; _ < i.value.length; _++)i.value[_].avatar = await a(i.value[_].belong_to_user_id) } function r(_) { console.log(_), s.commit("SET_CONTENT_PAGE", { key: "ill_page", value: !0 }), s.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), s.commit("SET_WORK_ID", _), s.commit("SET_WORK_TYPE", "ill") } return (_, d) => (h(), w("div", N3, [o("div", j3, [L3, P3, o("div", U3, [G3, b(i) ? (h(), w("div", R3, [o("span", null, S(b(i).length), 1)])) : I("", !0)]), o("div", D3, [(h(!0), w(B, null, se(b(i), (u, p) => (h(), w("div", { class: "ill_item", key: p }, [u.age_classification > 16 ? (h(), w("div", M3, [o("span", null, "R-" + S(u.age_classification), 1)])) : I("", !0), o("div", F3, [H3, o("span", null, S(u.content_file_list.split(/[,，]/).length), 1)]), o("img", { class: "ill_img", src: "https://www.sunyuanling.com/image/thumbnail/" + u.content_file_list.split(/[,，]/)[0], onClick: m => r(u.Illustration_id) }, null, 8, V3), o("span", z3, S(u.name), 1), o("div", B3, [o("img", { class: "author_avatar", src: u.avatar }, null, 8, W3), o("div", J3, [o("span", null, S(u.belong_to_user), 1)])])]))), 128))])])])) } }), Ma = G(Y3, [["__scopeId", "data-v-6e00eec0"]]), jo = e => (Y("data-v-7bb03d47"), e = e(), q(), e), q3 = { class: "comic_page" }, Q3 = { class: "content" }, X3 = jo(() => o("div", { class: "sort_fun_box" }, " 排序方式 ", -1)), Z3 = jo(() => o("div", { class: "popular_works" }, " 热门作品 ", -1)), e5 = { class: "title" }, t5 = jo(() => o("span", null, "作品", -1)), s5 = { key: 0, class: "work_count" }, o5 = { key: 0, class: "comic_box" }, n5 = { key: 0, class: "age_classification" }, i5 = { class: "page_count" }, l5 = jo(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/page_count.svg" }, null, -1)), a5 = ["onClick"], c5 = ["src"], r5 = { class: "comic_title" }, _5 = { class: "author_info" }, u5 = { class: "author_avatar" }, d5 = ["src"], f5 = { class: "author_name" }, h5 = { name: "comic_page" }, p5 = Object.assign(h5, { props: { comic_data: { type: Object, default() { return {} } } }, emits: ["work_count"], setup(e, { emit: t }) { const s = new ke; let n = e, i = f(n.comic_data); const l = t; V(() => n.comic_data, async (_, d) => { i.value = _, await c(), l("work_count", { type: "comic", count: i.value.length }) }), W(async () => { i.value = n.comic_data, await c() }); async function a(_) { const d = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "POST", body: JSON.stringify({ userid: _ }) }); if (d.ok) { const u = await d.json(); if (u.status == "success") return "https://www.sunyuanling.com/image/avatar_thumbnail/" + u.data[0].user_avatar } } async function c() { for (let _ = 0; _ < i.value.length; _++)i.value[_].avatar = await a(i.value[_].belong_to_userid) } function r(_) { console.log(_), s.commit("SET_CONTENT_PAGE", { key: "comic_page", value: !0 }), s.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), s.commit("SET_WORK_ID", _), s.commit("SET_WORK_TYPE", "comic") } return (_, d) => (h(), w("div", q3, [o("div", Q3, [X3, Z3, o("div", e5, [t5, b(i) ? (h(), w("div", s5, [o("span", null, S(b(i).length), 1)])) : I("", !0)]), b(i) ? (h(), w("div", o5, [(h(!0), w(B, null, se(b(i), (u, p) => (h(), w("div", { class: "comic_item", key: p }, [u.age_classification > 16 ? (h(), w("div", n5, [o("span", null, "R-" + S(u.age_classification), 1)])) : I("", !0), o("div", i5, [l5, o("span", null, S(u.content_file_list.split(/[,，]/).length), 1)]), o("div", { class: "comic_cover", onClick: m => r(u.id) }, [o("img", { src: "https://www.sunyuanling.com/image/comic/thumbnail/" + u.content_file_list.split(/[,，]/)[0] }, null, 8, c5)], 8, a5), o("div", r5, [o("span", null, S(u.work_name), 1)]), o("div", _5, [o("div", u5, [o("img", { class: "author_avatar_img", src: u.avatar }, null, 8, d5)]), o("div", f5, [o("span", null, S(u.belong_to_user), 1)])])]))), 128))])) : I("", !0)])])) } }), Fa = G(p5, [["__scopeId", "data-v-7bb03d47"]]), Lo = e => (Y("data-v-c53dd8f8"), e = e(), q(), e), g5 = { class: "novel_page" }, m5 = { class: "content" }, v5 = Lo(() => o("div", { class: "sort_fun_box" }, " 排序方法 ", -1)), w5 = Lo(() => o("div", { class: "popular_box" }, " 推荐作品 ", -1)), y5 = { class: "title" }, k5 = Lo(() => o("span", null, "作品", -1)), b5 = { key: 0, class: "work_count" }, $5 = { class: "item_box" }, x5 = ["onClick"], S5 = ["src"], C5 = { class: "novel_info" }, T5 = { class: "novel_title" }, E5 = { class: "author_info" }, A5 = { class: "author_avatar" }, I5 = ["src"], O5 = { class: "author_name" }, N5 = { class: "tags" }, j5 = { key: 0, style: { "font-size": "16px", "font-weight": "bold", color: "red", "margin-right": "5px" } }, L5 = { class: "author_say" }, P5 = Lo(() => o("div", { class: "read_info" }, null, -1)), U5 = { name: "novel_page" }, G5 = Object.assign(U5, { props: { novel_data: { type: Object, default: () => ({}) } }, emits: ["work_count"], setup(e, { emit: t }) { const s = new ke; let n = e, i = f(n.novel_data); const l = t; V(() => n.novel_data, async (_, d) => { i.value = _, await c(), l("work_count", { type: "novel", count: i.value.length }) }), W(async () => { i.value = n.novel_data, await c() }); async function a(_) { const d = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "POST", body: JSON.stringify({ userid: _ }) }); if (d.ok) { const u = await d.json(); if (u.status == "success") return "https://www.sunyuanling.com/image/avatar_thumbnail/" + u.data[0].user_avatar } } async function c() { for (let _ = 0; _ < i.value.length; _++)i.value[_].avatar = await a(i.value[_].belong_to_userid) } function r(_) { console.log(_), s.commit("SET_CONTENT_PAGE", { key: "novel_page", value: !0 }), s.commit("SET_SINGLE_PAGE_STATUS", { key: "content_index_page", value: !0 }), s.commit("SET_WORK_ID", _), s.commit("SET_WORK_TYPE", "novel") } return (_, d) => (h(), w("div", g5, [o("div", m5, [v5, w5, o("div", y5, [k5, b(i) ? (h(), w("div", b5, [o("span", null, S(b(i).length), 1)])) : I("", !0)]), o("div", $5, [(h(!0), w(B, null, se(b(i), (u, p) => (h(), w("div", { class: "item", key: p }, [o("div", { class: "novel_cover", onClick: m => r(u.work_id) }, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + u.work_cover }, null, 8, S5)], 8, x5), o("div", C5, [o("div", T5, [o("span", null, S(u.work_name), 1)]), o("div", E5, [o("div", A5, [o("img", { src: u.avatar }, null, 8, I5)]), o("div", O5, [o("span", null, S(u.belong_to_username), 1)])]), o("div", N5, [u.age_classification > 16 ? (h(), w("span", j5, "R-" + S(u.age_classification), 1)) : I("", !0), (h(!0), w(B, null, se(u.work_tags.split(/[,，]/), (m, x) => (h(), w("span", { style: { color: "rgba(0,150,250,1)", "font-size": "16px", "font-weight": "bold", "margin-right": "5px" }, key: x }, "#" + S(m), 1))), 128))]), o("div", L5, S(u.author_say), 1), P5])]))), 128))])])])) } }), Ha = G(G5, [["__scopeId", "data-v-c53dd8f8"]]), R5 = { class: "user_page" }, D5 = { class: "content" }, M5 = { class: "item_box" }, F5 = { class: "user_avatar" }, H5 = ["src"], V5 = { class: "user_info" }, z5 = { class: "user_name" }, B5 = { key: 0, class: "user_work" }, W5 = { key: 0, class: "item_img" }, J5 = ["src", "onClick"], K5 = { key: 1, class: "item_img" }, Y5 = ["src", "onClick"], q5 = { key: 2, class: "item_img" }, Q5 = ["src", "onClick"], X5 = { class: "brief_introduction" }, Z5 = ["onClick"], eC = { key: 0 }, tC = { key: 1 }, sC = { __name: "user_page", props: { user_data: { type: Object, default: () => ({}) } }, emits: ["work_count"], setup(e, { emit: t }) { const s = e, n = f(s.user_data), i = f({}), l = f([]), a = JSON.parse(at("userinfo")).userid, c = t; V(() => s.user_data, async g => { n.value = g, await _(), p(), await u(), c("work_count", { type: "user", count: n.value.length }) }), W(async () => { n.value = s.user_data, await _(), p() }); async function r(g) { try { const k = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkList/", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: g }) }); if (!k.ok) return console.log("网络错误"), null; const y = await k.json(); return y.status === "success" ? y.data : (console.warn(y.message), null) } catch (k) { return console.error("请求错误:", k), null } } async function _() { const g = {}; for (const k of n.value) { const y = await r(k.userid); y && (g[k.userid] = y) } i.value = g, console.log(i.value) } async function d(g, k) { try { const y = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserFollowList/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ userid: a, target_id: k }) }); if (y.ok) { const v = await y.json(); return v.status == "success" ? v.data : (console.log("error"), []) } } catch (y) { console.log(y) } } async function u() { let g; try { for (let k = 0; k < n.value.length; k++)g = await d(a, n.value[k].userid), g.length != 0 ? n.value[k].follow_status = !0 : n.value[k].follow_status = !1 } catch (k) { console.log(k) } } function p() { l.value = []; const g = Object.values(i.value).flat(), k = g.flatMap(E => E.ill || []), y = g.flatMap(E => E.comic || []), v = g.flatMap(E => E.novel || []), $ = E => { for (const L of E) if (l.value.length < 4) l.value.push(L); else break }; $(k), $(y), $(v), console.log(l.value) } function m(g, k) { console.log(k), console.log(g) } async function x(g, k) { const y = await fetch("https://www.sunyuanling.com/api/GetUserInfo/UserAddFollow/", { method: "POST", body: JSON.stringify({ target_username: g, target_id: k, userid: a, username: JSON.parse(at("userinfo")).username }) }); if (y.ok) { const v = await y.json(); v.status == "success" ? (alert(v.message), await u()) : alert("关注失败") } } return (g, k) => (h(), w("div", R5, [o("div", D5, [o("div", M5, [(h(!0), w(B, null, se(n.value, (y, v) => (h(), w("div", { class: "item", key: v }, [o("div", F5, [o("img", { src: "https://www.sunyuanling.com/image/avatar_thumbnail/" + y.user_avatar }, null, 8, H5)]), o("div", V5, [o("div", z5, [o("span", null, S(y.username), 1)]), l.value.length > 0 ? (h(), w("div", B5, [(h(!0), w(B, null, se(l.value, ($, E) => (h(), w("div", { class: "user_work_for", key: E }, [$.Illustration_id ? (h(), w("div", W5, [o("img", { src: "https://www.sunyuanling.com/image/thumbnail/" + $.content_file_list.split(/[,，]/)[0], onClick: L => m("ill", $.Illustration_id) }, null, 8, J5)])) : $.id ? (h(), w("div", K5, [o("img", { src: "https://www.sunyuanling.com/image/comic/thumbnail/" + $.content_file_list.split(/[,，]/)[0], onClick: L => m("comic", $.id) }, null, 8, Y5)])) : $.work_id ? (h(), w("div", q5, [o("img", { src: "https://www.sunyuanling.com/image/novel/thumbnail/" + $.work_cover, onClick: L => m("novel", $.work_id) }, null, 8, Q5)])) : I("", !0)]))), 128))])) : I("", !0), o("div", X5, [o("span", null, S(y.user_self_introduction), 1)]), o("div", { class: ge({ follow_btn: !y.follow_status, unfollow_btn: y.follow_status }), onClick: $ => x(y.username, y.userid) }, [y.follow_status ? (h(), w("span", tC, "取消关注")) : (h(), w("span", eC, "关注"))], 10, Z5)])]))), 128))])])])) } }, Va = G(sC, [["__scopeId", "data-v-98c45e9d"]]), oC = { class: "scroll_box" }, nC = { class: "scroll_box_content" }, iC = { class: "btn_box" }, lC = ["src"], aC = ["src"], cC = ["onClick"], rC = ["onClick"], _C = ["src"], uC = { __name: "scroll_box", props: { left_btn: { type: String, default: "https://www.sunyuanling.com/assets/left.svg" }, right_btn: { type: String, default: "https://www.sunyuanling.com/assets/right.svg" }, msg_type: { type: String, default: "tags" }, msg_list: { type: Array, default: () => [] }, animationDuration: { type: Number, default: 500 }, scrollDistance: { type: Number, default: 400 } }, emits: ["chose_item"], setup(e, { emit: t }) { const s = e, n = f(["rgb(126, 183, 200)", "rgb(126, 186, 200)", "rgb(157, 200, 126)", "rgb(200, 126, 170)", "rgb(200, 126, 146)", "rgb(126, 129, 200)", "rgb(167, 126, 200)", "rgb(200, 170, 126)", "rgb(126, 200, 167)", "rgb(126, 200, 129)"]), i = f(null), l = f(null), a = () => { i.value && i.value.forEach((m, x) => { m.style.backgroundColor = n.value[x % n.value.length] }) }, c = t, r = m => { c("chose_item", m) }, _ = m => m < .5 ? 2 * m * m : -1 + (4 - 2 * m) * m, d = (m, x) => { const g = l.value.scrollLeft, k = performance.now(), y = v => { const $ = v - k, E = Math.min($ / x, 1), L = _(E); l.value.scrollLeft = g + m * L, E < 1 && requestAnimationFrame(y) }; requestAnimationFrame(y) }, u = () => { d(-s.scrollDistance, s.animationDuration) }, p = () => { d(s.scrollDistance, s.animationDuration) }; return W(() => { a() }), (m, x) => (h(), w("div", oC, [o("div", nC, [o("div", iC, [o("div", { class: "left_btn", onClick: u }, [o("img", { src: s.left_btn, class: "icon" }, null, 8, lC)]), o("div", { class: "right_btn", onClick: p }, [o("img", { src: s.right_btn, class: "icon" }, null, 8, aC)])]), o("div", { class: "list", ref_key: "list", ref: l }, [(h(!0), w(B, null, se(s.msg_list, (g, k) => (h(), w("div", { class: "item", key: k }, [s.msg_type === "tags" && g != "" && g ? (h(), w("div", { key: 0, class: "tags_item", ref_for: !0, ref_key: "tags_item", ref: i, onClick: y => r(g) }, [o("span", null, S(g), 1)], 8, cC)) : I("", !0), s.msg_type === "image" ? (h(), w("div", { key: 1, class: "image_item", onClick: y => r(g) }, [o("img", { src: g, class: "image" }, null, 8, _C)], 8, rC)) : I("", !0)]))), 128))], 512)])])) } }, dC = G(uC, [["__scopeId", "data-v-299ce55e"]]), Vs = e => (Y("data-v-cb5a2726"), e = e(), q(), e), fC = Vs(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg", alt: "close_btn" }, null, -1)), hC = [fC], pC = { class: "content" }, gC = { class: "head_box" }, mC = { class: "choose_search_target_page" }, vC = Vs(() => o("span", null, "插画", -1)), wC = { class: "count_result" }, yC = Vs(() => o("span", null, "漫画", -1)), kC = { class: "count_result" }, bC = Vs(() => o("span", null, "小说", -1)), $C = { class: "count_result" }, xC = Vs(() => o("span", null, "用户", -1)), SC = { class: "count_result" }, CC = { name: "search_page_index", components: { ill_page: Ma, comic_page: Fa, novel_page: Ha, user_page: Va } }, TC = Object.assign(CC, { props: { search_item: { type: String, default: "德丽莎" } }, emits: ["close_msg"], setup(e, { expose: t, emit: s }) { let n = e, i = f(n.search_item), l = f([]), a = f([]), c = f([]), r = f([]), _ = f(); f("https://www.sunyuanling.com/image/thumbnail/120282888_p0.jpg"); let d = f(!0), u = f(!1), p = f(!1), m = f(!1), x = f(null), g = f(null), k = f(null), y = f(null); function v(ee) { switch (ee) { case 0: d.value = !0, x.value.style.borderTop = "4px solid rgb(0,250,250)", u.value = !1, g.value.style.borderTop = "", p.value = !1, k.value.style.borderTop = "", m.value = !1, y.value.style.borderTop = ""; break; case 1: d.value = !1, x.value.style.borderTop = "", u.value = !0, g.value.style.borderTop = "4px solid rgb(0,250,250)", p.value = !1, k.value.style.borderTop = "", m.value = !1, y.value.style.borderTop = ""; break; case 2: d.value = !1, x.value.style.borderTop = "", u.value = !1, g.value.style.borderTop = "", p.value = !0, k.value.style.borderTop = "4px solid rgb(0,250,250)", m.value = !1, y.value.style.borderTop = ""; break; case 3: d.value = !1, x.value.style.borderTop = "", u.value = !1, g.value.style.borderTop = "", p.value = !1, k.value.style.borderTop = "", m.value = !0, y.value.style.borderTop = "4px solid rgb(0,250,250)"; break } } W(() => { v(0) }), V(() => n.search_item, async (ee, te) => { i.value = await N(ee), $(i.value), E(i.value), console.log(_.value) }); function $(ee) { l.value = [], a.value = [], c.value = [], r.value = [], ee != null && ee.forEach(te => { te.type === "ill" ? l.value.push(te) : te.type === "comic" ? a.value.push(te) : te.type === "novel" && c.value.push(te), te.type === "user" && r.value.push(te) }) } function E(ee) { if (ee == null) { _.value = []; return } let te = ee.flatMap(oe => oe.work_tags && typeof oe.work_tags == "string" ? oe.work_tags.split(/[,，]/).map(ve => ve.trim()) : (console.warn("Expected a string for work_tags but got:", oe.work_tags), [])); _.value = [...new Set(te)] } let L = s; function T() { L("close_msg", !1) } async function N(ee) { i.value = null; try { const te = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetSearch/", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ search_key: ee }) }); if (te.ok) { const oe = await te.json(); return oe.status == "success" ? (console.log(oe.data), oe.data) : (console.log(oe.message), []) } } catch (te) { return console.log(te), [] } } function R(ee) { ee.stopPropagation() } t({ get_search_data: N }); let X = f(), j = f(), _e = f(), J = f(); function me(ee) { let te = ee.type, oe = ee.count; switch (te) { case "ill": X.value = oe; break; case "comic": j.value = oe; break; case "novel": _e.value = oe; break; case "user": J.value = oe } } return (ee, te) => (h(), w("div", { class: "search_page_index", onWheel: R }, [o("div", { class: "close_btn", onClick: te[0] || (te[0] = oe => T()) }, hC), o("div", pC, [o("div", gC, [b(_) ? (h(), re(dC, { key: 0, msg_list: b(_) }, null, 8, ["msg_list"])) : I("", !0)]), o("div", mC, [o("div", { class: "choose_ill_page", ref_key: "choose_ill_page", ref: x, onClick: te[1] || (te[1] = oe => v(0)) }, [vC, o("span", wC, S(b(X)), 1)], 512), o("div", { class: "choose_comic_page", ref_key: "choose_comic_page", ref: g, onClick: te[2] || (te[2] = oe => v(1)) }, [yC, o("span", kC, S(b(j)), 1)], 512), o("div", { class: "choose_novel_page", ref_key: "choose_novel_page", ref: k, onClick: te[3] || (te[3] = oe => v(2)) }, [bC, o("span", $C, S(b(_e)), 1)], 512), o("div", { class: "choose_user_page", ref_key: "choose_user_page", ref: y, onClick: te[4] || (te[4] = oe => v(3)) }, [xC, o("span", SC, S(b(J)), 1)], 512)]), ue(M(Ma, { ill_data: b(l), onWork_count: me }, null, 8, ["ill_data"]), [[Nt, b(d)]]), ue(M(Fa, { comic_data: b(a), onWork_count: me }, null, 8, ["comic_data"]), [[Nt, b(u)]]), ue(M(Ha, { novel_data: b(c), onWork_count: me }, null, 8, ["novel_data"]), [[Nt, b(p)]]), ue(M(Va, { user_data: b(r), onWork_count: me }, null, 8, ["user_data"]), [[Nt, b(m)]])])], 32)) } }), EC = G(TC, [["__scopeId", "data-v-cb5a2726"]]), vs = e => (Y("data-v-7dc3b6c8"), e = e(), q(), e), AC = { key: 0, class: "title" }, IC = { class: "show_more" }, OC = vs(() => o("img", { src: "https://www.sunyuanling.com/assets/more.svg", class: "icon" }, null, -1)), NC = [OC], jC = { class: "index_jump_img ml" }, LC = { href: "https://localhost:3002/" }, PC = ["src"], UC = vs(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/search.svg" }, null, -1)), GC = [UC], RC = { class: "join_vip ml mr" }, DC = vs(() => o("div", { class: "submission_icon mr" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/drop_down.svg" })], -1)), MC = { class: "submission_text" }, FC = { class: "message ml mr" }, HC = vs(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/message.svg" }, null, -1)), VC = [HC], zC = vs(() => o("div", { class: "notice_icon" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/notice.svg" })], -1)), BC = { class: "notice_title" }, WC = { class: "notice_content" }, JC = { class: "notice_time" }, KC = { class: "useravatar_img" }, YC = ["src"], qC = vs(() => o("div", { class: "useravatar_icon ml" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/drop_down.svg" })], -1)), QC = { __name: "head_title", setup(e) { const t = ke(); let s = f("https://www.sunyuanling.com/image/主页.png"), n = f("投稿作品"), i = f("https://www.sunyuanling.com/image/avatar_thumbnail/87328997_p0.jpg"), l = f("加入ILLWeb会员"), a = f(!1), c = f("left:0px;"), r = f(!1), _ = f(!1), d = Ie(() => t.getters.chat_page), u = f([]), p = f(); u.value = JSON.parse(at("userinfo")); let m = Ie(() => t.getters.search_page), x = f(null), g = f(null), k = f(null), y = f(); W(async () => { await qo(), y.value = await qo(at("token"), "search"); let ee = ""; ee = await f4(at("token")), console.log(ee), i.value = "https://www.sunyuanling.com/image/avatar_thumbnail/" + ee[0].user_avatar }); let v = f(!1); function $() { v.value = !v.value } function E() { v.value = !1 } function L(ee) { ee.target.closest(".notice") || (v.value = !1) } W(() => { document.addEventListener("click", L); var ee = document.querySelector(".submission"); document.addEventListener("click", function (te) { ee.contains(te.target) || (r.value = !1) }) }), V(p, (ee, te) => { p.value = ee }); async function T() { if (g.value) try { const ee = await g.value.get_search_data(p.value) } catch (ee) { console.log(ee) } } function N() { t.commit("SET_SINGLE_PAGE_STATUS", { key: "search_page", value: !0 }) } function R(ee) { console.log(ee), t.commit("SET_SINGLE_PAGE_STATUS", { key: "search_page", value: !1 }), p.value = null } function X() { t.commit("SET_SINGLE_PAGE_STATUS", { key: "chat_page", value: !0 }) } function j(ee) { console.log(ee), d.value = !1 } function _e() { var ee = document.querySelector(".useravatar"); document.addEventListener("click", function (te) { ee.contains(te.target) || (_.value = !1) }), _.value == !0 ? _.value = !1 : _.value = !0 } function J() { var ee = 4.166666666666667, te = 60, oe = document.getElementById("sidebar"), ve = document.querySelector(".show_more"); document.addEventListener("click", function (le) { !oe.contains(le.target) && !ve.contains(le.target) && me(0, -250, ee, te, Q) }); var Q = 100; console.log("test"), a.value == !1 ? (me(-250, 0, ee, te, Q), console.log("true")) : (me(0, -250, ee, te, Q), console.log("false")) } function me(ee, te, oe, ve, Q) { if (ee >= te) { let Ge = function () { if (le >= ve) { c.value = "left:-250px;", a.value = !1; return } c.value = "left:" + (ee - oe * le) + "px;", le++, setTimeout(Ge, xe) }; var Ue = Ge, le = 0, xe = Q / ve; Ge() } if (ee <= te) { let Ge = function () { if (ne >= ve) { c.value = "left:0px;", a.value = !0; return } a.value = !0, c.value = "left:" + (ee + oe * ne) + "px;", ne++, setTimeout(Ge, fe) }; var qe = Ge, ne = 0, fe = Q / ve; Ge() } } return (ee, te) => b(u) ? (h(), w("div", AC, [o("div", IC, [o("div", { class: "show_more_icon", onClick: J }, NC), ue(o("div", { class: "sidebar", id: "sidebar", style: st(b(c)) }, [M(B4)], 4), [[Nt, b(a)]])]), o("div", jC, [o("a", LC, [o("img", { src: b(s) }, null, 8, PC)])]), o("div", { class: "input_box", ref_key: "input_box", ref: x }, [ue(o("input", { "onUpdate:modelValue": te[0] || (te[0] = oe => de(p) ? p.value = oe : p = oe), placeholder: "搜索作品", onFocus: N }, null, 544), [[Oe, b(p)]]), o("div", { class: "search_icon", onClick: T }, GC)], 512), o("div", RC, [o("span", null, S(b(l)), 1)]), o("div", { class: "submission ml mr", onClick: te[1] || (te[1] = oe => de(r) ? r.value = !b(r) : r = !b(r)) }, [DC, o("div", MC, [o("span", null, S(b(n)), 1)]), o("div", { class: ge(["submission_work_box", b(r) ? "submission_work_box_drop" : ""]) }, [M(a6)], 2)]), o("div", FC, [o("div", { class: "message_icon", onClick: te[2] || (te[2] = oe => X()) }, VC)]), o("div", { class: "notice ml mr", onClick: te[4] || (te[4] = oe => $()), onBlur: E, ref_key: "notice_box", ref: k }, [zC, b(y) && b(v) ? (h(), w("div", { key: 0, class: "notice_box", onClick: te[3] || (te[3] = oe => b(qo)()) }, [(h(!0), w(B, null, se(b(y), (oe, ve) => (h(), w("div", { class: "notice_item", key: ve }, [o("div", BC, S(oe.title), 1), o("div", WC, S(oe.content), 1), o("div", JC, S(oe.last_modified_time), 1)]))), 128))])) : I("", !0)], 544), o("div", { class: "useravatar ml mr", onClick: _e }, [o("div", KC, [o("img", { src: b(i) }, null, 8, YC)]), qC]), b(d) ? (h(), re(O3, { key: 0, class: "chat_page", onClose_page: j })) : I("", !0), ue(M(T6, null, null, 512), [[Nt, b(_)]]), b(m) ? (h(), re(EC, { key: 1, search_item: b(p), onClose_msg: R, ref_key: "search_page_click", ref: g }, null, 8, ["search_item"])) : I("", !0)])) : I("", !0) } }, XC = G(QC, [["__scopeId", "data-v-7dc3b6c8"]]), ZC = { name: "header_box", components: { head_title: XC } }, eT = { class: "header_box" }; function tT(e, t, s, n, i, l) { const a = Pl("head_title"); return h(), w("div", eT, [M(a)]) } const za = G(ZC, [["render", tT]]), ts = e => (Y("data-v-38a43178"), e = e(), q(), e), sT = { class: "ill_work_info" }, oT = { class: "content" }, nT = { class: "work_info" }, iT = { class: "work_tags" }, lT = ts(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/add.svg" }, null, -1)), aT = [lT], cT = { class: "age_classification" }, rT = ts(() => o("span", null, "年龄分段：", -1)), _T = ts(() => o("div", { class: "important_tips" }, [o("span", null, [$e(" 以下作品禁止投稿。请在投稿之前进行确认。 "), o("ol", null, [o("li", null, "他人制作的作品，发售中的商品图像，第三者持有权利的图像，游戏、视频作品的截图，包含屏幕截图图像的作品。 "), o("li", null, "挪用以上图像，从最初开始并非全部由您自己创作的作品。作品以外的照片图像。"), o("li", null, " 违反使用条款的作品投稿用户，将被停止公开投稿作品，停止账号使用。")])])], -1)), uT = ts(() => o("span", null, "确定", -1)), dT = ts(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/select_correct.svg" }, null, -1)), fT = [uT, dT], hT = ts(() => o("span", null, "清空", -1)), pT = ts(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), gT = [hT, pT], mT = { __name: "ill_work_info", emits: ["work_info"], setup(e, { emit: t }) { const s = f([]), n = f(""), i = f(""), l = f(""), a = f(""), c = t, r = () => { a.value && (s.value.push(a.value), a.value = "", _()) }, _ = () => { const u = { name: n.value, brief_introduction: i.value, age_classification: l.value, work_tags: s.value }; c("work_info", u) }; V([n, i, l, s], _, { deep: !0 }); const d = () => { n.value = "", i.value = "", l.value = "", s.value = [], _() }; return (u, p) => (h(), w("div", sT, [o("div", oT, [o("div", nT, [ue(o("input", { placeholder: "标题", "onUpdate:modelValue": p[0] || (p[0] = m => n.value = m) }, null, 512), [[Oe, n.value]]), ue(o("textarea", { placeholder: "描述/简介", "onUpdate:modelValue": p[1] || (p[1] = m => i.value = m), style: { resize: "vertical" } }, null, 512), [[Oe, i.value]])]), o("div", iT, [ue(o("input", { placeholder: "作品标签", "onUpdate:modelValue": p[2] || (p[2] = m => a.value = m) }, null, 512), [[Oe, a.value]]), o("div", { class: "add_tag_btn", onClick: r }, aT), (h(!0), w(B, null, se(s.value, (m, x) => (h(), w("div", { class: "tags_list", key: x }, [o("span", null, "#" + S(m), 1)]))), 128))]), o("div", cT, [rT, ue(o("input", { type: "radio", name: "age", value: "16", "onUpdate:modelValue": p[3] || (p[3] = m => l.value = m) }, null, 512), [[wt, l.value]]), $e("全年龄 "), ue(o("input", { type: "radio", name: "age", value: "18", "onUpdate:modelValue": p[4] || (p[4] = m => l.value = m) }, null, 512), [[wt, l.value]]), $e("R-18 "), ue(o("input", { type: "radio", name: "age", value: "18G", "onUpdate:modelValue": p[5] || (p[5] = m => l.value = m) }, null, 512), [[wt, l.value]]), $e("R-18G ")]), _T, o("div", { class: "sure_btn" }, [o("div", { class: "sure", onClick: _ }, fT), o("div", { class: "cancel", onClick: d }, gT)])])])) } }, vT = G(mT, [["__scopeId", "data-v-38a43178"]]), ss = e => (Y("data-v-89e7dc67"), e = e(), q(), e), wT = { class: "ill_page" }, yT = { class: "upload_work_box" }, kT = { key: 0, class: "upload_btn_box" }, bT = ss(() => o("div", { class: "upload_svg" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/photo.svg" }), o("img", { src: "https://www.sunyuanling.com/assets/add.svg", class: "add_icon" })], -1)), $T = { key: 1, class: "work_statement" }, xT = ss(() => o("span", null, "格式：JPEG/JPG/GIF/PNG/TIFF", -1)), ST = ss(() => o("span", null, "大小：32MB以下", -1)), CT = ss(() => o("span", null, "数量：200张以下，合计不超过300MB", -1)), TT = [xT, ST, CT], ET = { key: 2, class: "upload_work_list" }, AT = { class: "tips_info" }, IT = { class: "item" }, OT = ["src"], NT = ["onClick"], jT = ss(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), LT = [jT], PT = { class: "filename" }, UT = ss(() => o("img", { class: "add_icon", src: "https://www.sunyuanling.com/assets/add.svg" }, null, -1)), GT = [UT], RT = ss(() => o("span", null, "投稿", -1)), DT = [RT], MT = { __name: "ill_page", setup(e) { let t = f([]), s = f(0), n = f(0), i = f({}), l = f(JSON.parse(Ee("userinfo"))); console.log(l.value); function a(p) { i.value = p, i.value.username = l.value.username, i.value.userid = l.value.userid, i.value.work_type = "ill", i.value.token = Ee("token"), console.log(i.value) } function c() { document.getElementById("upload_work_file").click() } V(() => t.value, p => { let m = 0; for (let x = 0; x < p.length; x++)m += p[x].file.size; s.value = m, n.value = p.length }); function r(p) { const m = p.target.files; let x = 0; for (let g = 0; g < m.length; g++)x += m[g].size; if (m.length > 200 - t.value.length) { alert("不能超过200个文件！"); return } if (x > 300 * 1024 * 1024 - t.value.reduce((g, k) => g + k.file.size, 0)) { alert("文件总大小不能超过300MB！"); return } for (let g = 0; g < m.length; g++) { const k = m[g], y = new FileReader; y.onload = v => { t.value.push({ file: k, url: v.target.result, filename: k.name }) }, y.readAsDataURL(k) } } function _(p) { requestAnimationFrame(() => { t.value.splice(p, 1) }) } function d() { c() } async function u() { try { const p = new FormData; t.value.forEach((x, g) => { p.append("files", x.file, x.file.name) }), p.append("work_info", JSON.stringify(i.value)); const m = await fetch("https://www.sunyuanling.com/api/file/UploadFile/", { method: "POST", body: p }); if (m.ok) { const x = await m.json(); console.log(x.message), alert("上传成功") } else console.log("服务器错误"), console.log(m.status) } catch (p) { console.log(p) } console.log("提交作品信息", i.value, t.value) } return (p, m) => (h(), w("div", wT, [o("div", yT, [o("input", { type: "file", id: "upload_work_file", accept: "image/*", style: { display: "none" }, ref: "upload_work_file", multiple: "", onChange: r }, null, 544), b(t).length <= 0 ? (h(), w("div", kT, [o("div", { class: "upload_btn", onClick: m[0] || (m[0] = x => c()) }, [bT, $e(" 上传作品 ")])])) : I("", !0), b(t).length <= 0 ? (h(), w("div", $T, TT)) : I("", !0), b(t).length > 0 ? (h(), w("div", ET, [o("div", AT, " 文件数量：" + S(b(t).length) + " 文件总大小：" + S((b(s) / (1024 * 1024)).toFixed(2)) + "MB ", 1), o("div", IT, [(h(!0), w(B, null, se(b(t), (x, g) => (h(), w("div", { class: "work_item", key: x.filename }, [o("img", { src: x.url, alt: "文件预览" }, null, 8, OT), o("div", { class: "delete_btn", onClick: k => _(g) }, LT, 8, NT), o("div", PT, S(x.filename), 1)]))), 128)), o("div", { class: "add_work_btn", onClick: d }, GT)])])) : I("", !0)]), M(vT, { onWork_info: a }), o("div", { class: "submit_btn", onClick: u }, DT)])) } }, Ba = G(MT, [["__scopeId", "data-v-89e7dc67"]]), os = e => (Y("data-v-76b136b2"), e = e(), q(), e), FT = { class: "ill_work_info" }, HT = { class: "content" }, VT = { class: "work_info" }, zT = { class: "work_tags" }, BT = os(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/add.svg" }, null, -1)), WT = [BT], JT = { class: "age_classification" }, KT = os(() => o("span", null, "年龄分段：", -1)), YT = os(() => o("div", { class: "important_tips" }, [o("span", null, [$e(" 以下作品禁止投稿。请在投稿之前进行确认。 "), o("ol", null, [o("li", null, "他人制作的作品，发售中的商品图像，第三者持有权利的图像，游戏、视频作品的截图，包含屏幕截图图像的作品。 "), o("li", null, "挪用以上图像，从最初开始并非全部由您自己创作的作品。作品以外的照片图像。"), o("li", null, " 违反使用条款的作品投稿用户，将被停止公开投稿作品，停止账号使用。")])])], -1)), qT = os(() => o("span", null, "确定", -1)), QT = os(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/select_correct.svg" }, null, -1)), XT = [qT, QT], ZT = os(() => o("span", null, "清空", -1)), eE = os(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), tE = [ZT, eE], sE = { __name: "comic_work_info", emits: ["work_info"], setup(e, { emit: t }) { const s = f([]), n = f(""), i = f(""), l = f(""), a = f(""), c = t, r = () => { a.value && (s.value.push(a.value), a.value = "", _()) }, _ = () => { const u = { name: n.value, brief_introduction: i.value, age_classification: l.value, work_tags: s.value }; c("work_info", u) }; V([n, i, l, s], _, { deep: !0 }); const d = () => { n.value = "", i.value = "", l.value = "", s.value = [], _() }; return (u, p) => (h(), w("div", FT, [o("div", HT, [o("div", VT, [ue(o("input", { placeholder: "标题", "onUpdate:modelValue": p[0] || (p[0] = m => n.value = m) }, null, 512), [[Oe, n.value]]), ue(o("textarea", { placeholder: "描述/简介", "onUpdate:modelValue": p[1] || (p[1] = m => i.value = m), style: { resize: "vertical" } }, null, 512), [[Oe, i.value]])]), o("div", zT, [ue(o("input", { placeholder: "作品标签", "onUpdate:modelValue": p[2] || (p[2] = m => a.value = m) }, null, 512), [[Oe, a.value]]), o("div", { class: "add_tag_btn", onClick: r }, WT), (h(!0), w(B, null, se(s.value, (m, x) => (h(), w("div", { class: "tags_list", key: x }, [o("span", null, "#" + S(m), 1)]))), 128))]), o("div", JT, [KT, ue(o("input", { type: "radio", name: "age", value: "16", "onUpdate:modelValue": p[3] || (p[3] = m => l.value = m) }, null, 512), [[wt, l.value]]), $e("全年龄 "), ue(o("input", { type: "radio", name: "age", value: "18", "onUpdate:modelValue": p[4] || (p[4] = m => l.value = m) }, null, 512), [[wt, l.value]]), $e("R-18 "), ue(o("input", { type: "radio", name: "age", value: "18G", "onUpdate:modelValue": p[5] || (p[5] = m => l.value = m) }, null, 512), [[wt, l.value]]), $e("R-18G ")]), YT, o("div", { class: "sure_btn" }, [o("div", { class: "sure", onClick: _ }, XT), o("div", { class: "cancel", onClick: d }, tE)])])])) } }, oE = G(sE, [["__scopeId", "data-v-76b136b2"]]), ns = e => (Y("data-v-052f2389"), e = e(), q(), e), nE = { class: "ill_page" }, iE = { class: "upload_work_box" }, lE = { key: 0, class: "upload_btn_box" }, aE = ns(() => o("div", { class: "upload_svg" }, [o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/photo.svg" }), o("img", { src: "https://www.sunyuanling.com/assets/add.svg", class: "add_icon" })], -1)), cE = { key: 1, class: "work_statement" }, rE = ns(() => o("span", null, "格式：JPEG/JPG/GIF/PNG/TIFF", -1)), _E = ns(() => o("span", null, "大小：32MB以下", -1)), uE = ns(() => o("span", null, "数量：200张以下，合计不超过300MB", -1)), dE = [rE, _E, uE], fE = { key: 2, class: "upload_work_list" }, hE = { class: "tips_info" }, pE = { class: "item" }, gE = ["src"], mE = ["onClick"], vE = ns(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), wE = [vE], yE = { class: "filename" }, kE = ns(() => o("img", { class: "add_icon", src: "https://www.sunyuanling.com/assets/add.svg" }, null, -1)), bE = [kE], $E = ns(() => o("span", null, "投稿", -1)), xE = [$E], SE = { __name: "comic_page", setup(e) { let t = f([]), s = f(0), n = f(0), i = f({}), l = f(JSON.parse(Ee("userinfo"))); console.log(l.value); function a(p) { i.value = p, i.value.username = l.value.username, i.value.userid = l.value.userid, i.value.work_type = "comic", i.value.token = Ee("token"), console.log(i.value) } function c() { document.getElementById("upload_work_file").click() } V(() => t.value, p => { let m = 0; for (let x = 0; x < p.length; x++)m += p[x].file.size; s.value = m, n.value = p.length }); function r(p) { const m = p.target.files; let x = 0; for (let g = 0; g < m.length; g++)x += m[g].size; if (m.length > 200 - t.value.length) { alert("不能超过200个文件！"); return } if (x > 300 * 1024 * 1024 - t.value.reduce((g, k) => g + k.file.size, 0)) { alert("文件总大小不能超过300MB！"); return } for (let g = 0; g < m.length; g++) { const k = m[g], y = new FileReader; y.onload = v => { t.value.push({ file: k, url: v.target.result, filename: k.name }) }, y.readAsDataURL(k) } } function _(p) { requestAnimationFrame(() => { t.value.splice(p, 1) }) } function d() { c() } async function u() { try { const p = new FormData; t.value.forEach((x, g) => { p.append("files", x.file, x.file.name) }), p.append("work_info", JSON.stringify(i.value)); const m = await fetch("https://www.sunyuanling.com/api/file/UploadFile/", { method: "POST", body: p }); if (m.ok) { const x = await m.json(); console.log(x.message), alert("上传成功") } else console.log("服务器错误"), console.log(m.status) } catch (p) { console.log(p) } console.log("提交作品信息", i.value, t.value) } return (p, m) => (h(), w("div", nE, [o("div", iE, [o("input", { type: "file", id: "upload_work_file", accept: "image/*", style: { display: "none" }, ref: "upload_work_file", multiple: "", onChange: r }, null, 544), b(t).length <= 0 ? (h(), w("div", lE, [o("div", { class: "upload_btn", onClick: m[0] || (m[0] = x => c()) }, [aE, $e(" 上传作品 ")])])) : I("", !0), b(t).length <= 0 ? (h(), w("div", cE, dE)) : I("", !0), b(t).length > 0 ? (h(), w("div", fE, [o("div", hE, " 文件数量：" + S(b(t).length) + " 文件总大小：" + S((b(s) / (1024 * 1024)).toFixed(2)) + "MB ", 1), o("div", pE, [(h(!0), w(B, null, se(b(t), (x, g) => (h(), w("div", { class: "work_item", key: x.filename }, [o("img", { src: x.url, alt: "文件预览" }, null, 8, gE), o("div", { class: "delete_btn", onClick: k => _(g) }, wE, 8, mE), o("div", yE, S(x.filename), 1)]))), 128)), o("div", { class: "add_work_btn", onClick: d }, bE)])])) : I("", !0)]), M(oE, { onWork_info: a }), o("div", { class: "submit_btn", onClick: u }, xE)])) } }, Wa = G(SE, [["__scopeId", "data-v-052f2389"]]), CE = { class: "select_title" }, TE = ["src"], EE = ["src"], AE = { key: 0, class: "select_list" }, IE = ["onClick"], OE = { class: "select_item_text" }, NE = ["src"], jE = { name: "rewrite_select" }, LE = Object.assign(jE, { props: { select_title: { type: String, default: "新建系列" }, select_list: { type: Array, default: () => ["新建系列"] }, drop_down_icon_path: { type: String, default: "https://www.sunyuanling.com/assets/drop_down.svg" }, drop_up_icon_path: { type: String, default: "https://www.sunyuanling.com/assets/drop_up.svg" }, select_item_check: { type: String, default: "https://www.sunyuanling.com/assets/correct.svg" } }, emits: ["select-item"], setup(e, { emit: t }) { const s = e, n = f(s.drop_down_icon_path), i = f(s.drop_up_icon_path), l = f(s.select_title), a = f(s.select_list), c = f(s.select_item_check), r = f(!1), _ = f(null), d = f(!1), u = t; function p($) { u("select-item", $) } V(_, $ => { $ && p($) }), V(() => s.select_title, $ => { l.value = $ }), V(() => s.select_list, $ => { a.value = $ }), V(() => s.drop_down_icon_path, $ => { n.value = $ }), V(() => s.drop_up_icon_path, $ => { i.value = $ }), V(() => s.select_item_check, $ => { c.value = $ }); function m() { r.value = !r.value } function x($, E) { E.stopPropagation(), _.value = $, l.value = $, r.value = !1 } function g() { d.value = !0 } function k($) { d.value || (r.value = !1), d.value = !1 } document.addEventListener("click", k), $t(() => { document.removeEventListener("click", k) }); function y($) { $.style.maxHeight = "none", $.style.opacity = "1" } function v($) { $.style.maxHeight = "0", $.style.opacity = "0" } return W(() => { n.value = s.drop_down_icon_path, i.value = s.drop_up_icon_path, l.value = s.select_title, a.value = s.select_list, c.value = s.select_item_check }), ($, E) => (h(), w("div", { class: "select_box", onClick: g }, [o("div", { class: "select", onClick: m }, [o("span", CE, S(l.value), 1), r.value ? (h(), w("img", { key: 1, class: "drop_down", src: i.value }, null, 8, EE)) : (h(), w("img", { key: 0, class: "drop_down", src: n.value }, null, 8, TE))]), M(Ms, { name: "select-list", onAfterEnter: y, onAfterLeave: v }, { default: yo(() => [r.value ? (h(), w("div", AE, [(h(!0), w(B, null, se(a.value, (L, T) => (h(), w("div", { class: "select_item", key: T, onClick: N => x(L, N) }, [o("span", OE, S(L), 1), _.value === L ? (h(), w("img", { key: 0, class: "select_item_check", src: c.value }, null, 8, NE)) : I("", !0)], 8, IE))), 128))])) : I("", !0)]), _: 1 })])) } }), Ja = G(LE, [["__scopeId", "data-v-f667942c"]]), PE = ["maxlength", "rows", "placeholder"], UE = { __name: "auto_textarea", props: { modelValue: { type: String, default: "" }, maxlength: { type: Number, default: 3e3 }, rows: { type: Number, default: 4 }, placeholder: { type: String, default: "自动文本框" }, initialWidth: { type: String, default: "100%" }, initialHeight: { type: String, default: "auto" }, allowResizeWidth: { type: Boolean, default: !1 }, allowResizeHeight: { type: Boolean, default: !0 }, fontsize: { type: Number, default: 16 }, lineheight: { type: Number, default: 1.5 } }, emits: ["update:modelValue"], setup(e, { emit: t }) { const s = t, n = e, i = f(null), l = f(n.modelValue), a = () => { i.value && (i.value.style.height = "auto", i.value.style.height = `${i.value.scrollHeight}px`) }; return V(() => n.modelValue, c => { l.value = c, a() }), V(() => l.value, c => { s("update:modelValue", c), a() }), W(() => { a() }), (c, r) => ue((h(), w("textarea", { ref_key: "textarea", ref: i, maxlength: e.maxlength, rows: e.rows, placeholder: e.placeholder, style: st({ width: e.initialWidth, height: e.initialHeight, resize: e.allowResizeWidth && e.allowResizeHeight ? "both" : e.allowResizeHeight ? "vertical" : "none", fontSize: e.fontsize + "px", lineHeight: e.lineheight }), "onUpdate:modelValue": r[0] || (r[0] = _ => l.value = _), onInput: a }, null, 44, PE)), [[Oe, l.value]]) } }, Ka = G(UE, [["__scopeId", "data-v-fc57f83e"]]), GE = e => (Y("data-v-8cf32c37"), e = e(), q(), e), RE = GE(() => o("div", { class: "toggle-circle" }, null, -1)), DE = [RE], ME = { __name: "switch_btn", emits: ["change_status"], setup(e, { emit: t }) { const s = f(!1); let n = t; function i() { n("change_status", s.value) } const l = () => { s.value = !s.value, i() }; return (a, c) => (h(), w("div", { class: "toggle-container", onClick: l }, [o("div", { class: ge(["toggle-switch", { on: s.value }]) }, DE, 2)])) } }, Ya = G(ME, [["__scopeId", "data-v-8cf32c37"]]), FE = e => (Y("data-v-a4bc4c9b"), e = e(), q(), e), HE = { class: "preview_cover" }, VE = FE(() => o("span", null, "封面预览", -1)), zE = { class: "cover_box" }, BE = ["src"], WE = { __name: "preview_cover", props: { title: { type: String, default: "示例标题" }, template_name: { type: String, default: "template_1" }, file: { type: File, default: null } }, emits: ["temp_cover_path"], setup(e, { emit: t }) { const s = f(""), n = Ee("token"), i = e, l = t, a = async () => { try { const r = await fetch("https://www.sunyuanling.com/api/file/GetPreviewCover/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: n, template_name: i.template_name, title: i.title }) }); if (r.ok) { const _ = await r.json(); if (_.status === "success") return _.cover_path; console.log(_.message) } else console.log("网络错误" + r.status) } catch (r) { console.log(r) } }, c = async () => { if (i.file) { const r = new FileReader; r.onload = _ => { s.value = _.target.result }, r.readAsDataURL(i.file) } else i.title || i.template_name ? (s.value = "https://www.sunyuanling.com/image/novel/temp_cover/" + await a(), console.log("服务器绘制封面")) : s.value = ""; l("temp_cover_path", s.value) }; return W(async () => { await c() }), V(() => ({ ...i }), async (r, _) => { (r.file !== _.file || r.title !== _.title || r.template_name !== _.template_name) && (s.value = "", await c()) }, { deep: !0 }), (r, _) => (h(), w("div", HE, [VE, o("div", zE, [o("img", { src: s.value, alt: "封面预览", ref: "cover_img" }, null, 8, BE)])])) } }, JE = G(WE, [["__scopeId", "data-v-a4bc4c9b"]]), Xn = e => (Y("data-v-abece274"), e = e(), q(), e), KE = { class: "is_original" }, YE = Xn(() => o("span", null, [o("b", null, "描写内容")], -1)), qE = { class: "is_original_box" }, QE = Xn(() => o("span", null, "是否为原创", -1)), XE = Xn(() => o("div", { class: "tips" }, [o("span", { style: { color: "rgba(77,77,77,0.8)", "font-size": "14px" } }, "若该作品的所有内容（如：故事、人物、设定等）都是您的原创，请选择此项。")], -1)), ZE = { __name: "is_original", emits: ["series_info"], setup(e, { emit: t }) { let s = f("选择作品类型"), n = f(["恋爱", "异世界穿越", "现代奇幻", "悬疑", "恐怖", "科幻", "日常", "历史", "百合", "同人向", "其他文体", "随笔", "剧本", "轻小说", "游戏", "种田", "其他"]), i = f(), l = f(!1); function a(_) { i.value = _ } function c(_) { l.value = _ } let r = t; return V([i, l], () => { r("series_info", { series_name: i.value, is_original: l.value }) }), (_, d) => (h(), w("div", KE, [YE, o("div", qE, [M(Ya, { onChange_status: c }), QE]), XE, M(Ja, { select_title: b(s), select_list: b(n), onSelectItem: a, style: { "z-index": "5" } }, null, 8, ["select_title", "select_list"])])) } }, e7 = G(ZE, [["__scopeId", "data-v-abece274"]]), Me = e => (Y("data-v-fdf9e5d7"), e = e(), q(), e), t7 = { class: "create_new_series" }, s7 = { class: "background" }, o7 = { class: "title" }, n7 = Me(() => o("div", null, null, -1)), i7 = Me(() => o("span", { style: { "font-weight": "bold" } }, "新建系列", -1)), l7 = Me(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), a7 = [l7], c7 = { class: "content" }, r7 = { class: "work_title" }, _7 = Me(() => o("label", { style: { "font-weight": "bold" } }, "系列标题", -1)), u7 = { class: "work_name" }, d7 = Me(() => o("label", { style: { "font-weight": "bold" } }, "作品名称", -1)), f7 = { class: "work_introducation" }, h7 = Me(() => o("label", { style: { "font-weight": "bold" } }, "作品介绍", -1)), p7 = { class: "tags_box" }, g7 = { class: "add_tag_btn" }, m7 = Me(() => o("label", { style: { "font-weight": "bold" } }, "作品标签", -1)), v7 = { class: "tags_list" }, w7 = ["onClick"], y7 = Me(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), k7 = [y7], b7 = { class: "age_classification" }, $7 = Me(() => o("label", { style: { "font-weight": "bold" } }, "作品年龄分类", -1)), x7 = { class: "age_classification_list" }, S7 = Me(() => o("label", null, "全年龄", -1)), C7 = Me(() => o("span", null, "R-18", -1)), T7 = Me(() => o("span", null, "R-18G", -1)), E7 = { class: "work_status" }, A7 = Me(() => o("span", null, "连载中", -1)), I7 = { class: "choose_cover", style: { gap: "10px", display: "flex", "flex-direction": "column" } }, O7 = Me(() => o("span", null, "封面", -1)), N7 = { class: "cover_list" }, j7 = { class: "btn_box" }, L7 = Me(() => o("span", null, "确定", -1)), P7 = [L7], U7 = Me(() => o("span", null, "取消", -1)), G7 = [U7], R7 = { __name: "create_new_series", emits: ["close_create_new_series", "new_series_info"], setup(e, { emit: t }) { let s = Ee("token"), n = JSON.parse(Ee("userinfo")); const i = t, l = f({}), a = f(["template_1.jpg", "template_2.jpg", "template_3.jpg", "template_4.jpg", "template_5.jpg", "template_6.jpg", "template_7.jpg"]); function c() { const R = "https://www.sunyuanling.com/image/novel/cover_material/"; return a.value.map(X => R + X) } function r() { i("close_create_new_series", !1) } function _() { i("new_series_info", l.value) } let d = f(); const u = f({ work_name: "", title: "", introducation: "", tags: [], age_classification: "", work_status: "", choose_cover_path: "", token: s, user_info: n, cover_type: "default_cover" }); let p = f(null); function m(R) { u.value.tags.splice(R, 1) } function x() { const R = d.value.trim(); if (R === "") { alert("标签不能为空！"); return } if (u.value.tags.includes(R)) { alert("标签已存在！"); return } u.value.tags.push(R), d.value = "" } let g = R => { u.value.user_choose_cover_path = R }; V(u, R => { l.value = { ...R }, _(), console.log(R) }, { deep: !0 }); const k = f(null); V(() => u.value.tags, R => { k.value && (k.value.value = R.split(",")) }); function y(R) { u.value.work_status = R ? "连载中" : "已完结", console.log(u.value) } function v(R) { p.value = R } function $() { p.value = null } function E(R) { R != "custom_cover" ? (u.value.choose_cover_path = R, p.value = null) : (console.log("自定义封面"), u.value.cover_type = "custom_cover") } V(() => u.value.title, () => { p.value = null }), V(() => u.value.choose_cover_path, () => { p.value = null }); let L = f(); function T(R) { L.value = R, u.value.series_name = L.value.series_name, u.value.is_original = L.value.is_original } async function N() { console.log("work_info", u.value); let R = new FormData; R.append("file", p.value), R.append("work_info", JSON.stringify(u.value)); try { const X = await fetch("https://www.sunyuanling.com/api/file/UploadNewSeries/", { method: "POST", body: R }); if (X.ok) { const j = await X.json(); j.status == "success", alert(j.message) } else console.log("服务器错误"), console.log(X.status) } catch (X) { console.log(X) } } return (R, X) => (h(), w("div", t7, [o("div", s7, [o("div", o7, [n7, i7, o("div", { class: "close_btn", onClick: X[0] || (X[0] = j => r()) }, a7)]), o("div", c7, [o("div", r7, [_7, ue(o("input", { type: "text", "onUpdate:modelValue": X[1] || (X[1] = j => u.value.title = j), maxlength: "100" }, null, 512), [[Oe, u.value.title]])]), o("div", u7, [d7, ue(o("input", { type: "text", "onUpdate:modelValue": X[2] || (X[2] = j => u.value.work_name = j), maxlength: "100" }, null, 512), [[Oe, u.value.work_name]])]), o("div", f7, [h7, M(Ka, { style: { border: "1px solid rgba(77,77,77,0.8)" }, modelValue: u.value.introducation, "onUpdate:modelValue": X[3] || (X[3] = j => u.value.introducation = j), maxlength: 3e5, rows: 5, placeholder: "请输入作品介绍...", fontsize: 14, lineheight: 1.6 }, null, 8, ["modelValue"])]), o("div", p7, [o("div", g7, [m7, ue(o("input", { type: "text", "onUpdate:modelValue": X[4] || (X[4] = j => de(d) ? d.value = j : d = j), placeholder: "请输入标签...", onKeyup: E_(x, ["enter"]) }, null, 544), [[Oe, b(d)]])]), o("div", v7, [(h(!0), w(B, null, se(u.value.tags, (j, _e) => (h(), w("div", { class: "tag_item", key: _e }, [o("span", null, S(j), 1), o("div", { class: "delete_btn", onClick: J => m(_e) }, k7, 8, w7)]))), 128))])]), o("div", b7, [$7, o("div", x7, [ue(o("input", { type: "radio", value: "16", name: "age_classification", "onUpdate:modelValue": X[5] || (X[5] = j => u.value.age_classification = j) }, null, 512), [[wt, u.value.age_classification]]), S7, ue(o("input", { type: "radio", value: "18", name: "age_classification", "onUpdate:modelValue": X[6] || (X[6] = j => u.value.age_classification = j) }, null, 512), [[wt, u.value.age_classification]]), C7, ue(o("input", { type: "radio", value: "18+", name: "age_classification", "onUpdate:modelValue": X[7] || (X[7] = j => u.value.age_classification = j) }, null, 512), [[wt, u.value.age_classification]]), T7])]), o("div", E7, [M(Ya, { onChange_status: y }), A7]), o("div", I7, [O7, o("div", N7, [M(Ra, { msg_type: "image", msg_list: c(), onChose_item: E, onChoose_cover_file: v, onClear_cover_file: $ }, null, 8, ["msg_list"])])]), M(JE, { title: u.value.title, template_name: u.value.choose_cover_path, file: b(p), onTemp_cover_path: b(g), onClear_uploaded_file: $ }, null, 8, ["title", "template_name", "file", "onTemp_cover_path"]), M(e7, { onSeries_info: T }), o("div", j7, [o("div", { class: "sure_btn", onClick: X[8] || (X[8] = j => N()) }, P7), o("div", { class: "cancel_btn", onClick: X[9] || (X[9] = j => r()) }, G7)])])])])) } }, D7 = G(R7, [["__scopeId", "data-v-fdf9e5d7"]]), is = e => (Y("data-v-a60568be"), e = e(), q(), e), M7 = { class: "novel_page" }, F7 = is(() => o("div", { class: "page_title" }, " 小说投稿 ", -1)), H7 = { class: "content" }, V7 = is(() => o("span", null, "投稿形式", -1)), z7 = { class: "work_typeof" }, B7 = is(() => o("label", { for: "" }, "系列作品", -1)), W7 = is(() => o("label", { for: "" }, "单篇完结作品", -1)), J7 = is(() => o("div", { class: "contribute_tips", style: { "margin-top": "10px", color: "rgba(77,77,77,0.9)", "font-size": "14px" } }, [o("span", null, "若是连载作品，或是类似短篇小说集等分多个篇章叙述的作品，还请选为系列作品进行投稿。 在新建系列后才能投稿系列作品。")], -1)), K7 = { class: "work_series" }, Y7 = { class: "work_item" }, q7 = { class: "work_title" }, Q7 = { style: { position: "absolute", right: "2px", color: "rgba(77,77,77,0.6)" } }, X7 = { class: "work_content" }, Z7 = { style: { position: "absolute", right: "0px", top: "100%", color: "rgba(77,77,77,0.6)" } }, eA = { class: "btn_box" }, tA = is(() => o("span", null, "确定", -1)), sA = [tA], oA = is(() => o("div", { class: "hr", style: { "border-top": "1px solid rgba(77,77,77,0.3)", "margin-top": "50px", height: "1px", width: "90%", "margin-left": "auto", "margin-right": "auto" } }, null, -1)), nA = { name: "novel_page" }, iA = Object.assign(nA, { setup(e) { let t = Ee("token"), s = f("新建系列"), n = f(["新建系列", "作品系列一"]), i = f(null), l = f(), a = f(""), c = f(a.value.length), r = f(""), _ = f(r.value.length), d = f(!1); V(r, () => { _.value = r.value.length }), V(a, () => { c.value = a.value.length }); function u(k) { l.value = k, console.log(k) } function p() { l.value == "新建系列" ? d.value = !0 : d.value = !1 } V(l, k => { p() }); function m() { d.value = !1 } async function x() { let k = []; n.value = ["新建系列"]; try { let y = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetUserWorkSeries/", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: t }) }); if (!y.ok) { console.error("HTTP error:", y.status); return } const v = await y.json(); if (v.status === "success") { k = v.data; const $ = k.map(E => E.work_series).filter(Boolean); n.value = [...new Set([...n.value, ...$])] } else alert(v.message) } catch (y) { console.error("Fetch error:", y) } } W(async () => { await x() }); async function g() { let k = a.value.replace(/\n/g, "\\n"); try { const y = await fetch("https://www.sunyuanling.com/api/novel/UploadNewChapter/", { method: "post", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ token: t, series_name: l.value, chapter_name: r.value, content: k, is_series: i.value.value }) }); if (y.ok) { const v = await y.json(); v.status == "success", alert(v.message) } else console.log("服务器错误") } catch (y) { console.log(y) } } return (k, y) => (h(), w("div", M7, [F7, o("div", H7, [V7, o("div", z7, [o("input", { type: "radio", value: "系列作品", name: "novel_typeof", ref_key: "novel_typeof", ref: i }, null, 512), B7, o("input", { type: "radio", value: "单篇完结作品", name: "novel_typeof", ref_key: "novel_typeof", ref: i }, null, 512), W7, J7]), o("div", K7, [M(Ja, { select_title: b(s), select_list: b(n), onSelectItem: u }, null, 8, ["select_title", "select_list"])]), o("div", Y7, [o("div", q7, [ue(o("input", { type: "text", placeholder: "作品标题", "onUpdate:modelValue": y[0] || (y[0] = v => de(r) ? r.value = v : r = v), maxlength: "100" }, null, 512), [[Oe, b(r)]]), o("span", Q7, S(b(_)) + "/100", 1)]), o("div", X7, [M(Ka, { modelValue: b(a), "onUpdate:modelValue": y[1] || (y[1] = v => de(a) ? a.value = v : a = v), maxlength: 3e5, rows: 5, placeholder: "请输入正文内容...", fontsize: 14, lineheight: 1.6 }, null, 8, ["modelValue"]), o("span", Z7, S(b(c)) + "/300000", 1)])]), o("div", eA, [o("div", { class: "sure_btn", onClick: y[2] || (y[2] = v => g()) }, sA)])]), b(d) ? (h(), re(D7, { key: 0, onClose_create_new_series: m })) : I("", !0), oA])) } }), qa = G(iA, [["__scopeId", "data-v-a60568be"]]), Po = e => (Y("data-v-4ebcb628"), e = e(), q(), e), lA = { class: "index" }, aA = { class: "choose_page" }, cA = Po(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/close.svg" }, null, -1)), rA = [cA], _A = Po(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/photo.svg" }, null, -1)), uA = Po(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/comic.svg" }, null, -1)), dA = Po(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/assets/novel.svg" }, null, -1)), fA = { name: "index", components: { ill_page: Ba, comic_page: Wa, novel_page: qa } }, hA = Object.assign(fA, { setup(e) { const t = ke(); let s = f(); function n() { t.commit("SET_SINGLE_PAGE_STATUS", { key: "upload_work", value: !1 }) } return V(() => t.getters.upload_work_type, i => { s.value = i, console.log(i) }), W(() => { s.value = t.getters.upload_work_type }), (i, l) => (h(), w("div", lA, [o("div", aA, [o("div", { class: "close_btn", onClick: l[0] || (l[0] = a => n()) }, rA), o("span", { onClick: l[1] || (l[1] = a => de(s) ? s.value = "ill" : s = "ill"), class: ge(["choose_page_item", { select: b(s) === "ill" }]) }, [_A, $e(" 插画")], 2), o("span", { onClick: l[2] || (l[2] = a => de(s) ? s.value = "comic" : s = "comic"), class: ge(["choose_page_item", { select: b(s) === "comic" }]) }, [uA, $e(" 漫画")], 2), o("span", { onClick: l[3] || (l[3] = a => de(s) ? s.value = "novel" : s = "novel"), class: ge(["choose_page_item", { select: b(s) === "novel" }]) }, [dA, $e(" 小说")], 2)]), b(s) == "ill" ? (h(), re(Ba, { key: 0 })) : b(s) == "comic" ? (h(), re(Wa, { key: 1 })) : b(s) == "novel" ? (h(), re(qa, { key: 2 })) : I("", !0)])) } }), Qa = G(hA, [["__scopeId", "data-v-4ebcb628"]]), Zn = e => (Y("data-v-0b318b17"), e = e(), q(), e), pA = { class: "root_page" }, gA = Zn(() => o("img", { src: "https://www.sunyuanling.com/assets/cat.svg", class: "icon" }, null, -1)), mA = Zn(() => o("span", null, "喵喵喵~", -1)), vA = [gA, mA], wA = { key: 2, class: "loading" }, yA = Zn(() => o("img", { class: "icon", src: "https://www.sunyuanling.com/image/loading.gif" }, null, -1)), kA = [yA], bA = { name: "root_page", components: { index: Da, header_box: za, upload_page: Qa } }, $A = Object.assign(bA, { setup(e) { const t = ke(); let s = f(0), n = f(0), i = f(0), l = f(0), a = f(!1), c = Ie(() => t.getters.upload_work), r = Ie(() => t.getters.index_page), _ = Ie(() => t.getters.content_index_page), d = Ie(() => t.getters.user_center_page), u = Ie(() => t.getters.token), p = Ie(() => t.getters.other_user_center_page), m = Ie(() => t.getters.other_userid); function x() { const y = new URL(window.location.href), v = y.searchParams.get("token"); if (v && (!Ee("token") || Ee("token") === "")) { Wo("token", v); const $ = y.origin + y.pathname; window.history.replaceState({}, document.title, $) } } W(() => { x(), document.onmousemove = y => { s.value = y.clientY, n.value = y.clientX + 20, i.value = 1, l.value = 0 }, document.onmousedown = y => { i.value = 1, l.value = 0; const v = setInterval(() => { i.value -= .05, l.value -= 2, i.value <= 0 && clearInterval(v) }, 50) } }); async function g() { try { const y = await fetch("https://www.sunyuanling.com/api/GetUserInfo/GetAllUserInfo/", { method: "post", headers: { "Content-Type": "application/json", Authorization: `Bearer ${Ee("token")}` }, body: JSON.stringify({ userid: null, token: Ee("token") }) }); if (y.ok) { const v = await y.json(); v.status == "success" ? (Wo("userinfo", JSON.stringify(v.data[0]), { secure: !0, "max-age": 3600, path: "/", HttpOnly: !0 }), a.value = !0) : (console.log("用户未登录"), window.location.href = "https://localhost:3000") } else y.status == 400 ? (console.log("用户未登录"), Jo(), window.location.href = "https://localhost:3000") : (console.log("网络错误"), Jo(), window.location.href = "https://localhost:3000") } catch (y) { console.log("获取用户信息失败:", y), Jo(), window.location.href = "https://localhost:3000" } } async function k() { try { const y = await fetch("https://www.sunyuanling.com/api/GetUserInfo/Login/", { method: "post", headers: { "Content-Type": "application/json", Authorization: `Bearer ${Ee("token")}` }, body: JSON.stringify({ userid: null, token: Ee("token") }) }); if (y.ok) { const v = await y.json(); v.status == "success" && (Wo("token", v.token, { secure: !0, "max-age": 3600, path: "/", HttpOnly: !0 }), t.commit("SET_TOKEN", v.token)) } } catch (y) { console.log("登录验证失败:", y) } } return W(async () => { await g(), await k() }), (y, v) => (h(), w("div", pA, [o("div", { class: "cursor_action", style: st({ top: b(s) + "px", left: b(n) + "px", opacity: b(i), transform: `translateY(${b(l)}px)` }) }, vA, 4), b(a) ? (h(), re(za, { key: 0 })) : I("", !0), b(a) && b(r) ? (h(), re(Da, { key: 1 })) : I("", !0), b(a) ? I("", !0) : (h(), w("div", wA, kA)), b(c) ? (h(), re(Qa, { key: 3 })) : I("", !0), b(_) ? (h(), re(sw, { key: 4 })) : I("", !0), b(d) ? (h(), re(X0, { key: 5, token: b(u) }, null, 8, ["token"])) : I("", !0), b(p) ? (h(), re(F2, { key: 6, userid: b(m) }, null, 8, ["userid"])) : I("", !0)])) } }), xA = G($A, [["__scopeId", "data-v-0b318b17"]]), SA = { components: { Root: xA } }; function CA(e, t, s, n, i, l) { const a = Pl("root"); return h(), re(a) } const TA = G(SA, [["render", CA]]);/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function Xa(e, t) { return t = { exports: {} }, e(t, t.exports), t.exports } var wn = Xa(function (e) { const t = Object.prototype.toString, s = Object.prototype.propertyIsEnumerable, n = Object.getOwnPropertySymbols; e.exports = (l, ...a) => { if (!i(l)) throw new TypeError("expected the first argument to be an object"); if (a.length === 0 || typeof Symbol != "function" || typeof n != "function") return l; for (let c of a) { let r = n(c); for (let _ of r) s.call(c, _) && (l[_] = c[_]) } return l }; function i(l) { return typeof l == "function" || t.call(l) === "[object Object]" || Array.isArray(l) } }), tl = Object.freeze({ __proto__: null, default: wn, __moduleExports: wn }), EA = tl && wn || tl, sl = Xa(function (e) { const t = Object.prototype.toString, s = a => a !== "__proto__" && a !== "constructor" && a !== "prototype", n = e.exports = (a, ...c) => { let r = 0; for (l(a) && (a = c[r++]), a || (a = {}); r < c.length; r++)if (i(c[r])) { for (const _ of Object.keys(c[r])) s(_) && (i(a[_]) && i(c[r][_]) ? n(a[_], c[r][_]) : a[_] = c[r][_]); EA(a, c[r]) } return a }; function i(a) { return typeof a == "function" || t.call(a) === "[object Object]" } function l(a) { return typeof a == "object" ? a === null : typeof a != "function" } }); const Rt = typeof window < "u" && window !== null, ol = AA(); function AA() { return Rt && "IntersectionObserver" in window && "IntersectionObserverEntry" in window && "intersectionRatio" in window.IntersectionObserverEntry.prototype ? ("isIntersecting" in window.IntersectionObserverEntry.prototype || Object.defineProperty(window.IntersectionObserverEntry.prototype, "isIntersecting", { get: function () { return this.intersectionRatio > 0 } }), !0) : !1 } const Jt = { event: "event", observer: "observer" }; function xs(e, t) { if (!e.length) return; const s = e.indexOf(t); if (s > -1) return e.splice(s, 1) } function nl(e, t) { if (e.tagName !== "IMG" || !e.getAttribute("data-srcset")) return ""; let s = e.getAttribute("data-srcset").trim().split(","); const n = [], l = e.parentNode.offsetWidth * t; let a, c, r; s.forEach(u => { u = u.trim(), a = u.lastIndexOf(" "), a === -1 ? (c = u, r = 99999) : (c = u.substr(0, a), r = parseInt(u.substr(a + 1, u.length - a - 2), 10)), n.push([r, c]) }), n.sort((u, p) => { if (u[0] < p[0]) return 1; if (u[0] > p[0]) return -1; if (u[0] === p[0]) { if (p[1].indexOf(".webp", p[1].length - 5) !== -1) return 1; if (u[1].indexOf(".webp", u[1].length - 5) !== -1) return -1 } return 0 }); let _ = "", d; for (let u = 0; u < n.length; u++) { d = n[u], _ = d[1]; const p = n[u + 1]; if (p && p[0] < l) { _ = d[1]; break } else if (!p) { _ = d[1]; break } } return _ } const IA = (e = 1) => Rt && window.devicePixelRatio || e; function OA() { if (!Rt) return !1; let e = !0; function t(s, n) { const i = { lossy: "UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA", lossless: "UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==", alpha: "UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==", animation: "UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA" }, l = new Image; l.onload = function () { const a = l.width > 0 && l.height > 0; n(a) }, l.onerror = function () { n(!1) }, l.src = "data:image/webp;base64," + i[s] } return t("lossy", s => { e = s }), t("lossless", s => { e = s }), t("alpha", s => { e = s }), t("animation", s => { e = s }), e } function NA(e, t) { let s = null, n = 0; return function () { if (s) return; const i = Date.now() - n, l = this, a = arguments, c = function () { n = Date.now(), s = !1, e.apply(l, a) }; i >= t ? c() : s = setTimeout(c, t) } } function jA() { if (!Rt) return !1; let e = !1; try { const t = Object.defineProperty({}, "passive", { get: function () { e = !0 } }); window.addEventListener("test", ei, t) } catch { } return e } const LA = jA(), PA = { on(e, t, s, n = !1) { LA ? e.addEventListener(t, s, { capture: n, passive: !0 }) : e.addEventListener(t, s, n) }, off(e, t, s, n = !1) { e.removeEventListener(t, s, n) } }, yn = (e, t, s) => { let n = new Image; if (!e || !e.src) { const i = new Error("image src is required"); return s(i) } e.cors && (n.crossOrigin = e.cors), n.src = e.src, n.onload = function () { t({ naturalHeight: n.naturalHeight, naturalWidth: n.naturalWidth, src: n.src }), n = null }, n.onerror = function (i) { s(i) } }, Qo = (e, t) => typeof getComputedStyle < "u" ? getComputedStyle(e, null).getPropertyValue(t) : e.style[t], UA = e => Qo(e, "overflow") + Qo(e, "overflowY") + Qo(e, "overflowX"), GA = e => { if (!Rt) return; if (!(e instanceof Element)) return window; let t = e; for (; t && !(t === document.body || t === document.documentElement || !t.parentNode);) { if (/(scroll|auto)/.test(UA(t))) return t; t = t.parentNode } return window }; function RA(e) { return e !== null && typeof e == "object" } function ei() { } class DA { constructor(t) { this.max = t || 100, this._caches = [] } has(t) { return this._caches.indexOf(t) > -1 } add(t) { this.has(t) || (this._caches.push(t), this._caches.length > this.max && this.free()) } free() { this._caches.shift() } } class MA { constructor(t, s, n, i, l, a, c, r, _, d) { this.el = t, this.src = s, this.error = n, this.loading = i, this.bindType = l, this.attempt = 0, this.cors = r, this.naturalHeight = 0, this.naturalWidth = 0, this.options = c, this.rect = {}, this.$parent = a, this.elRenderer = _, this._imageCache = d, this.performanceData = { init: Date.now(), loadStart: 0, loadEnd: 0 }, this.filter(), this.initState(), this.render("loading", !1) } initState() { "dataset" in this.el ? this.el.dataset.src = this.src : this.el.setAttribute("data-src", this.src), this.state = { loading: !1, error: !1, loaded: !1, rendered: !1 } } record(t) { this.performanceData[t] = Date.now() } update(t) { const s = this.src; this.src = t.src, this.loading = t.loading, this.error = t.error, this.filter(), s !== this.src && (this.attempt = 0, this.initState()) } getRect() { this.rect = this.el.getBoundingClientRect() } checkInView() { return this.getRect(), this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0 } filter() { for (const t in this.options.filter) this.options.filter[t](this, this.options) } renderLoading(t) { this.state.loading = !0, yn({ src: this.loading, cors: this.cors }, () => { this.render("loading", !1), this.state.loading = !1, t() }, () => { t(), this.state.loading = !1, this.options.silent || console.warn(`VueLazyload log: load failed with loading image(${this.loading})`) }) } load(t = ei) { if (this.attempt > this.options.attempt - 1 && this.state.error) { this.options.silent || console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`), t(); return } if (!(this.state.rendered && this.state.loaded)) { if (this._imageCache.has(this.src)) return this.state.loaded = !0, this.render("loaded", !0), this.state.rendered = !0, t(); this.renderLoading(() => { this.attempt++, this.options.adapter.beforeLoad && this.options.adapter.beforeLoad(this, this.options), this.record("loadStart"), yn({ src: this.src, cors: this.cors }, s => { this.naturalHeight = s.naturalHeight, this.naturalWidth = s.naturalWidth, this.state.loaded = !0, this.state.error = !1, this.record("loadEnd"), this.render("loaded", !1), this.state.rendered = !0, this._imageCache.add(this.src), t() }, s => { !this.options.silent && console.error(s), this.state.error = !0, this.state.loaded = !1, this.render("error", !1) }) }) } } render(t, s) { this.elRenderer(this, t, s) } performance() { let t = "loading", s = 0; return this.state.loaded && (t = "loaded", s = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1e3), this.state.error && (t = "error"), { src: this.src, state: t, time: s } } $destroy() { this.el = null, this.src = "", this.error = null, this.loading = "", this.bindType = null, this.attempt = 0 } } const il = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7", FA = ["scroll", "wheel", "mousewheel", "resize", "animationend", "transitionend", "touchmove"], HA = { rootMargin: "0px", threshold: 0 }; class VA { constructor({ preLoad: t, error: s, throttleWait: n, preLoadTop: i, dispatchEvent: l, loading: a, attempt: c, silent: r = !0, scale: _, listenEvents: d, filter: u, adapter: p, observer: m, observerOptions: x }) { this.version = '"3.0.0"', this.lazyContainerMananger = null, this.mode = Jt.event, this.ListenerQueue = [], this.TargetIndex = 0, this.TargetQueue = [], this.options = { silent: r, dispatchEvent: !!l, throttleWait: n || 200, preLoad: t || 1.3, preLoadTop: i || 0, error: s || il, loading: a || il, attempt: c || 3, scale: _ || IA(_), listenEvents: d || FA, supportWebp: OA(), filter: u || {}, adapter: p || {}, observer: !!m, observerOptions: x || HA }, this._initEvent(), this._imageCache = new DA(200), this.lazyLoadHandler = NA(this._lazyLoadHandler.bind(this), this.options.throttleWait), this.setMode(this.options.observer ? Jt.observer : Jt.event) } performance() { const t = []; return this.ListenerQueue.map(s => t.push(s.performance())), t } addLazyBox(t) { this.ListenerQueue.push(t), Rt && (this._addListenerTarget(window), this._observer && this._observer.observe(t.el), t.$el && t.$el.parentNode && this._addListenerTarget(t.$el.parentNode)) } add(t, s, n) { if (this.ListenerQueue.some(r => r.el === t)) return this.update(t, s), it(this.lazyLoadHandler); let { src: i, loading: l, error: a, cors: c } = this._valueFormatter(s.value); it(() => { i = nl(t, this.options.scale) || i, this._observer && this._observer.observe(t); const r = Object.keys(s.modifiers)[0]; let _; r && (_ = s.instance.$refs[r], _ = _ ? _.el || _ : document.getElementById(r)), _ || (_ = GA(t)); const d = new MA(t, i, a, l, s.arg, _, this.options, c, this._elRenderer.bind(this), this._imageCache); this.ListenerQueue.push(d), Rt && (this._addListenerTarget(window), this._addListenerTarget(_)), it(this.lazyLoadHandler) }) } update(t, s, n) { let { src: i, loading: l, error: a } = this._valueFormatter(s.value); i = nl(t, this.options.scale) || i; const c = this.ListenerQueue.find(r => r.el === t); c ? c.update({ src: i, loading: l, error: a }) : (t.getAttribute("lazy") !== "loaded" || t.dataset.src !== i) && this.add(t, s, n), this._observer && (this._observer.unobserve(t), this._observer.observe(t)), it(this.lazyLoadHandler) } remove(t) { if (!t) return; this._observer && this._observer.unobserve(t); const s = this.ListenerQueue.find(n => n.el === t); s && (this._removeListenerTarget(s.$parent), this._removeListenerTarget(window), xs(this.ListenerQueue, s), s.$destroy && s.$destroy()) } removeComponent(t) { t && (xs(this.ListenerQueue, t), this._observer && this._observer.unobserve(t.el), t.$parent && t.$el.parentNode && this._removeListenerTarget(t.$el.parentNode), this._removeListenerTarget(window)) } setMode(t) { !ol && t === Jt.observer && (t = Jt.event), this.mode = t, t === Jt.event ? (this._observer && (this.ListenerQueue.forEach(s => { this._observer.unobserve(s.el) }), this._observer = null), this.TargetQueue.forEach(s => { this._initListen(s.el, !0) })) : (this.TargetQueue.forEach(s => { this._initListen(s.el, !1) }), this._initIntersectionObserver()) } _addListenerTarget(t) { if (!t) return; let s = this.TargetQueue.find(n => n.el === t); return s ? s.childrenCount++ : (s = { el: t, id: ++this.TargetIndex, childrenCount: 1, listened: !0 }, this.mode === Jt.event && this._initListen(s.el, !0), this.TargetQueue.push(s)), this.TargetIndex } _removeListenerTarget(t) { this.TargetQueue.forEach((s, n) => { s.el === t && (s.childrenCount--, s.childrenCount || (this._initListen(s.el, !1), this.TargetQueue.splice(n, 1), s = null)) }) } _initListen(t, s) { this.options.listenEvents.forEach(n => PA[s ? "on" : "off"](t, n, this.lazyLoadHandler)) } _initEvent() { this.Event = { listeners: { loading: [], loaded: [], error: [] } }, this.$on = (t, s) => { this.Event.listeners[t] || (this.Event.listeners[t] = []), this.Event.listeners[t].push(s) }, this.$once = (t, s) => { const n = this; function i() { n.$off(t, i), s.apply(n, arguments) } this.$on(t, i) }, this.$off = (t, s) => { if (!s) { if (!this.Event.listeners[t]) return; this.Event.listeners[t].length = 0; return } xs(this.Event.listeners[t], s) }, this.$emit = (t, s, n) => { this.Event.listeners[t] && this.Event.listeners[t].forEach(i => i(s, n)) } } _lazyLoadHandler() { const t = []; this.ListenerQueue.forEach((s, n) => { (!s.el || !s.el.parentNode || s.state.loaded) && t.push(s), s.checkInView() && (s.state.loaded || s.load()) }), t.forEach(s => { xs(this.ListenerQueue, s), s.$destroy && s.$destroy() }) } _initIntersectionObserver() { ol && (this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions), this.ListenerQueue.length && this.ListenerQueue.forEach(t => { this._observer.observe(t.el) })) } _observerHandler(t) { t.forEach(s => { s.isIntersecting && this.ListenerQueue.forEach(n => { if (n.el === s.target) { if (n.state.loaded) return this._observer.unobserve(n.el); n.load() } }) }) } _elRenderer(t, s, n) { if (!t.el) return; const { el: i, bindType: l } = t; let a; switch (s) { case "loading": a = t.loading; break; case "error": a = t.error; break; default: a = t.src; break }if (l ? i.style[l] = 'url("' + a + '")' : i.getAttribute("src") !== a && i.setAttribute("src", a), i.setAttribute("lazy", s), this.$emit(s, t, n), this.options.adapter[s] && this.options.adapter[s](t, this.options), this.options.dispatchEvent) { const c = new CustomEvent(s, { detail: t }); i.dispatchEvent(c) } } _valueFormatter(t) { return RA(t) ? (!t.src && !this.options.silent && console.error("Vue Lazyload warning: miss src with " + t), { src: t.src, loading: t.loading || this.options.loading, error: t.error || this.options.error, cors: this.options.cors }) : { src: t, loading: this.options.loading, error: this.options.error, cors: this.options.cors } } } const Za = (e, t) => { let s = Ut({}); const n = () => { s = e.value.getBoundingClientRect() }; return { rect: s, checkInView: () => (n(), Rt && s.top < window.innerHeight * t && s.bottom > 0 && s.left < window.innerWidth * t && s.right > 0) } }; var zA = e => Hl({ props: { tag: { type: String, default: "div" } }, emits: ["show"], setup(t, { emit: s, slots: n }) { const i = f(), l = Ut({ loaded: !1, error: !1, attempt: 0 }), a = f(!1), { rect: c, checkInView: r } = Za(i, e.options.preLoad), _ = () => { a.value = !0, l.loaded = !0, s("show", a.value) }, d = Ie(() => ({ el: i.value, rect: c, checkInView: r, load: _, state: l })); return W(() => { e.addLazyBox(d.value), e.lazyLoadHandler() }), $t(() => { e.removeComponent(d.value) }), () => { var u; return M(t.tag, { ref: i }, [a.value && ((u = n.default) === null || u === void 0 ? void 0 : u.call(n))]) } } }); class BA { constructor(t) { this.lazy = t, t.lazyContainerMananger = this, this._queue = [] } bind(t, s, n) { const i = new JA(t, s, n, this.lazy); this._queue.push(i) } update(t, s, n) { const i = this._queue.find(l => l.el === t); i && i.update(t, s) } unbind(t, s, n) { const i = this._queue.find(l => l.el === t); i && (i.clear(), xs(this._queue, i)) } } const WA = { selector: "img", error: "", loading: "" }; class JA { constructor(t, s, n, i) { this.el = t, this.vnode = n, this.binding = s, this.options = {}, this.lazy = i, this._queue = [], this.update(t, s) } update(t, s) { this.el = t, this.options = sl({}, WA, s.value), this.getImgs().forEach(i => { this.lazy.add(i, sl({}, this.binding, { value: { src: i.getAttribute("data-src") || i.dataset.src, error: i.getAttribute("data-error") || i.dataset.error || this.options.error, loading: i.getAttribute("data-loading") || i.dataset.loading || this.options.loading } }), this.vnode) }) } getImgs() { return Array.from(this.el.querySelectorAll(this.options.selector)) } clear() { this.getImgs().forEach(s => this.lazy.remove(s)), this.vnode = null, this.binding = null, this.lazy = null } } var KA = e => Hl({ setup(t, { slots: s }) { const n = f(), i = Ut({ src: "", error: "", loading: "", attempt: e.options.attempt }), l = Ut({ loaded: !1, error: !1, attempt: 0 }), { rect: a, checkInView: c } = Za(n, e.options.preLoad), r = f(""), _ = (p = ei) => { if (l.attempt > i.attempt - 1 && l.error) return e.options.silent || console.log(`VueLazyload log: ${i.src} tried too more than ${i.attempt} times`), p(); const m = i.src; yn({ src: m }, ({ src: x }) => { r.value = x, l.loaded = !0 }, () => { l.attempt++, r.value = i.error, l.error = !0 }) }, d = Ie(() => ({ el: n.value, rect: a, checkInView: c, load: _, state: l })); W(() => { e.addLazyBox(d.value), e.lazyLoadHandler() }), $t(() => { e.removeComponent(d.value) }); const u = () => { const { src: p, loading: m, error: x } = e._valueFormatter(t.src); l.loaded = !1, i.src = p, i.error = x, i.loading = m, r.value = i.loading }; return V(() => t.src, () => { u(), e.addLazyBox(d.value), e.lazyLoadHandler() }, { immediate: !0 }), () => { var p; return M(t.tag || "img", { src: r.value, ref: n }, [(p = s.default) === null || p === void 0 ? void 0 : p.call(s)]) } } }), YA = { install(e, t = {}) { const s = new VA(t), n = new BA(s); if (Number(e.version.split(".")[0]) < 3) return new Error("Vue version at least 3.0"); e.config.globalProperties.$Lazyload = s, e.provide("Lazyload", s), t.lazyComponent && e.component("lazy-component", zA(s)), t.lazyImage && e.component("lazy-image", KA(s)), e.directive("lazy", { beforeMount: s.add.bind(s), beforeUpdate: s.update.bind(s), updated: s.lazyLoadHandler.bind(s), unmounted: s.remove.bind(s) }), e.directive("lazy-container", { beforeMount: n.bind.bind(n), updated: n.update.bind(n), unmounted: n.unbind.bind(n) }) } }; const qA = 500, kn = iu({ state: { pageStatus: { upload_work: !1, upload_work_type: "", index_page: !0, indexPage: 0, search_page: !1, chat_page: !1, content_index_page: !1, user_center_page: !1, other_user_center_page: !1 }, content_page: { ill_page: !1, comic_page: !1, novel_page: !1, img_content_page: !1, item_path: "" }, token: "", userinfo: {}, work_id: "", work_type: "", other_userid: "", pageStack: [], pushTimer: null }, mutations: { SET_USERINFO(e, t) { e.userinfo = t }, SET_TOKEN(e, t) { e.token = t }, SET_PAGESTATUS(e, t) { e.pageStatus = { ...e.pageStatus, ...t } }, SET_UPLOAD_WORK(e, t) { e.pageStatus.upload_work = t }, SET_UPLOAD_WORK_TYPE(e, t) { e.pageStatus.upload_work_type = t }, SET_INDEX_PAGE(e, t) { e.pageStatus.index_page = t }, SET_KEY(e, { key: t, value: s }) { e.pageStatus[t] = s }, SET_INDEXPAGE(e, t) { e.pageStatus.indexPage = t }, SET_SEARCH_PAGE(e, t) { e.pageStatus.search_page = t }, SET_SINGLE_PAGE_STATUS(e, { key: t, value: s }) { if (t === "all") { for (const i in e.pageStatus) Object.prototype.hasOwnProperty.call(e.pageStatus, i) && typeof e.pageStatus[i] == "boolean" && (e.pageStatus[i] = !1); return } for (const i in e.pageStatus) Object.prototype.hasOwnProperty.call(e.pageStatus, i) && typeof e.pageStatus[i] == "boolean" && (e.pageStatus[i] = !1); e.pageStatus[t] = s, Object.keys(e.pageStatus).every(i => typeof e.pageStatus[i] != "boolean" || e.pageStatus[i] === !1) && (e.pageStatus.index_page = !0) }, SET_CONTENT_PAGE(e, { key: t, value: s }) { for (const n in e.content_page) Object.prototype.hasOwnProperty.call(e.content_page, n) && typeof e.content_page[n] == "boolean" && (e.content_page[n] = !1); e.content_page[t] = s }, SET_WORK_ID(e, t) { e.work_id = t }, PUSH_PAGE_STATE(e) { e.pageStack.length >= qA && e.pageStack.shift(), e.pageStack.push({ pageStatus: JSON.parse(JSON.stringify(e.pageStatus)), content_page: JSON.parse(JSON.stringify(e.content_page)) }) }, POP_PAGE_STATE(e) { if (e.pageStack.length > 0) { const t = e.pageStack.pop(); e.pageStatus = t.pageStatus, e.content_page = t.content_page } }, RESET_PAGE_STACK(e) { e.pageStack = [], e.pushTimer = null }, SET_ITEM_PATH(e, t) { e.content_page.item_path = t }, SET_WORK_TYPE(e, t) { e.work_type = t }, SET_OTHER_USERID(e, t) { e.other_userid = t } }, actions: { goBack({ commit: e }) { e("POP_PAGE_STATE") } }, getters: { userinfo: e => e.userinfo, token: e => e.token, upload_work: e => e.pageStatus.upload_work, upload_work_type: e => e.pageStatus.upload_work_type, index_page: e => e.pageStatus.index_page, indexPage: e => e.pageStatus.indexPage, search_page: e => e.pageStatus.search_page, chat_page: e => e.pageStatus.chat_page, ill_page: e => e.content_page.ill_page, comic_page: e => e.content_page.comic_page, novel_page: e => e.content_page.novel_page, work_id: e => e.work_id, img_content_page: e => e.content_page.img_content_page, content_index_page: e => e.pageStatus.content_index_page, pageStack: e => e.pageStack, item_path: e => e.content_page.item_path, work_type: e => e.work_type, user_center_page: e => e.pageStatus.user_center_page, other_user_center_page: e => e.pageStatus.other_user_center_page, other_userid: e => e.other_userid } }), QA = 50, ti = O_(TA); ti.use(YA, { preLoad: 1.3, error: "https://www.sunyuanling.com/assets/default_avatar.svg", loading: "https://www.sunyuanling.com/assets/下载加载.mp4", attempt: 1 }); kn.subscribe((e, t) => { (e.type === "SET_PAGESTATUS" || e.type === "SET_CONTENT_PAGE" || e.type === "SET_SINGLE_PAGE_STATUS" || e.type === "SET_INDEX_PAGE") && (t.pushTimer && clearTimeout(t.pushTimer), t.pushTimer = setTimeout(() => { t.pushTimer = null, kn.commit("PUSH_PAGE_STATE") }, QA)) }); ti.use(kn); ti.mount("#app");
